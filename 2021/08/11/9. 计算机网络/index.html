

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/Lsh.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="暂无摘要">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
  <title>计算机网络与安全 - laobanjiu</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.7.2/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"laobanjiu9527.github.io","root":"/","version":"1.8.11","typing":{"enable":true,"typeSpeed":70,"cursorChar":" ","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>老斑鸠</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/snoopy3.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="计算机网络与安全">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2021-08-11 11:47" pubdate>
        2021年8月11日 中午
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      60.2k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      638
       分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">计算机网络与安全</h1>
            
            <div class="markdown-body">
              <h1 id="1-计算机网络体系结构"><a href="#1-计算机网络体系结构" class="headerlink" title="1. 计算机网络体系结构"></a>1. 计算机网络体系结构</h1><h2 id="1-1-计算机网络概述"><a href="#1-1-计算机网络概述" class="headerlink" title="1.1 计算机网络概述"></a>1.1 计算机网络概述</h2><p>21 世纪的一些重要特征就是数字化、网络化和信息化，它是一个以网络为核心的倍息时代。网络对社会生活的很多方面以及对社会经济的发展己经产生了不可估量的影响。</p>
<p>三网合一主要指的是“电信网络”、“有线电视网络”、“计算机网络”。</p>
<h3 id="1-1-1-计算机网络概念"><a href="#1-1-1-计算机网络概念" class="headerlink" title="1.1.1 计算机网络概念"></a>1.1.1 计算机网络概念</h3><p>计算机网络是指分布在不同地理位置上的具有独立功能的多个计算机系统，通过通信设备和通信线路互连起来，在网络软件的管理下实现数据传输和资源共享的系统。</p>
<h3 id="1-1-2-计算机网络发展"><a href="#1-1-2-计算机网络发展" class="headerlink" title="1.1.2 计算机网络发展"></a>1.1.2 计算机网络发展</h3><ol>
<li><p>第一阶段</p>
<p>1969 年美国国防部建立了世界上第一个 ARPANET 网络。</p>
<p><img src="/images/image-20210811120525303.png" srcset="/img/loading.gif" lazyload alt="image-20210811120525303"></p>
</li>
<li><p>第二阶段</p>
<p>三级结构网络阶段，1985 年，美国国家科学基金会 NSF 围绕六个大型的计算机中心建设计算机网络，即国家科学基金网 NSFNET。它是第一个三级网络，分为，主干网、地区网和校园网（企业网）。</p>
</li>
<li><p>第三阶段</p>
<p>第三阶段的特点是逐渐形成多层次的 ISP 结构的 internet。1993 年美国资助的NSFNEF 网络被若干个商用的因特网主干网代替，政府不再复制因特网的运营。因特网服务提供商 ISP（internet service provider）。ISP 拥有从因特网管理机构申请多个 IP 地址，同时拥有通信线路，路由等通信连接设备。任何机构或个人可以向 ISP 缴纳费用，从而获取 IP 地址，获取网络服务。</p>
<p><img src="/images/image-20210811120757910.png" srcset="/img/loading.gif" lazyload alt="image-20210811120757910"></p>
</li>
</ol>
<h3 id="1-1-3-计算机网络功能"><a href="#1-1-3-计算机网络功能" class="headerlink" title="1.1.3 计算机网络功能"></a>1.1.3 计算机网络功能</h3><ol>
<li><p>数据通信</p>
<p>计算机网络主要提供传真、电子邮件、电子数据交换（EDI）、电子公告牌（BBS）、远程登录和浏览等数据通信服务。</p>
</li>
<li><p>资源共享</p>
<p>凡是入网用户均能享受网络中各个计算机系统的全部或部分软件、硬件和数据资源，为最本质的功能。</p>
</li>
<li><p>提高系统可靠性</p>
<p>网络中的每台计算机都可通过网络相互成为后备机。一旦某台计算机出现故障，它的任务就可由其他的计算机代为完成，这样可以避免在单机情况下，一台计算机发生故障引起整个系统瘫痪的现象，从而提高系统的可靠性。</p>
</li>
<li><p>提高性能</p>
<p>当网络中的某台计算机负担过重时，网络又可以将新的任务交给较空闲的计算机完成，均衡负载，从而提高了每台计算机的可用性。</p>
</li>
<li><p>分布式处理</p>
<p>通过算法将大型的综合性问题交给不同的计算机同时进行处理。用户可以根据需要合理选择网络资源，就近快速地进行处理。</p>
</li>
</ol>
<h3 id="1-1-4-计算机网络组成"><a href="#1-1-4-计算机网络组成" class="headerlink" title="1.1.4 计算机网络组成"></a>1.1.4 计算机网络组成</h3><ol>
<li><p>边缘部分</p>
<p>资源子网：由所有连接在因特网上的主机组成。这部分是用户直接使用的，用来进行通信（传送数据、音频或视频）和资源共享。</p>
</li>
<li><p>核心部分</p>
<p>通信子网：由大量网络和连接这些网络的路由器组成。这部分是为边缘部分提供服务的（提供连通性和交换）。</p>
<p><img src="/images/image-20210811121302746.png" srcset="/img/loading.gif" lazyload alt="image-20210811121302746"></p>
</li>
</ol>
<p>处在因特网边缘的部分就是连接在因特网上的所有的主机。这些主机又称为端系统（end system）。</p>
<p>“主机 A 和主机 B 进行通信”，实际上是指：“运行在主机 A 上的某个程序和运行在主机 B 上的另一个程序进行通信”。</p>
<p>即“主机 A 的某个进程和主机 B 上的另一个进程进行通信”。或简称为“计算机之间通信”</p>
<h3 id="1-1-5-网络分类"><a href="#1-1-5-网络分类" class="headerlink" title="1.1.5 网络分类"></a>1.1.5 网络分类</h3><ol>
<li><p>按作用范围</p>
<ol>
<li>局域网（LAN）</li>
</ol>
<p>局域网（Local Area Network，LAN）是指在某一区域内由多台计算机互联成的计算机组。一般是方圆几千米以内。局域网可以实现文件管理、应用软件共享、打印机共享、工作组内的日程安排、电子邮件和传真通信服务等功能。局域网是封闭型的，可以由办公室内的两台计算机组成，也可以由一个公司内的上千台计算机组成。</p>
<ol start="2">
<li>城域网（MAN）</li>
</ol>
<p>城域网（Metropolitan Area Network）是在一个城市范围内所建立的计算机通信网，简称 MAN。属宽带局域网。由于采用具有有源交换元件的局域网技术，网中传输时延较小，它的传输媒介主要采用光缆，传输速率在 100 兆比特/秒以上。</p>
<ol start="3">
<li>广域网（WAN）</li>
</ol>
<p>广域网（WAN，Wide Area Network）也称远程网（long haul network ）。通常跨接很大的物理范围，所覆盖的范围从几十公里到几千公里，它能连接多个城市或国家，或横跨几个洲并能提供远距离通信，形成国际性的远程网络。</p>
</li>
<li><p>按拓扑结构</p>
<p><img src="/images/image-20210811121759726.png" srcset="/img/loading.gif" lazyload alt="image-20210811121759726"></p>
<ol>
<li>星型拓扑结构</li>
</ol>
<p>星形拓扑结构是一种以中央节点为中心，把若干外围节点连接起来的辐射式互联结构，各结点与中央结点通过点与点方式连接，中央结点执行集中式通信控制策略，因此中央结点相当复杂，负担也重。</p>
<ol start="2">
<li>树型拓扑结构</li>
</ol>
<p>树形拓扑结构是一种层次结构，结点按层次连结，信息交换主要在上下结点之间进行，相邻结点或同层结点之间一般不进行数据交换。</p>
<ol start="3">
<li>总线型拓扑结构</li>
</ol>
<p>总线型拓扑是采用单根传输作为共用的传输介质，将网络中所有的计算机通过相应的硬件接口和电缆直接连接到这根共享的总线上。使用总线型拓扑结构需解决的是确保用户使用媒体发送数据时不能冲突。</p>
<p>在点到点的链路配置时，如果链路是半双工操作，只需使用简单的机制便可保证两个用户轮流工作。在一点到多点方式中，对线路的访问依靠控制端的探询来确定。采取分布式访问控制策略来协调网络上计算机数据的发送。</p>
<ol start="4">
<li>环型拓扑结构</li>
</ol>
<p>环型拓扑是使用公共电缆组成一个封闭的环，各节点直接连到环上，信息沿着环按一定方向从一个节点传送到另一个节点。环接口一般由发送器、接收器、控制器、线控制器和线接收器组成。</p>
<ol start="5">
<li>网状拓扑结构</li>
</ol>
<p>网状拓扑结构，这种拓扑结构主要指各节点通过传输线相互连接起来，并且每一个节点至少与其他两个节点相连。网状拓扑结构具有较高的可靠性，但其结构复杂，实现起来费用较高，不易管理和维护，不常用于局域网。</p>
</li>
<li><p>按使用范围</p>
<ol>
<li>公用网</li>
</ol>
<p>一般是国家的邮电部门建造的网络。”公用”的意思就是从所有愿意按邮电部门规定交纳费用的人都可以使用。因此，公用网也可以称为公众网，例如 CHINANET、CERNET 等。</p>
<ol start="2">
<li>专用网</li>
</ol>
<p>“专用网”英文对照 private data network； intranet；special network；是某个部门为本单位的特殊工作的需要而建立的网络。专用网指专用于一些保密性要求较高的部门的网络，比如企业内部专用网、军队专用网，尤其是涉及国家机密的部门。这种网络不向本单位以外的人提供服务。例如，军队、铁路、电力等系统均有本系统的专用网。</p>
</li>
</ol>
<h3 id="1-1-6-网络交换方式"><a href="#1-1-6-网络交换方式" class="headerlink" title="1.1.6 网络交换方式"></a>1.1.6 网络交换方式</h3><ol>
<li><p>电路交换</p>
<p>电路交换（CS:circuit switching）是通信网中最早出现的一种交换方式，也是应用最普遍的一种交换方式，主要应用于电话通信网中，完成电话交换。</p>
<ol>
<li>工作过程</li>
</ol>
<p>电话通信分为三个阶段：呼叫建立、通话、呼叫拆除。</p>
<p>电话通信的过程是：首先摘机，听到拨号音后拨号，交换机找寻被叫，向被叫振铃同时向主叫送回铃音，此时表明在电话网的主被叫之间已经建立起双向的话音传送通路；当被叫摘机应答，即可进入通话阶段；在通话过程中，任何一方挂机，交换机毁拆除已建立的通话通路，并向另一方送忙音提示挂机，从而结束通话。</p>
<ol start="2">
<li>电路交换特点</li>
</ol>
<ul>
<li><p>面向连接的独占性</p>
<p>在通信前要先建立一条端到端的连接，建立好之后，通信就沿着这条路径进行，路径起点就是发送端，路径的终点就是接收端。在建立电路之后、释放线路之前，即使站点之间无任何数据可以传输，整个线路仍不允许其他站点共享。</p>
</li>
<li><p>同步时分复用固定带宽</p>
<p>信息传输的最小单位是时隙，时隙是用户传输信息的时候占用的时间。</p>
<p>时分多路复用技术：将传输信号的时间分割成若干个时间片（时隙），利用不同的时隙传输各自不同的信号，多路信号使用各自的时隙。</p>
</li>
<li><p>信息传送无差错控制，信息具有透明性。</p>
<p>电路交换对传输信息不作处理，这称为透明传输。进行低速率数据传送时也不进行速率、码型的变换。对传输的信息也不作差错控制，没有 CRC 循环冗余校验和重发等机制。</p>
</li>
<li><p>基于呼叫损失的流量控制；</p>
<p>电路交换采用基于呼叫损失的控制方法来处理业务流，过负荷时呼损率增加，但不影响已经建立的呼叫。这种控制方法符合实时业务的特性。</p>
</li>
</ul>
<ol start="3">
<li>电路交换优缺点</li>
</ol>
<ul>
<li><p>优点</p>
<p>实时性好、信息传输时延小，对于一次接续来讲，传输时延固定不变，适用于实时、大批量、连续的数据传输。</p>
<p>数据传输可靠、迅速，数据不会丢失，且保持原来的序列。</p>
<p>通信质量有保证，控制简单。 </p>
</li>
<li><p>缺点</p>
<p>呼叫建立需要时间</p>
<p>每个连接带宽固定（不能适应不同速率的业务）</p>
<p>不传信息时也占用资源（不适用于突发业务）</p>
<p>对信息无差错控制，不适合差错敏感的数据业务</p>
<p>流量控制是基于呼叫损失制的</p>
</li>
</ul>
</li>
<li><p>分组交换</p>
<p>1）虚电路交换</p>
<ul>
<li><p>工作原理</p>
<p>虚电路是建立一条逻辑连接，发送方与接收方不需要预先建立连接。</p>
<p>虚电路是由分组交换通信所提供的面向连接的通信服务。在两个节点或应用进程之间建立起一个逻辑上的连接或虚电路后，就可以在两个节点之间依次发送每一个分组，接收端收到分组的顺序必然与发送端的发送顺序一致，因此接收端无须负责在接收分组后重新进行排序。虚电路协议向高层协议隐藏了将数据分割成段，包或帧的过程。</p>
</li>
<li><p>虚电路特点</p>
<p>应用程序产生数据的比特率；</p>
<p>利用一个 RTT(Round-Trip Time, 往返时间) 时间来建立虚拟信道。</p>
<p>如果交换失败，必须重新建立连接。</p>
<p>为每一个虚拟信道分配缓冲区；权限控制；对每一连接进行计费。</p>
<p>使用统计多路复用技术时，共享同一网络资源的其他用户的负荷；</p>
<p>许多虚电路协议通过数据重传，包括检错纠错和自动重传请求（ARQ），提供可</p>
<p>靠的通信服务。</p>
</li>
</ul>
<p>2）报文交换</p>
<ul>
<li><p>基本概念</p>
<p>报文交换不要求在两个通信结点之间建立专用通路。结点把要发送的信息组织成一个数据包(报文)，该报文中含有目标结点的地址，完整的报文在网络中一站一站地向前传送。在电子邮件系统中有使用。</p>
</li>
<li><p>优缺点</p>
<p>报文交换是以报文为数据交换的单位，报文携带有目标地址、源地址等信息，在交换结点采用存储转发的传输方式，因而有以下优缺点：</p>
<ul>
<li><p>优点</p>
<p>报文交换是无连接的，不需要在连接建立时延，用户可随时发送报文。</p>
<p>在报文交换中便于设置代码检验和数据重发设施，提高了传输的可靠性</p>
<p>在存储转发中容易实现代码转换和速率匹配</p>
<p>提供多目标服务，即一个报文可以同时发送到多个目的地址</p>
<p>允许建立数据传输的优先级，使优先级高的报文优先转换。</p>
<p>报文在传输过程种是分段的占用物理通路，因而大大提高了通信线路的利用率。</p>
</li>
<li><p>缺点</p>
<p>数据需要经历存储、转发这一过程，从而引起转发时延（包括接收报文、检验正确性、排队、发送时间等），而且网络的通信量愈大，造成的时延就愈大，因此报文交换的实时性差，不适合传送实时或交互式业务的数据。</p>
<p>报文交换只适用于数字信号。</p>
<p>由于报文长度没有限制，而每个中间结点都要完整地接收传来的整个报文，当输出线路不空闲时，还可能要存储几个完整报文等待转发，要求网络中每个结点有较大的缓冲区。为了降低成本，减少结点的缓冲存储器的容量，有时要把等待转发的报文存在磁盘上，进一步增加了传送时延。</p>
</li>
</ul>
</li>
</ul>
<p>3）<strong>分组交换</strong></p>
<ul>
<li><p>分组交换概念</p>
<p>分组交换实质上是在“存储——转发”基础上发展起来的。它兼有电路交换和报文交换的优点。分组交换在线路上采用动态复用技术传送按一定长度分割为许多小段的数据——分组，每个分组独立进行传送。到达接受端口，再重新组装为一个完整的数据报文。分组交换比电路交换的传输效率高，比报文交换的时延小。</p>
<p><img src="/images/image-20210811124228542.png" srcset="/img/loading.gif" lazyload alt="image-20210811124228542"></p>
</li>
<li><p>分组交换优缺点</p>
<ul>
<li><p>优点</p>
<p>利用率高：数据分组可以在同一条链路上以动态共享和复用方式进行传输，通信资源利用率高，从而使得信道的容量和吞吐量有了很大的提升。</p>
<p>数据率：两个不同数据率的站之间能够交换分。</p>
<p>排队机制：当分组网络上有大量的分组时，可以根据设定数据传输的排队机制，保证优先级高的分组优先传输。</p>
<p>优先级：在使用优先级时，如果一个结点有大量的分组在排队等待传送，它可以先传送高优先级的分组。</p>
<p><img src="/images/image-20210811124451244.png" srcset="/img/loading.gif" lazyload alt="image-20210811124451244"></p>
</li>
<li><p>缺点</p>
<p>时延：一个分组通过一个分组交换网结点存储转发时会产生时延，而在电路交换网中则不存在这种时延。</p>
<p>时延抖动：因为一个给定的源站和目的站之间的各分组可能具有不同的长度，可以走不同的路径，也可以在沿途的交换机中经历不同的时延，所以分组的总时延就可能变化很大。这种现象被称为抖动。</p>
<p>开销大：要将分组通过网络传送，包括目的地址在内的额外开销信息和分组排序信息必须加在每一个分组里。这些信息降低了可用来运输用户数据的通信容量。</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>四种交换方式</p>
<p><img src="/images/image-20210811124948429.png" srcset="/img/loading.gif" lazyload alt="image-20210811124948429"></p>
</li>
<li><p>交换方式的比较</p>
<p><img src="/images/image-20210811125034381.png" srcset="/img/loading.gif" lazyload alt="image-20210811125034381"></p>
</li>
</ol>
<h3 id="1-1-7-计算机网络的性能指标"><a href="#1-1-7-计算机网络的性能指标" class="headerlink" title="1.1.7 计算机网络的性能指标"></a>1.1.7 计算机网络的性能指标</h3><ol>
<li><p>速率</p>
<p>比特（bit）是计算机中数据量的单位，也是信息论中使用的信息量的单位。</p>
<p>Bit 来源于 binary digit，意思是一个“二进制数字”，因此一个比特就是二进制数字中的一个 1 或 0。</p>
<p>速率即数据率（data rate）或比特率（bit rate）是计算机网络中最重要的一个性能指标。速率的单位是 b/s，或 kb/s， Mb/s， Gb/s 等。</p>
</li>
<li><p>带宽</p>
<p>“带宽”（bandwidth）本来是指信号具有的频带宽度，单位是赫（或千赫、兆赫、吉赫等）。最高频率和最低频率的差值。</p>
<p>现在“带宽”是数字信道所能传送的“最高数据率”的同义语，单位是“比特每秒”，或 b/s （bit/s）。</p>
<p>在时间轴上信号的宽度随带宽的增大而变窄。</p>
<p><img src="/images/image-20210811125517772.png" srcset="/img/loading.gif" lazyload alt="image-20210811125517772"></p>
</li>
<li><p>吞吐量</p>
<p>吞吐量（throughput）表示在单位时间内通过某个网络（或信道、接口）的数据量。</p>
<p>吞吐量更经常地用于对现实世界中的网络的一种测量，以便知道实际上到底有多少数据量能够通过网络。</p>
<p>吞吐量受网络的带宽或网络的额定速率的限制。</p>
</li>
<li><p>时延（delay 或 latency）</p>
<p>发送时延 —— 第一个比特算起，到最后一个比特发送完毕所需的时间。</p>
<p>传播时延 —— 电磁波在信道中需要传播一定的距离而花费的时间。</p>
<p>处理时延 —— 交换结点为存储转发而进行一些必要的处理所花费的时间。</p>
<p>排队时延 —— 结点缓存队列中分组排队所经历的时延。</p>
<p>总时延 = 发送时延+传播时延+处理时延+排队时延</p>
</li>
<li><p>时延带宽积</p>
<p>时延带宽积=传播时延 X 带宽。</p>
</li>
<li><p>利用率</p>
<p>信道利用率指出某信道有百分之几的时间是被利用的（有数据通过）。完全空闲的信道的利用率是零。</p>
<p>网络利用率则是全网络的信道利用率的加权平均值。</p>
<p>信道利用率并非越高越好。</p>
<p>根据排队论的理论，当某信道的利用率增大时，该信道引起的时延也就迅速增加。若令 D0 表示网络空闲时的时延，D 表示网络当前的时延，则在适当的假定条件下，可以用下面的简单公式表示 D 和 D0 之间的关系：</p>
<p><img src="/images/image-20210811125839009.png" srcset="/img/loading.gif" lazyload alt="image-20210811125839009"></p>
</li>
</ol>
<h2 id="1-2-计算机网络体系结构"><a href="#1-2-计算机网络体系结构" class="headerlink" title="1.2 计算机网络体系结构"></a>1.2 计算机网络体系结构</h2><h3 id="1-2-1-网络协议"><a href="#1-2-1-网络协议" class="headerlink" title="1.2.1 网络协议"></a>1.2.1 网络协议</h3><ol>
<li><p>协议的定义</p>
<p>简称为协议，是为进行网络中的数据交换而建立的规则、标准或约定。</p>
</li>
<li><p>协议的三要素</p>
<p>语法：数据与控制信息的结构或格式。</p>
<p>语义：需要发出何种控制信息，完成何种动作以及做出何种响应。</p>
<p>同步：事件实现顺序的详细说明。</p>
</li>
</ol>
<h3 id="1-2-2-OSI-参考模型"><a href="#1-2-2-OSI-参考模型" class="headerlink" title="1.2.2 OSI 参考模型"></a>1.2.2 OSI 参考模型</h3><ol>
<li><p>分层的好处</p>
<p>各层之间是独立的。灵活性好。结构上可分割开。易于实现和维护。能促进标准化工作。</p>
</li>
<li><p>分层的原则</p>
<p>若层数太少，就会使每一层的协议太复杂。</p>
<p>层数太多又会在描述和综合各层功能的系统工程任务时遇到较多的困难。</p>
</li>
<li><p>OSI 层次</p>
<p>1977 年，开放系统互联参考模型 OSI/RM（Open System Interconnection，OSI）。</p>
<p>相互通信的两个计算机系统必须高度协调工作才行，而这种“协调”是相当复杂的。</p>
<p>“分层”可将庞大而复杂的问题，转化为若干较小的局部问题，而这些较小的局部问题就比较易于研究和处理。</p>
<p><img src="/images/image-20210811131246210.png" srcset="/img/loading.gif" lazyload alt="image-20210811131246210"></p>
</li>
<li><p>各层次结构的功能</p>
<p>1）物理层（Physical Layer）</p>
<p>物理层规定了激活、维持、关闭通信端点之间的机械特性、电气特性、功能特性以及过程特性。该层为上层协议提供了一个传输数据的物理媒体。</p>
<p>在这一层，数据的单位称为比特（bit）。</p>
<p>属于物理层定义的典型规范代表包括：EIA/TIA RS-232、EIA/TIA RS-449、V.35、RJ-45 等。</p>
<p>2）数据链路层（Data Link Layer）</p>
<p>数据链路层在不可靠的物理介质上提供可靠的传输。该层的作用包括：物理地址寻址、数据的成帧、流量控制、数据的检错、重发等。</p>
<p>在这一层，数据的单位称为帧（frame）。</p>
<p>数据链路层协议的代表包括：SDLC、HDLC、PPP、STP、帧中继等。</p>
<p>3）网络层（Network Layer）</p>
<p>网络层负责对子网间的数据包进行路由选择。此外，网络层还可以实现拥塞控制、网际互连等功能。</p>
<p>在这一层，数据的单位称为数据包（packet）。</p>
<p>网络层协议的代表包括：IP、IPX、RIP、OSPF 等。</p>
<p>4）传输层（Transport Layer）</p>
<p>传输层是第一个端到端，即主机到主机的层次。传输层负责将上层数据分段并提供端到端的、可靠的或不可靠的传输。此外，传输层还要处理端到端的差错控制和流量控制问题。</p>
<p>在这一层，数据的单位称为数据段（segment）。</p>
<p>传输层协议的代表包括：TCP、UDP、SPX 等。</p>
<p>5）会话层（Session Layer）</p>
<p>会话层管理主机之间的会话进程，即负责建立、管理、终止进程之间的会话。会话层还利用在数据中插入校验点来实现数据的同步。</p>
<p>会话层协议的代表包括：NetBIOS、ZIP（AppleTalk 区域信息协议）等。</p>
<p>6）表示层（Presentation Layer）</p>
<p>表示层对上层数据或信息进行变换以保证一个主机应用层信息可以被另一个主机的应用程序理解。表示层的数据转换包括数据的加密、压缩、格式转换等。表示层协议的代表包括：ASCII、ASN.1、JPEG、MPEG 等。</p>
<p>7）应用层（Application Layer）</p>
<p>应用层为操作系统或网络应用程序提供访问网络服务的接口。</p>
<p>应用层协议的代表包括：Telnet、FTP、HTTP、SNMP 等。</p>
</li>
</ol>
<h3 id="1-2-3-TCP-IP-层次"><a href="#1-2-3-TCP-IP-层次" class="headerlink" title="1.2.3 TCP/IP 层次"></a>1.2.3 TCP/IP 层次</h3><p>TCP/IP 是四层的体系结构：应用层、传输层、网络层和网络接口层。</p>
<p><img src="/images/image-20210811131826577.png" srcset="/img/loading.gif" lazyload alt="image-20210811131826577"></p>
<ol>
<li><p>应用层</p>
<p>应用层是经常接触使用的部分，比如常用的 http 协议、ftp 协议（文件传输协议）、snmp（网络管理协议）、telnet （远程登录协议 ）、smtp（简单邮件传输协议）、dns（域名解析），这次主要是面向用户的交互的。这里的应用层集成了 osi 分层模型中 的应用、会话、表示层三层的功能。</p>
</li>
<li><p>传输层</p>
<p>传输层的作用就是将应用层的数据进行传输转运。比如我们常说的 TCP（可靠的传输控制协议）、UDP（用户数据报协议）。传输单位为报文段。</p>
<p>TCP（Transmission Control Protocol）面向连接（先要和对方确定连接、传输结束需要断开连接，类似打电话）、复杂可靠的、有很好的重传和查错机制。一般用于高速、可靠的通信服务。UDP（user datagram protocol）面向无连接（无需确认对方是否存在，类似寄包裹）、简单高效、没有重传机制。一般用于即时通讯、广播通信等。</p>
</li>
<li><p>网络层</p>
<p>网络层用来处理网络中流动的数据包，数据包为最小的传递单位，比如我们常用的 IP 协议、ICMP 协议、ARP 协议（通过分析 IP 地址得出物理 MAC 地址）。</p>
</li>
<li><p>数据链路层</p>
<p>数据链路层一般用来处理连接硬件的部分，包括控制网卡、硬件相关的设备驱动等。传输单位数据帧。</p>
</li>
<li><p>物理层</p>
<p>物理层一般为负责数据传输的硬件，比如我们了解的双绞线电缆、无线、光纤等。比特流光电等信号发送接收数据。</p>
</li>
</ol>
<h3 id="1-2-4-两种模型的比较"><a href="#1-2-4-两种模型的比较" class="headerlink" title="1.2.4 两种模型的比较"></a>1.2.4 两种模型的比较</h3><ol>
<li><p>层次模型之间的对比</p>
<p><img src="/images/image-20210811132207417.png" srcset="/img/loading.gif" lazyload alt="image-20210811132207417"></p>
</li>
<li><p>OSI 参考模型和 TCP/IP 参考模型之共同点</p>
<p>都是基于独立的协议栈的概念；</p>
<p>它们的功能大体相似，在两个模型中，传输层及以上的各层都是为了通信的进程提供点到点、与网络无关的传输服务；</p>
<p>OSI 参考模型与 TCP/IP 参考模型传输层以上的层都以应用为主导。</p>
</li>
<li><p>OSI 参考模型与 TCP/IP 参考模型的主要差别</p>
<p>TCP/IP 一开始就考虑到多种异构网的互联问题，并将网际协议 IP 作为 TCP/IP 的重要组成部门。但 ISO 最初只考虑到使用一种标准的公用数据网将各种不同的系统互联在一起。</p>
<p>TCP/IP一开始就对面向连接和无连接并重，而OSI在开始时只强调面向连接服务。</p>
<p>TCP/IP 有较好的网络管理功能，而 OSI 到后来才开始这个问题，在这方面两者有所不同。</p>
</li>
</ol>
<h3 id="1-2-5-实体、协议、服务"><a href="#1-2-5-实体、协议、服务" class="headerlink" title="1.2.5 实体、协议、服务"></a>1.2.5 实体、协议、服务</h3><p>协议—- 是控制两个对等实体进行通信的规则的集合。</p>
<p>实体（entity）—- 用以表示任何可发送或接收信息的硬件或软件进程。</p>
<p>对等层 —- 任何两个结点在同层次（例如在两个系统的第 4 层）间通信，好像将数据（即数据单元加上控制信息）直接传递给对方，即所谓的“对等层”之间通信。各层协议实际上就是在各个对等层之间传递数据时的各项规定。</p>
<p>服务原语 —-上层使用下层提供的服务必须通过与下层交换一些命令，这些命令在 OSI 中称为服务原语。</p>
<p>服务访问点（SAP）—- 是同一系统中相邻两层的实体进行交互（交换信息）的一个逻辑接口。</p>
<p>PDU —- 协议数据单元，在对等层之间传送的数据单位。</p>
<p>SDU —- 服务数据单元，层与层之间交换的数据的单位。</p>
<p>服务：在协议的控制下，两个对等实体间的通信使得本层能够向上一层提供服务。</p>
<h1 id="2-物理层"><a href="#2-物理层" class="headerlink" title="2. 物理层"></a>2. 物理层</h1><h2 id="2-1-通信基础"><a href="#2-1-通信基础" class="headerlink" title="2.1 通信基础"></a>2.1 通信基础</h2><h3 id="2-1-1-物理层功能"><a href="#2-1-1-物理层功能" class="headerlink" title="2.1.1 物理层功能"></a>2.1.1 物理层功能</h3><ol>
<li><p>机械特性</p>
<p>指明接口所用接线器的形状和尺寸、引线数目和排列、固定和锁定装置等等。</p>
</li>
<li><p>电气特性</p>
<p>指明在接口电缆的各条线上出现的电压的范围。</p>
</li>
<li><p>功能特性</p>
<p>指明某条线上出现的某一电平的电压表示何种意义。</p>
</li>
<li><p>过程特性</p>
<p>指明对于不同功能的各种可能事件的出现顺序。</p>
</li>
</ol>
<h3 id="2-1-2-计算机通信"><a href="#2-1-2-计算机通信" class="headerlink" title="2.1.2 计算机通信"></a>2.1.2 计算机通信</h3><p><img src="/images/image-20210811132816378.png" srcset="/img/loading.gif" lazyload alt="image-20210811132816378"></p>
<p>信道: 是指信息传输的通道。信号必须通过信道才能传输出去。常见的信道有有线信道和无线信道两种。</p>
<p>数据（data）：运送消息的实体。</p>
<p>信号（signal）：数据的电气的或电磁的表现。</p>
<p>码元（code）：在使用时间域的波形表示数字信号时，代表不同离散数值的基本波形。</p>
<h3 id="2-1-3-通信方式"><a href="#2-1-3-通信方式" class="headerlink" title="2.1.3 通信方式"></a>2.1.3 通信方式</h3><ol>
<li><p>信号编码</p>
<p>把二进制代码转化为计算机信号的过程，称为编码技术。</p>
<p>常见的编码技术有：单极性码、极性码、双极性码、归零码、不归零码、双相码、曼彻斯特码、差分曼彻斯特码等。常见的编码技术是：曼彻斯特码和差分曼彻斯特码编码。</p>
<p><img src="/images/image-20210811133133941.png" srcset="/img/loading.gif" lazyload alt="image-20210811133133941"></p>
<p>1）曼彻斯特编码</p>
<p>曼彻斯特编码，也叫做相位编码，是一个同步时钟编码技术，被物理层使用来编码一个同步位流的时钟和数据。曼彻斯特编码，常用于局域网传输。曼彻斯特编码把每一个码元都被调成两个电平，即把一个周期分成前半周期和后半周期。</p>
<p>传输数据 0：前半周期是正电压，后半周期是负电压。</p>
<p>传输数据 1：前半周期是负电压，后半周期是正电压。</p>
<p>所以曼彻斯特编码具有自同步能力和良好的抗干扰性能。</p>
<p>2）差分曼彻斯特编码</p>
<p>差分曼彻斯特编码和曼彻斯特编码功能类似，但是不同之处在于差分曼彻斯特编码主要是在传输周期结束后，电压是否发生变化来确定传输的数据是 0 还是 1。</p>
<p>传输数据 0：周期结束后，电压发生变化，后半周期电压变化。</p>
<p>传输数据 1：周期结束后，电压不发生变化，后半周期电压变化。</p>
<p>两种常见编码： </p>
<p><img src="/images/image-20210811133348975.png" srcset="/img/loading.gif" lazyload alt="image-20210811133348975"></p>
</li>
<li><p>编码转化</p>
<p>1）数字信号-基带传输</p>
<p>数字信号指自变量是离散的、因变量也是离散的信号，这种信号的自变量用整数表示，因变量用有限数字中的一个数字来表示（曼彻斯特编码或差分曼彻斯特编码）。</p>
<p>数字信号特点：信号准确、抗干扰能力强、便于加密处理、便于存储和交换、便于构成综合数字网和综合业务数字网、占用信道频带较宽。</p>
<p>2）模拟信号-频带传输</p>
<p>模拟信号是指信号是连续的，是用波形模拟随着信息的变化而变化，模拟信号其特点是幅度连续（心电图、声波等）。</p>
<p>3）信号的调整</p>
<ul>
<li><p>调幅（AM）</p>
<p>载波的振幅随基带数字信号而变化</p>
</li>
<li><p>调频（FM）</p>
<p>载波的频率随基带数字信号而变化</p>
</li>
<li><p>调相（PM）</p>
<p>载波的初始相位随基带数字信号而变化</p>
<p><img src="/images/image-20210811133704905.png" srcset="/img/loading.gif" lazyload alt="image-20210811133704905"></p>
<p>码元传输的速度越高，或信号传输的距离远，或噪声干扰越大，或传输媒体质量越差，在接收端的波形失真就越严重。</p>
<p><img src="/images/image-20210811133800952.png" srcset="/img/loading.gif" lazyload alt="image-20210811133800952"></p>
</li>
</ul>
</li>
<li><p>通信方式</p>
<p>1）单向通信（单工通信）</p>
<p>只能有一个方向的通信而没有反方向的交互。</p>
<p>2）双向交替通信（半双工通信）</p>
<p>通信的双方都可以发送信息，但不能双方同时发送（当然也就不能同时接收）。</p>
<p>3）双向同时通信（全双工通信）</p>
<p>通信的双方可以同时发送和接收信息。</p>
</li>
</ol>
<h3 id="2-1-4-信号传输"><a href="#2-1-4-信号传输" class="headerlink" title="2.1.4 信号传输"></a>2.1.4 信号传输</h3><ol>
<li><p>信息传输的概念</p>
<p>1）码元 (携带的比特数)</p>
<p>码元：在数字通信中常常用时间间隔相同的符号来表示数字。这样的时间间隔内的信号称为码元，这个间隔称为码元长度。</p>
<p>2）比特率（bit rate）</p>
<p>比特率每秒钟传输数据的位数，即 bit/s，或写成位每秒。基本上用于表示网络传输速度，有时候也可以写成 bps（参照第一节的计算机网络性能指标）。</p>
<p>3）波特率（baud rate）</p>
<p>“波特率”是指每秒传输的码元数，单位为波特，说明单位时间传输了多少个码元。<strong>若每个码元所含的信息量为 1 比特，则波特率等于比特率</strong>。所以波特率通常单位是 bit/s，也就是二进制位/秒。</p>
<p>例 1：3600 的波特率的信道，理论上每秒可以传输 3600/8 个字节的数据，也就是450 个字节。</p>
<p>例 2：如果在数字传输过程中，0V、2V、4V 和 6V 分别表示 00、01、10 和 11，那么每个码元有四种状态 00、01、10 和 11。每个码元代表两个二进制数字。此时的每秒码元数是每秒二进制代码数是一半的，这叫四相调制，波特率等于比特率一半。</p>
</li>
<li><p>奈奎斯特定理</p>
<p>1）基本概念</p>
<p>美国电信工程师奈奎斯特推导出了著名的奈氏准则。他给出了在假定的理想条件下，为了避免码间串扰，码元的传输速率的上限值。该定理说明采样频率与信号频谱之间的关系，是连续信号离散化的基本依据。</p>
<p>在任何信道中，码元传输的速率是有上限的，否则就会出现码间串扰的问题，使接收端对码元的判决（即识别）成为不可能。</p>
<p>如果信道的频带越宽，也就是能够通过的信号高频分量越多，那么就可以用更高的速率传送码元而不出现码间串扰。</p>
<p>2）定理内容</p>
<p>对于一个带宽为 W 赫兹的理想信道，其最大码元（信号）速率为 2W 波特。这一限制是由于存在码间干扰。如果被传输的信号包含了 M 个状态值（信号的状态数是 M），那么 W 赫兹信道所能承载的最大数据传输速率（信道容量）是：</p>
<p><img src="/images/image-20210811135132821.png" srcset="/img/loading.gif" lazyload alt="image-20210811135132821"></p>
</li>
<li><p>信噪比</p>
<p>1）信号衰减</p>
<p>信号的传输的波形，在信号的传输过程中受到（带宽、噪声、干扰、距离、磁场、电场）等影响，会使得当前的计算机信号出现与原始信号不一样的情况，这样成为信号的衰减，信号衰减比较小时信号可以还原，信号衰减比较大时则信号不能还原。</p>
<p>码元传输的速度越高，或信号传输的距离远，或噪声干扰越大，或传输媒体质量越差，在接收端的波形失真就越严重。</p>
<p>2）噪音</p>
<p>噪声是指信息经过该设备后产生的原信号中并不存在的无规则的额外信号（或信息），并且该种信号并不随原信号的变化而变化。</p>
<p>噪声是无规律的。</p>
<p>3）信噪比</p>
<p>信息传输过程中，信号的平均功率和噪声的平均功率的比，常用 S/N，分贝（dB）是度量单位。</p>
<p>信噪比（dB）=  10lg(S/N)</p>
<p>S 表示信息的功率</p>
<p>N 表示噪音的功率</p>
<p>信噪比越大，说明当前计算机网络性能越优越。</p>
<p>4）<strong>香农定理</strong></p>
<ul>
<li><p>香农定理</p>
<p>1948 年，信息论的创始人香农得出的香农公式。</p>
<p>目的是为了计算出当前信道带宽和信噪比一定的情况下，信道传输数据的极限值。</p>
<p>香农（Shannon）用信息论的理论推导出了带宽受限且有高斯白噪声干扰的信道的极限、无差错的信息传输速率。</p>
<p>信道的极限信息传输速率 C 可表达为：</p>
<p><img src="/images/image-20210811140015628.png" srcset="/img/loading.gif" lazyload alt="image-20210811140015628"></p>
<p>W 为信道的带宽（以 Hz 为单位）</p>
<p>S 为信道内所传信号的平均功率</p>
<p>N 为信道内部的高斯噪声功率。</p>
</li>
<li><p>信道速度和噪音关系</p>
<p>信道的带宽或信道中的信噪比越大，则信息的极限传输速率就越高。</p>
<p>若信道带宽 W 或信噪比 S/N 没有上限，则信道的极限信息传输速率 C 也就没有上限。</p>
<p>实际信道上能够达到的信息传输速率要比香农的极限传输速率低不少。</p>
</li>
</ul>
</li>
</ol>
<h3 id="2-1-5-信道的复用技术"><a href="#2-1-5-信道的复用技术" class="headerlink" title="2.1.5 信道的复用技术"></a>2.1.5 信道的复用技术</h3><ol>
<li><p>信号频段</p>
<p>电信领域使用的电磁波的频谱。</p>
<p><img src="/images/image-20210811140311854.png" srcset="/img/loading.gif" lazyload alt="image-20210811140311854"></p>
<p>频分复用的所有用户在同样的时间占用不同的带宽资源（请注意，这里的“带宽”是频率带宽而不是数据的发送速率）。</p>
</li>
<li><p>频分多路复用</p>
<p>频分多路复用（Frequency-division multIPlexing，FDM），是指载波带宽被划分为多种不同频带的子信道，每个子信道可以并行传送一路信号的一种多路复用技术。</p>
<p>用户在分配到一定的频带后，在通信过程中自始至终都占用这个频带。频分复用的所有用户在同样的时间占用不同的带宽资源。</p>
<p><img src="/images/image-20210811140437400.png" srcset="/img/loading.gif" lazyload alt="image-20210811140437400"></p>
<p>例如：中央电视台、河北电视台、上海卫视在同一时间内可以发送自己频段的电视节目，这样可以保证用户在相同的频段收看相同的节目，不同的频段收看不同的节目。</p>
<p>收音广播就是利用这样的一种通信方式，当然计算机网路中主要表现在光纤和电话拨号网络上。</p>
</li>
<li><p>波分多路复用</p>
<p>波分复用 WDM（Wavelength Division MultIPlexing）是将两种或多种不同波长的光载波信号（携带各种信息）在发送端经复用器（亦称合波器，MultIPlexer）汇合在一起，并耦合到光线路的同一根光纤中进行传输的技术；在接收端，经解复用器（亦称分波器或称去复用器，DemultIPlexer）将各种波长的光载波分离，然后由光接收机作进一步处理以恢复原信号。不同的信号使用不同频率的光，实际上光纤就是使用的波分多路复用技术。</p>
<p>波分复用就是光的频分复用。 </p>
<p><img src="/images/image-20210811140623886.png" srcset="/img/loading.gif" lazyload alt="image-20210811140623886"></p>
<p>小时候玩的三棱镜就是波分多路复用技术。</p>
</li>
<li><p>时分多路复用</p>
<ul>
<li><p>基本概念</p>
<p>时分多路复用（TDM）是按传输信号的时间进行分割的，它使不同的信号在不同的时间内传送，将整个传输时间分为许多时间间隔（Time Slot，TS，又称为时隙），每个时间片被一路信号占用。TDM 就是通过在时间上交叉发送每一路信号的一部分来实现一条电路传送多路信号的。</p>
<p>例如中央电视台在进行节目播放的时候，19：00 到 19：30 分的时候播放《新闻联播》，19：30 到 19：35 播放《天气预报》，19：35 到 20：00 分的时候播放《焦点访谈》。</p>
<p>计算机网络上不同的用户可以在不同的时间上传输不同的数据，网络通信信道归不同的计算机终端使用。</p>
<p>TDM 帧是周期性出现，这样用户就可以周期性的使用当前的计算机网络传输数据。</p>
</li>
<li><p>特点</p>
<p>每一个用户所占用的时隙是周期性地出现（其周期就是 TDM 帧的长度）。</p>
<p><img src="/images/image-20210811140857926.png" srcset="/img/loading.gif" lazyload alt="image-20210811140857926"></p>
<p>TDM 信号也称为等时（isochronous）信号。</p>
<p>时分复用的所有用户是在不同的时间占用同样的频带宽度。</p>
<p>时分复用可能会造成线路资源的浪费，使用时分复用系统传送计算机数据时，由于计算机数据的突发性质，用户对分配到的子信道的利用率一般是不高的。</p>
</li>
</ul>
</li>
<li><p>统计时分多路复用</p>
<p>统计时分多路复用（statistical time division multIPlexing，STDM）是指动态地按需分配共用信道的时隙，只将需要传送数据的终端接入共用信道，以提高信道利用率的多路复用技术，简称 STDM。也称异步时分多路复用。</p>
<p>在进行数据传输时，可以先统计下一时刻需要发送数据的用户数量，这样可以把当前的一个 TDM 周期分割成等时的积分，分给不同的用户使用，在不同的周期分割的时间不同，这样不同的用户就可以在不同的周期占用信道的时间就会有不同。</p>
<p>这样可以有效的避免当前用户在进行数据传输过程中占用时隙不发送数据的情况。</p>
</li>
<li><p>码分多路复用</p>
<p>1）基本概念</p>
<p>码分多路复用 CDM 又称码分多址（Code Division MultIPle Access，CDMA），CDM 与 FDM（频分多路复用）和 TDM（时分多路复用）不同，它<strong>既共享信道的频率，也共享时间</strong>，是一种真正的动态复用技术。</p>
<p>原理是每比特时间被分成 m 个更短的时间槽，称为码片（ChIP），通常情况下每比特有 64 或 128 个码片.每个站点（通道）被指定一个唯一的 m 位的代码或码片序列。当发送 1 时站点就发送码片序列，发送 0 时就发送码片序列的反码。当两个或多个站点同时发送时，各路数据在信道中被线形相加。为了从信道中分离出各路信号，要求各个站点的码片序列是相互正交的。</p>
<p>即假如用 S 和 T 分别表示两个不同的码片序列，用!S 和!T 表示各自码片序列的反码，那么应该有 S·T=0，S·!T=0，S·S=1，S·!S=-1。当某个站点想要接收站点 X发送的数据时，首先必须知道 X 的码片序列（设为 S）；假如从信道中收到的和矢量为 P，那么通过计算 S·P 的值就可以提取出 X 发送的数据：S·P=0 说明 X 没有发送数据；S·P=1 说明 X 发送了 1；S·P=-1 说明 X 发送了 0。</p>
<p>2）优缺点</p>
<p>码分多路复用通信系统抗窄频带干扰能力强，保密性强，各路的连接、变换较灵活，但电路较复杂并需有精度高的同步系统。因此尚未得到广泛应用。</p>
<p>3）例题 (记住)</p>
<p><img src="/images/image-20210811141605461.png" srcset="/img/loading.gif" lazyload alt="image-20210811141605461"></p>
</li>
</ol>
<h2 id="2-2-传输介质"><a href="#2-2-传输介质" class="headerlink" title="2.2 传输介质"></a>2.2 传输介质</h2><h3 id="2-2-1-同轴电缆"><a href="#2-2-1-同轴电缆" class="headerlink" title="2.2.1 同轴电缆"></a>2.2.1 同轴电缆</h3><ol>
<li><p>概述</p>
<p>同轴电缆（50Ω 同轴电缆 75Ω 同轴电缆）</p>
<p>同轴电缆也是局域网中最常见的传输介质之一。</p>
<p><img src="/images/image-20210811144142365.png" srcset="/img/loading.gif" lazyload alt="image-20210811144142365"></p>
</li>
<li><p>分类</p>
<p>1）细缆</p>
<p>直径为 0.26 厘米，最大传输距离 185 米，使用时与 50Ω终端电阻、T 型连接器。网络最大的干线长度：大于 185 米，小于 925 米。</p>
<p>2）粗缆</p>
<p>直径为 1.27 厘米，最大传输距离达到 500 米。网络干线电缆长度：大于 500 米，小于 2500 米。</p>
</li>
</ol>
<h3 id="2-2-2-双绞线"><a href="#2-2-2-双绞线" class="headerlink" title="2.2.2 双绞线"></a>2.2.2 双绞线</h3><ol>
<li><p>概述</p>
<p>双绞线（twisted pair，TP）是一种综合布线工程中最常用的传输介质，是由两根具有绝缘保护层的铜导线组成的。把两根绝缘的铜导线按一定密度互相绞在一起，每一根导线在传输中辐射出来的电波会被另一根线上发出的电波抵消，有效降低信号干扰的程度。</p>
</li>
<li><p>分类</p>
<p>屏蔽双绞线 STP 无屏蔽双绞线 UTP</p>
<p><img src="/images/image-20210811144520662.png" srcset="/img/loading.gif" lazyload alt="image-20210811144520662"></p>
</li>
<li><p>非屏蔽双绞线电缆具有以下优点：</p>
<p>无屏蔽外套，直径小，节省所占用的空间，成本低；</p>
<p>重量轻，易弯曲，易安装；</p>
<p>将串扰减至最小或加以消除；</p>
<p>具有阻燃性；</p>
<p>具有独立性和灵活性，适用于结构化综合布线。</p>
<p>既可以传输模拟数据也可以传输数字数据。</p>
</li>
<li><p>国际标准线序</p>
<p>EIA/TIA 568A：绿白、绿、橙白、蓝、蓝白、橙、棕白、棕。</p>
<p>EIA/TIA 568B：橙白、橙、绿白、蓝、蓝白、绿、棕白、棕。</p>
</li>
<li><p>国际标准</p>
<p>100BASE-T4RJ-45 对双绞线的规定如下：</p>
<p>1、2 用于发送，3、6 用于接收，4、5 用于语音，7、8 是双向线。</p>
<p>传输距离是 100m。</p>
</li>
</ol>
<h3 id="2-2-3-光纤"><a href="#2-2-3-光纤" class="headerlink" title="2.2.3 光纤"></a>2.2.3 光纤</h3><ol>
<li><p>概述</p>
<p>是一种由玻璃或塑料制成的纤维。</p>
<p><img src="/images/image-20210811144802021.png" srcset="/img/loading.gif" lazyload alt="image-20210811144802021"></p>
</li>
<li><p>分类</p>
<p>1）单模光纤</p>
<p>只能传输一个传播模式的光纤。传输距离 20 公里至 120 公里。</p>
<p>2）多模光纤</p>
<p>将光纤按工作波长以其传播可能的模式为多个模式的光纤。传输距离 2 公里到 5 公里。</p>
<p><img src="/images/image-20210811144958225.png" srcset="/img/loading.gif" lazyload alt="image-20210811144958225"></p>
</li>
<li><p>优点</p>
<p>频带宽、损耗低、重量轻、抗干扰能力、强保真度高、工作性能可靠、成本不断下降。</p>
<p>传输损耗小，中继距离长，对远距离传输经济。 </p>
<p>抗雷电和电磁干扰好。在大电流脉冲干扰的环境下重要。</p>
<p>无串音干扰，保密性好，不易被窃听或截取数据。</p>
<p>体积小，重量轻。</p>
<p>缺点是光纤要连接必须用专用的设备。</p>
</li>
</ol>
<h3 id="2-2-4-传输介质比较"><a href="#2-2-4-传输介质比较" class="headerlink" title="2.2.4 传输介质比较"></a>2.2.4 传输介质比较</h3><p><img src="/images/image-20210811145233370.png" srcset="/img/loading.gif" lazyload alt="image-20210811145233370"></p>
<h3 id="2-2-5-无线传输媒体"><a href="#2-2-5-无线传输媒体" class="headerlink" title="2.2.5  无线传输媒体"></a>2.2.5  无线传输媒体</h3><p>无线传输所使用的频段很广。</p>
<p>短波通信主要是靠电离层的反射，但短波信道的通信质量较差。</p>
<p>微波在空间主要是直线传播。</p>
<p>地面微波接力通信</p>
<p>卫星通信</p>
<p>微波通信</p>
<p>微波通信可以传输电话、电报、图像、数据等信息。特点如下：</p>
<ul>
<li><p>微波波段频率很高，其频段范围也很宽，因此其通信信道的容量很大。</p>
</li>
<li><p>工业干扰和天电干扰的主要频谱成分比微波频率低的多，对微波通信危害比对短波和米波通信小的多，所以微波的传输质量更高。</p>
</li>
<li><p>与相同容量和长度的电缆载波通信比较，微波的接力通信建设投资少，见效快，易跨山区、江河。</p>
</li>
</ul>
<h2 id="2-3-传输设备及技术"><a href="#2-3-传输设备及技术" class="headerlink" title="2.3 传输设备及技术"></a>2.3 传输设备及技术</h2><h3 id="2-3-1-中继器（Repeater）"><a href="#2-3-1-中继器（Repeater）" class="headerlink" title="2.3.1 中继器（Repeater）"></a>2.3.1 中继器（Repeater）</h3><p><img src="/images/image-20210811145531231.png" srcset="/img/loading.gif" lazyload alt="image-20210811145531231"></p>
<p>由于传输线路噪音的影响，承载信息的数字信号或模拟信号只能传输有限的距离。在线路中间插入放大器的办法是不可取的，因为伴随信号的噪音也被放大了。在这种情况下用中继器连接两个网络可以延长信号传输的距离。<strong>中继器的功能是对接收信号进行再生和发送</strong>。</p>
<p>中继器不解释也不改变接收到的数字信息，它只是从接收信号中分离出数字数据。存储起来，然后重新构造它并转发出去。再生的信号与接收信号完全相同并可以沿着另外的网络段传输到远端。</p>
<p><strong>中继器是局域网互连的最简单设备，它工作在 OSI 体系结构的物理层</strong>，它接收并识别网络信号，然后再生信号并将其发送到网络的其他分支上。</p>
<p><strong>集线器是有多个端口的中继器。简称 HUB</strong>。</p>
<p>HUB 集线器就是一种共享设备，HUB 本身不能识别目的地址。这种方式就是共享网络带宽。</p>
<h3 id="2-3-2-集线器"><a href="#2-3-2-集线器" class="headerlink" title="2.3.2 集线器"></a>2.3.2 集线器</h3><p><img src="/images/image-20210811145749311.png" srcset="/img/loading.gif" lazyload alt="image-20210811145749311"></p>
<ol>
<li><p>基本概述</p>
<p>集线器（hub）属于纯硬件网络底层设备。它也不具备 MAC 地址表，所以它发送数据时都是没有针对性的，而是采用广播方式发送。</p>
<p>集线器为主要网络设别的网络被称为共享式以太网，当网络中的主机数量过多的时候，就会在网络生成广播风暴。</p>
<p><strong>集线器工作于 OSI/RM 参考模型的物理层和数据链路层的 MAC（介质访问控制）子层</strong>。</p>
<p>10M集线器在物理层有4 个标准接口可用，那就是：10BASE-5、10BASE-2、10BASE-T、10BASE-F。10M 集线器的 10BASE-5（AUI）端口用来连接层 1 和层 2。</p>
<p>集线器采用了 CSMA/CD（载波帧听多路访问/冲突检测）协议，CSMA/CD 为 MAC 层协议，所以集线器也含有数据链路层的内容。</p>
<p>每一个集线器可以形成一个碰撞域（广播域） </p>
</li>
<li><p>集线器特点</p>
<p>集线器是使用电子器件来模拟实际电缆线的工作，整个系统仍然像传统的以太网那样运行。</p>
<p>使用集线器的以太网在逻辑上是一个总线网，还使用 CSMA/CD 协议，并共享逻辑上的总线。</p>
<p>集线器很像一个多接口的转发器，工作在物理层。</p>
</li>
</ol>
<h3 id="2-3-3-ADSL"><a href="#2-3-3-ADSL" class="headerlink" title="2.3.3 ADSL"></a>2.3.3 ADSL</h3><ol>
<li><p>ADSL 技术</p>
<p>1）ADSL （Asymmetric Digital Subscriber Line）：非对称数字用户线</p>
<p>ADSL 技术就是用数字技术对现有的模拟电话用户线进行改造，使它能够承载宽带业务。</p>
<p>标准模拟电话信号的频带被限制在 300~3400 Hz 的范围内，但用户线本身实际可通过的信号频率仍然超过 1 MHz。</p>
<p>ADSL 技术就把 0~4 kHz 低端频谱留给传统电话使用，而把原来没有被利用的高端频谱留给用户上网使用。</p>
<p>DSL 就是数字用户线（Digital Subscriber Line）的缩写。</p>
<p>2）ADSL 的特点</p>
<p>上行和下行带宽做成不对称的。</p>
<p>上行指从用户到 ISP，而下行指从 ISP 到用户。</p>
<p>ADSL 在用户线（铜线）的两端各安装一个 ADSL 调制解调器。</p>
<p>我国目前采用的方案是离散多音调 DMT （Discrete Multi-Tone）调制技术。这里的“多音调”就是“多载波”或“多子信道”的意思。</p>
<p>3）ADSL 的数据率</p>
<p>由于用户线的具体条件往往相差很大（距离、线径、受到相邻用户线的干扰程度等都不同），因此 ADSL 采用自适应调制技术使用户线能够传送尽可能高的数据率。</p>
<p>通常下行数据率在 32 kb/s 到 6.4 Mb/s 之间，而上行数据率在 32 kb/s 到 640 kb/s 之间。</p>
</li>
</ol>
<h3 id="2-3-4-HFC"><a href="#2-3-4-HFC" class="headerlink" title="2.3.4 HFC"></a>2.3.4 HFC</h3><p>光纤同轴混合网 HFC （Hybrid Fiber Coax）</p>
<p>HFC 网是在目前覆盖面很广的有线电视网 CATV 的基础上开发的一种居民宽带接入网。</p>
<p>HFC 网除可传送 CATV 外，还提供电话、数据和其他宽带交互型业务。</p>
<p>现有的 CATV 网是树形拓扑结构的同轴电缆网络，它采用模拟技术的频分复用对电视节目进行单向传输。而 HFC 网则需要对 CATV 网进行改造</p>
<ol>
<li><p>HFC 的主要特点</p>
<p>1）HFC 网的主干线路采用光纤</p>
<p>HFC 网将原 CATV 网中的同轴电缆主干部分改换为光纤，并使用模拟光纤技术。在光纤结点以下就是同轴电缆。</p>
<p>2）HFC 网采用结点体系结构</p>
<p><img src="/images/image-20210811150527928.png" srcset="/img/loading.gif" lazyload alt="image-20210811150527928"></p>
<p>3）HFC 网具有比 CATV 网更宽的频谱，且具有双向传输功能</p>
<p><img src="/images/image-20210811150558663.png" srcset="/img/loading.gif" lazyload alt="image-20210811150558663"></p>
<p>4）每个家庭要安装一个用户接口盒</p>
<p>用户接口盒 UIB （User Interface Box）要提供三种连接，即：</p>
<ul>
<li><p>使用同轴电缆连接到机顶盒（set-top box），然后再连接到用户的电视机。</p>
</li>
<li><p>使用双绞线连接到用户的电话机。</p>
</li>
<li><p>使用电缆调制解调器连接到用户的计算机。</p>
</li>
</ul>
</li>
<li><p>电缆调制解调器（cable modem）</p>
<p>电缆调制解调器是为 HFC 网而使用的调制解调器。</p>
<p>电缆调制解调器最大的特点就是传输速率高。其下行速率一般最高可达 30Mb/s，而上行速率一般最高可达 10Mb/s。</p>
<p>电缆调制解调器比在普通电话线上使用的调制解调器要复杂得多，并且不是成对使用，而是只安装在用户端。</p>
</li>
</ol>
<h3 id="2-3-5-FTTx-技术"><a href="#2-3-5-FTTx-技术" class="headerlink" title="2.3.5 FTTx 技术"></a>2.3.5 FTTx 技术</h3><p>FTTx（光纤到……）也是一种实现宽带居民接入网的方案。这里字母 x 可代表不同意思。例如：</p>
<ul>
<li>光纤到户 FTTH （Fiber To The Home）：光纤一直铺设到用户家庭可能是居民接入网最后的解决方法。</li>
<li>光纤到大楼 FTTB （Fiber To The Building）：光纤进入大楼后就转换为电信号，然后用电缆或双绞线分配到各用户。</li>
<li> 光纤到路边 FTTC （Fiber To The Curb）：从路边到各用户可使用星形结构双绞线作为传输媒体。</li>
</ul>
<h1 id="3-数据链路层"><a href="#3-数据链路层" class="headerlink" title="3. 数据链路层"></a>3. 数据链路层</h1><h2 id="3-1-数据链路层概述"><a href="#3-1-数据链路层概述" class="headerlink" title="3.1 数据链路层概述"></a>3.1 数据链路层概述</h2><h3 id="3-1-1-数据链路层功能"><a href="#3-1-1-数据链路层功能" class="headerlink" title="3.1.1 数据链路层功能"></a>3.1.1 数据链路层功能</h3><ol>
<li><p>基本概念</p>
<p>数据链路是将本质上不可靠的传输媒体变成可靠的传输通路提供给网络层。</p>
<p>链路（link）是一条无源的点到点的物理线路段，中间没有任何其他的交换结点。一条链路只是一条通路的一个组成部分。</p>
<p>数据链路（data link） 除了物理线路外，还必须有通信协议来控制这些数据的传输。若把实现这些协议的硬件和软件加到链路上，就构成了数据链路。</p>
<p>一般的适配器都包括了数据链路层和物理层这两层的功能。</p>
<p>数据链路层协议有许多种，但有三个基本问题则是共同的。这三个基本问题是：<strong>封装成帧</strong>、<strong>透明传输</strong>和<strong>差错检测</strong>。</p>
</li>
<li><p>基本功能</p>
<p>1）链路管理功能</p>
<p>主要是在数据通信前，在物理线路上进行数据链路连接的建立、拆除、分离工作。</p>
<p>2）为网络层提供服务</p>
<p>数据链路层位于物理层和网络层中间，所以数据链路层是享用物理层的服务和向网络层提供服务。物理层传输数据是不可靠的，数据链路层必须保证数据传输的可靠性和准确性。</p>
<p>3）封装成帧</p>
<p>封装成帧也就是帧的定界，是在一段数据的前后分别添加首部和尾部，然后就构成了一个帧。告知接收方帧的开始位置和结束位置，确定帧中数据的位置。在封装成帧时，不考虑帧的长短等问题。</p>
<p>4）差错检测</p>
<p>保证数据的可靠传输，则必须对数据进行相应的校验机制，保证接收到的数据是可靠的，有效的，正确的。</p>
<p>误码率：传输错误的比特占所传输比特总数的比率称为误码率。误码率与信噪比有很大的关系。误码率越大，计算机网络性能越差。</p>
<p>5）流量控制</p>
<p>控制数据发送的速度，保证发送的帧不要太长，以免造成网络拥塞或接收方不能完全接收。</p>
<p>流量控制两种方法，第一种是基于反馈的流量控制，根据接收方反馈的信息来控制发送的数据；第二种是基于速率的流量控制，加法增大和乘法减小等原则。</p>
<p><strong>常用的流量控制方法是：滑动窗口协议</strong>。</p>
<p>6）MAC 寻址</p>
<p>根据计算机网卡的物理地址，在局域网中寻找网络主机的地址，把数据发送给目标地址，一般局域网中寻址方式是 MAC 寻址，页脚物理寻址。</p>
<p>7）透明传输</p>
<p>保证帧的传输信息和控制信息不能混淆，接收方能区分正常数据和控制信息等数据，例如帧开始控制信息和结束控制信息。</p>
</li>
</ol>
<h3 id="3-1-2-数据帧"><a href="#3-1-2-数据帧" class="headerlink" title="3.1.2 数据帧"></a>3.1.2 数据帧</h3><ol>
<li><p>帧的定界</p>
<p>帧的定界是确保帧的开始位置和结束位置，保证接收方能判定在什么位置开始，扫描位置结束。</p>
<p>常见的定界方法有：使用字符填充的首尾定界符法、使用比特填充的首尾标志法、违法编码法和字节计数法。</p>
<p>1）字节计数法</p>
<p>发送方：用一个特殊字段表示帧的开始，在开始字段后添加一个帧的长度字段确认帧中传输数据的长度。</p>
<p>接收方：识别特殊的开始字段，在开始字段后读取有字段的长度字段，在接收后直接接收字段长度的字符作为数据字段存储。</p>
<p>问题：“字节计数”字段是出现错误，则影响后面接收的数据长度，则会影响整个数据的统计情况，所以必须采取措施来保证它不会出错。</p>
<p>2）特殊字符填充的首尾定界符方法</p>
<p>用一些特定的字符来定界一帧的开始和结束。</p>
<p><img src="/images/image-20210811152029116.png" srcset="/img/loading.gif" lazyload alt="image-20210811152029116"></p>
<p>开始标识：控制字符 SOH（Start Of Header）放在一帧的最前面，表示帧的开始，十六进制编码是 01（二进制是 00000001）</p>
<p>结束标识：控制字符 EOT（End Of Transnussion）放在帧的结束位置，表示帧的结束，十六进制编码是 04（二进制是 00000100）</p>
<p>当计算机接收数据的时候，遇到 00000001 则说明当前帧为开始，遇到 00000100则说明当前帧结束。</p>
<p>问题：当计算机数据传输的时候，可能出现传输的数据为 00000100，结果被计算机误认为帧的结束标识，造成数据接收的不完整，破坏数据的完整性。</p>
<p>3）特殊比特填充的首尾标志方法</p>
<p>在 ppp 协议中，多采用特定的比特模式（如 01111110）来标志一帧的开头和结束。</p>
<p>问题：数据中传输的数据包含 01111110 数据时，被误认为结束的标识，也会造成数据的丢失。</p>
<p>4）违例编码法</p>
<p>在物理层传输数据的时候，0 和 1 用不同的电压表示，曼彻斯特和差分曼彻斯特编码都是半周期变化电压（一个周期内存在高低电压的变化）。如果出现一个周期电压不是高低变化，则说明当前代码是不合标准的。</p>
<p>可以借用这些违例编码的序列来定界帧的开始和结束。</p>
</li>
<li><p>帧透明传输</p>
<p>为解决帧中传输的数据和帧的定界冲突的问题，让计算机能识别计算机传输的数据编码和定界编码有一定的区别，这成为帧的透明传输。</p>
<p>1）转义字符填充法</p>
<p><img src="/images/image-20210811152421692.png" srcset="/img/loading.gif" lazyload alt="image-20210811152421692"></p>
<p>发送方：除第一个开始字符“SOH”和结束字符“EOT”外，当传输的数据中有和在控制字符“SOH”、“EOT” “ESC”相同的信息的时候，则先前添加转义字符“ESC”。</p>
<p>其中“SOH”的二进制代码 0000 0001、“EOT”的二进制代码 0000 0100、“ESC” 的二进制代码 0010 1011。</p>
<p>接收方：接收信息的时候，出现转义字符“ESC”时，先去掉前面的转义字符“ESC”，这样就可以保证接收的有效性。如果接收的字符为“EOT”前面没有转义字符“ESC”时，说明当前数据结束。</p>
<p><img src="/images/image-20210811152527302.png" srcset="/img/loading.gif" lazyload alt="image-20210811152527302"></p>
<p>ESC 的二进制代码是：00011101，十六进制编码是 0x1D。</p>
<p>2）“零”比特填充</p>
<p>发送端在输出数据的时候，第一个 01111110 字符说明当前为数据的开始位置，第二个 01111110 字符说明当前为数据的结束位置。</p>
<p>但传输数据和控制字段相同的时候，方法是每出现连续 5 个 1，则在后面添加一个 0，这样就可以直接和控制字段有很好的区分。接收方在接收的时候，如果连续有 5 个 1 出现，则直接去掉后面的 1 个 0。</p>
<p>例如要传输的数据中包含下面字段 011111 11111 001111 这样的数据字段。</p>
<p><img src="/images/image-20210811152655429.png" srcset="/img/loading.gif" lazyload alt="image-20210811152655429"></p>
</li>
</ol>
<h2 id="3-2-差错控制"><a href="#3-2-差错控制" class="headerlink" title="3.2 差错控制"></a>3.2 差错控制</h2><h3 id="3-2-1-出错原因"><a href="#3-2-1-出错原因" class="headerlink" title="3.2.1 出错原因"></a>3.2.1 出错原因</h3><p>在传输过程中可能会产生比特差错：1 可能会变成 0 而 0 也可能变成 1。</p>
<p>在一段时间内，传输错误的比特占所传输比特总数的比率称为误码率 BER （Bit Error Rate）。</p>
<p>误码率与信噪比有很大的关系。</p>
<p>为了保证数据传输的可靠性，在计算机网络传输数据时，必须采用各种差错检测措施。</p>
<p>通信过程中出现的差错可大致分为两类：一类是由热噪声引起的随机错误；另一类是由冲击噪声引起的突发错误。</p>
<h3 id="3-2-2-检错编码"><a href="#3-2-2-检错编码" class="headerlink" title="3.2.2 检错编码"></a>3.2.2 检错编码</h3><p>检错编码的作用是检查当前数据中出现的错误，对错误不进行处理，<strong>数据链路层就采用检错码</strong>，当检查出现错误后，数据链路层会丢弃当前的错误，不对当前的数据错误处理，并发出一个反回的控制信息，告知发送方，当前发送的数据出现错误。</p>
<p>如果数据链路层接收的帧出现错误或这帧的长度有变化，则数据链路层就直接丢弃当前接收的数据帧。</p>
<p>向后纠错：接收端发现接收的数据帧出现错误时，以某种方式通知发送端重传该数据帧，直到接收到正确的数据帧为止。</p>
<p>向前纠错：接收端不能发现接收的数据帧的错误，而能确定二进制代码中发生错误的位置，从而进行纠正，允许接收方修改数据。</p>
<ol>
<li><p>水平/垂直奇偶校验码</p>
<p>奇偶校验是最常用的检错方法。在要传输数据的后面增加一位，使得传输数据中“l”的个数成奇数（奇校验）或偶数（偶校验）。</p>
<p>接收方接收后，如果接收的数据中“l”的个数成奇数个（奇校验）或偶数个（偶校验），说明传输数据中没有出现错误。如果接收的数据中“l”的个数成偶数个（奇校验）或奇数个（偶校验），说明传输数据出现错误。</p>
<p><img src="/images/image-20210811154516990.png" srcset="/img/loading.gif" lazyload alt="image-20210811154516990"></p>
</li>
<li><p>循环冗余校验</p>
<p>循环冗余检查（CRC）是一种数据传输检错功能，对数据进行求余计算，并将得到的余数附在帧的后面，接收设备也执行类似的算法，如果进行求余的结果是 0，说明传输的数据是正确的，如果求余的结果不是 0，则说明传输数据有问题。</p>
<p>校验机制是保证数据传输的正确性和完整性。</p>
<p>FCS（Frame CheckSequence）帧检查序列位，数比规定的除数少 1 位。，是放在传输数据的后面。</p>
<p>例如：发送端发送的数据为 1101011011，发送和接收双方规定的除数为 10011（有时候说成是多项式）。</p>
<p>在发送端，先把数据划分为组，假定每组 K 个比特。现假定待传送的数据 M= 1101011011（K=10）。CRC 运算就是在数据 M 的后面添加供差错检测用的 n 位冗余码（冗余码是 FCS 编码，位数比多项式位数少 1 位），然后构成一个帧发送出去，一批发送（M+n）位。在所要发送的数据后面增加 n 位的冗余码，虽然增大了数据传输的开销，但却可以进行差错检测。当传输可能出现差错时，付出这种代价往往是很值得的。</p>
<p><img src="/images/image-20210811154853471.png" srcset="/img/loading.gif" lazyload alt="image-20210811154853471"></p>
<p>循环冗余校验 CRC 是一种检错方法。帧检验序列 FCS 是添加在数据后面的冗余码。</p>
</li>
</ol>
<h3 id="3-2-3-纠错编码"><a href="#3-2-3-纠错编码" class="headerlink" title="3.2.3 纠错编码"></a>3.2.3 纠错编码</h3><p>在传输过程中发生错误后能在j接收端自行发现或纠正的码。一般在数据传输过程中增加足够的校验位，通过校验的方法来发现传输数据的错误，并且纠正传输中的错误。</p>
<ol>
<li><p>水平垂直奇偶校验码</p>
<p>即在水平方向上进行验证，也在垂直方向上进行验证，当数据出现的时候，就可以检验出错误的所在，并且修改错误。</p>
<p>例如用水平垂直偶校验，受到数据为:</p>
<p><img src="/images/image-20210811155223691.png" srcset="/img/loading.gif" lazyload alt="image-20210811155223691"></p>
<p>利用在水平方向上 1 的个数为偶数个</p>
<p>在垂直方向上 1 的个数为偶数个</p>
<p>但经过计算发现第二行和第三列 1 的个数为奇数个，判断相应的位置上出现错误。所以可以判断出行列交叉部分出现错误。可以将错误数字 1 改为 0。</p>
</li>
<li><p>海明校验</p>
<p>海明于 1950 年提出只要增加少数几个校验位，就能检测出二位同时出错、亦能检测出一位出错并能自动恢复该出错位的正确值的有效手段。</p>
<p>原理，是在 k 个数据位之外加上 r 个校验位，从而形成一个 k+r 位的新的码字，使新的码字的码距比较均匀地拉大。把数据的每一个二进制位分配在几个不同的偶校验位的组合中，当某一位出错后，就会引起相关的几个校验位的值发生变化，这不但可以发现出错，还能指出是哪一位出错，为进一步自动纠错提供了依据。</p>
<p>求 r 校验的方法是： 2<sup>r</sup> ≥ k+r+1 </p>
<p>其中 r 是校验的位数，k 是传输数据的位数。</p>
<p>例如：要传输的数据为 1000111，求海明校验码是多少？</p>
<p>第一步：由已知条件得到 k 是 7 位，所以 2<sup>r</sup> ≥ 7+r+1 ，通过不等式得到 r 的值为4。</p>
<p>所以可以确定，要传输上述的数据，需要有增加 4 位完成校验过程。</p>
<p>校验位可以是第 2<sup>0</sup>位、 2<sup>1</sup>位、 2<sup>2</sup>位、 2<sup>3</sup>位；即传输数据的第 1、2、4、8 位是做校验位，其余的位数为数据位。那么传输数据的总位数为 7 位+4 位=11 位。</p>
<p>第二步：求校验位的数据校验：主要是做进制转化。</p>
<p><img src="/images/image-20210811155851232.png" srcset="/img/loading.gif" lazyload alt="image-20210811155851232"></p>
<p>从行方面看：</p>
<p>3 转化为二进制为 11，也可以写成 0011，即 3 所对应的一行。</p>
<p>5 转化为二进制为 101，也可以写成 0101，即 5 所对应的一行。</p>
<p>从列方面看：</p>
<p>数字 1 所对应的列里，有出现数字 1 的，说明可以用第 1 位完成校验，出现数字 0 的说明第 1 位不能完成校验。则第 1 位可以校验 3、5、7、9、11 位</p>
<p>数字 2 所对应的列里，有出现数字 1 的，说明可以用第一位完成校验，出现数字 0 的说明第一位不能完成校验。则第 2 位可以校验 3、6、7、10、11 位</p>
<p>同理第 4 为可以校验 5、6、7 位； </p>
<p>第 8 位可以校验 9、10、11 位</p>
<p>第三步：求解过程：</p>
<p>因为 1、2、4、8 位是做校验位，所以数据只能存放在 3、5、6、7、9、10、11 位上。</p>
<p><img src="/images/image-20210811160211614.png" srcset="/img/loading.gif" lazyload alt="image-20210811160211614"></p>
<p><img src="/images/image-20210811160241730.png" srcset="/img/loading.gif" lazyload alt="image-20210811160241730"></p>
<p><img src="/images/image-20210811160314369.png" srcset="/img/loading.gif" lazyload alt="image-20210811160314369"></p>
<p><img src="/images/image-20210811160343414.png" srcset="/img/loading.gif" lazyload alt="image-20210811160343414"></p>
<p><img src="/images/image-20210811160412812.png" srcset="/img/loading.gif" lazyload alt="image-20210811160412812"></p>
<p><img src="/images/image-20210811160454982.png" srcset="/img/loading.gif" lazyload alt="image-20210811160454982"></p>
<p>判断错误的过程为：</p>
<p>第 1、3、5、7、9、11 位上 1 的格式为偶数个，说明没有错误。</p>
<p>第 2、3、6、7、10、11 位上 1 的格式为奇数个，说明有错误。</p>
<p>第 4、5、6、7 位上 1 的格式为奇数个，说明有错误。</p>
<p>第 8、9、10、11 位上 1 的格式为偶数个，说明没有错误。</p>
<p>而 2 和 4 号位的奇偶性校对，于是 2+4=6，立即可确认错在 6 号位。可以对其进行修改。</p>
<p>海明校验码也是能够找出奇数个错误的编码形式，并且对错误进行修改。</p>
</li>
</ol>
<h3 id="3-2-4-可靠传输"><a href="#3-2-4-可靠传输" class="headerlink" title="3.2.4 可靠传输"></a>3.2.4 可靠传输</h3><p>循环冗余检验 CRC 差错检测技术只能做到无差错接收（accept）。</p>
<p>“无差错接收”是指：“凡是接收的帧（即不包括丢弃的帧），我们都能以非常接近于 1 的概率认为这些帧在传输过程中没有产生差错”。</p>
<p>也就是说：“凡是接收端数据链路层接收的帧都没有传输差错”（有差错的帧就丢弃而不接收）。</p>
<p>要做到“可靠传输”（即发送什么就收到什么）就必须再加上确认和重传机制。</p>
<p>帧丢失：收到【#1】-【#3】（丢失【#2】）。</p>
<p>帧重复：收到【#1】-【#2】-【#2】-【#3】（收到两个【#2】）。</p>
<p>帧失序：收到【#l】-【#3】-【#2】（后发送的帧反而先到达了接收端，这与一般数据链路层的传输概念不一样）。</p>
<p>OSI 的观点是必须把数据链路层做成是可靠传输的。因此在 CRC 检错的基础上，增加了<strong>帧编号</strong>、<strong>确认和重传机制</strong>。收到正确的帧就要向发送端发送确认。发送端在一定的期限内若没有收到对方的确认，就认为出现了差错，因而就进行重传，直到收到对方的确认为止。但现在的通信线路的质量已经大大提高了，由通信链路质量不好引起差错的概率已经大大降低。</p>
<p><strong>因特网广泛使用的数据链路层协议都不使用确认和重传机制，即不要求数据链路层向上提供可靠传输的服务（因为这要付出的代价太高，不合算）</strong>。如果在数据链路层传输数据时出现了差错并且需要进行改正，那么改正差错的任务就由上层协议（例如，传输层的 TCP 协议）来完成。这样做可以提高通信效率。</p>
<h2 id="3-3-数据链路层协议"><a href="#3-3-数据链路层协议" class="headerlink" title="3.3 数据链路层协议"></a>3.3 数据链路层协议</h2><h3 id="3-3-1-PPP（点对点）协议"><a href="#3-3-1-PPP（点对点）协议" class="headerlink" title="3.3.1 PPP（点对点）协议"></a>3.3.1 PPP（点对点）协议</h3><ol>
<li><p>PPP 协议（Point to Point Protocol）有三个组成部分</p>
<ul>
<li><p>将 IP 数据报封装到串行链路的方法。</p>
</li>
<li><p>链路控制协议 LCP （Link Control Protocol）</p>
</li>
<li><p>网络控制协议 NCP （Network Control Protocol）</p>
</li>
</ul>
</li>
<li><p>ppp 协议满足功能</p>
<p>身份验证功能</p>
<p>简单——这是首要的要求</p>
<p>封装成帧：PPP 协议必须规定特殊的字符作为帧定界符（即标志个帧的开始和结束的字符），以便使接收端从收到的比特流中能准确地找出帧的开始和结束位置。</p>
<p>透明性：PPP 协议必须保证数据传输的透明性。如果数据中碰巧出现了和帧定界符一样的比特组合时，就要采取有效的措施来解决。</p>
<p>多种网络层协议：PPP 协议必须能够在同一条物理链路上同时支持多种网络层协议（如 lP 和 IPX 等）的运行。当点对点链路所连接的是局域网或路由器时，PPP 协议必须同时支持在链路所连接的局域网或路由器上运行的各种网络层协议。</p>
<p>多种类型链路：PPP 还必能够在多种类型的链路上运行。例如，串行的（一次只发送一个比特）或并行的（一次并行地发送多个比特），同步的或异步的，低速的或高速的，电的或光的，交换的（动态的）或非交换的（静态的）点对点链路。</p>
<p>差错检测：PPP 协议必须能够对接收端收到的帧进行检测，并立即丢弃有差错的帧。若在数据链路层不进行差错检测，那么已出现差错的无用帧就还要在网络中继续向前转发，从而会白白浪费许多的网络资源</p>
<p>检测连接状态：PPP 协议必须具有种机制能够及时（不超过几分钟）自动检测出链路是否处于正常工作状态。</p>
<p>最大传送单元：PPP </p>
<p>协议必须每一种点对点的链路设置最大传输单元 MTU 的标准。对于超过 MTU 长度的帧丢弃，并返回错误。</p>
<p>网络层地址协商</p>
<p>数据压缩协商</p>
</li>
<li><p>ppp 协议不需要的功能</p>
<ul>
<li>纠错；流量控制；序号；多点线路；半双工或单工链路。</li>
</ul>
<p><strong>PPP 协议只支持全双工链路</strong>。</p>
</li>
<li><p>ppp 组成</p>
<p>PPP 既支持异步链路（无奇偶检验的 8 比特数据），也支持面向比特的同步链路。IP 数据报在 ppp 帧中就是信息部分。这个信息部分的长度受到最大传输单元 MTU 限制。</p>
<p>1）链路控制协议 LCP （Link Control Protocol）</p>
<p>用来建立、配置和测试数据链路层连接。</p>
<p>在通过点对点链接建立通信之前，每个点对点链接的端必须发出链路控制协议包。不论链路控制协议包连接接不接收它的同等连接认证，它们的包大小限制是相同的，还有相同的错误控制。</p>
<p>2）网络控制协议 NCP （Network Control Protocol）</p>
<p>网络控制协议是一组独立定义的协议，它们负责在 PPP 建立过程中协商网络层属性。例如，如果一个用户要拨号进入 Cisco 路由器，该用户的机器一般不知道要使用哪个 IP 地址，因此必须通过 NCP/IPCP 协商从 Cisco 路由器获得一个地址。然而，当在专用连接上使用 PPP 时，网络管理者分配所有的网络层属性，因此 NCP 的能力并不重要。</p>
</li>
<li><p>ppp 帧的格式</p>
<p><img src="/images/image-20210811162823323.png" srcset="/img/loading.gif" lazyload alt="image-20210811162823323"></p>
<ol>
<li>标志字段 F = 0x7E （符号“0x”表示后面的字符是用十六进制表示。十六进制的 7E 的二进制表示是 01111110）。表示帧的开始和结束的标志。</li>
<li>地址字段 A 只置为 0xFF。地址字段实际上并不起作用。</li>
<li>控制字段 C 通常置为 0x03。</li>
<li>PPP 是面向字节的，所有的 PPP 帧的长度都是整数字节。（最长的是 1500 字节）。</li>
<li>PPP 有一个 2 个字节的协议字段。<ul>
<li>当协议字段为 0x0021 时，PPP 帧的信息字段就是 IP 数据报。</li>
<li>若为 0xC021， 则信息字段是 PPP 链路控制数据。</li>
<li>若为 0x8021，则表示这是网络控制数据。</li>
</ul>
</li>
</ol>
</li>
</ol>
<h3 id="3-3-2-CSMA-CD-技术"><a href="#3-3-2-CSMA-CD-技术" class="headerlink" title="3.3.2 CSMA/CD 技术"></a>3.3.2 CSMA/CD 技术</h3><p>总线上的广播式数据通信</p>
<p><img src="/images/image-20210811163117580.png" srcset="/img/loading.gif" lazyload alt="image-20210811163117580"></p>
<p>CSMA/CD 是载波监听多点接入／碰撞检测（Carrier Sense MultIPle Access with Collision Detection）的缩写。</p>
<p>“多点接入”在总线型网络，许多计算机以多点接入的方式连接在一根总线上。协议的实质是“载波监听”和“碰撞检测”。CSMA/CD 采用 IEEE 802.3 标准。</p>
<p>它的主要目的是：提供寻址和媒体存取的控制方式，使得不同设备或网络上的节点可以在多点的网络上通信而不相互冲突。</p>
<ol>
<li><p>工作过程</p>
<p>“载波监听”就是“发送前先监听”，即每一个站在发送数据之前先要检测一下总线上是否有其他站在发送数据，如果有，则暂时不要发送数据，要等待信道变为空闲时再发送。</p>
<p>其原理简单总结为：先听后发，边发边听，冲突停发，随机延迟后重发。</p>
<ul>
<li>先听后发：首先“监听”信道，看是否有信号在传输。如果信道空闲，就立即发送。</li>
<li>边发边听：发送信息的站点在发送过程中同时监听信道，检测是否有冲突发生。</li>
<li>冲突停发：当发送数据的节点检测到冲突后，就立即停止该次数据传输。</li>
<li>随机延迟后重发：当发生冲突后，向信道发送 “干扰”信号，以确保其他节点也发现该冲突，等待一段随机时间，再尝试重新发送。</li>
</ul>
<p><strong>在使用 CSMA/CD 协议时，一个站点不可能同时进行发送和接收</strong>。所以使用CSMA/CD 协议的以太网只能进行半双工通信或单工通信，不能进行全双工通信。</p>
</li>
<li><p>CSMA/CD 优点</p>
<p>原理比较简单，技术上易实现，网络中各工作站处于平等地位 ，不需集中控制，不提供优先级控制。但在网络负载增大时，发送时间增长，发送效率急剧下降。</p>
</li>
<li><p>二进制退避算法</p>
<p>随机延迟时间</p>
<p>随机选择的时间和遇到的冲突次数有关：首先规定一个固定的周期 2t，随机的时间是固定周期的整数倍。</p>
<p>首先：定义冲突次数 n，规定 n 不能超过 10，n=Min[冲突次数，10]。</p>
<p>其次：从整数集合[0，1，2，……，2<sup>n</sup>-1 ]中随机的取出一个数 m，则随机选择的时间为 m*2t。</p>
<p>最后：当冲突次数超过 16 次后，发送失败，丢弃传输的帧，发送错误报告。</p>
<p><img src="/images/image-20210811163822233.png" srcset="/img/loading.gif" lazyload alt="image-20210811163822233"></p>
</li>
<li><p>冲突/冲突域</p>
<p>冲突：在以太网中，两个节点同时在传输介质上有数据传输，则发生了数据冲突。</p>
<p>冲突域：在同一个冲突域中的每一个节点都能收到所有被发送的帧。</p>
<p>冲突越多，网络性能越差，越影响 CSMA/CD 的通信效率。</p>
</li>
<li><p>广播/广播域</p>
<p>广播：在网络传输中，向所有连通的节点发送消息称为广播。</p>
<p>广播域：网络中能接收任何一设备发出的广播帧的所有设备的集合。</p>
<p>广播一般是 IP 地址的主机位为 1，即广播地址，<strong>广播一般在一个网段内发生</strong>。</p>
</li>
</ol>
<h2 id="3-4-数据链路层设备"><a href="#3-4-数据链路层设备" class="headerlink" title="3.4 数据链路层设备"></a>3.4 数据链路层设备</h2><h3 id="3-4-1-硬件地址"><a href="#3-4-1-硬件地址" class="headerlink" title="3.4 1 硬件地址"></a>3.4 1 硬件地址</h3><p><strong>局域网规定了一种 48 位的全球地址，每一台计算机固化在适配器 ROM 芯片中的地址。计算机用户不可以修改该地址。</strong></p>
<ol>
<li><p>MAC 层的硬件地址</p>
<p>在局域网中，硬件地址又称为物理地址，或 MAC (Media Access Control Address, 媒体访问控制地址) 地址。</p>
<p>802 标准所说的“地址”严格地讲应当是每一个站的“名字”或标识符。</p>
<p>IEEE 的注册管理机构 RA 负责向厂家分配地址字段的前三个字节（即高位 24 位）。</p>
<p><strong>地址字段中的后三个字节（即低位 24 位）由厂家自行指派，称为扩展标识符</strong>，必须保证生产出的适配器没有重复地址。</p>
<p>一个地址块可以生成 2<sup>24</sup> 个不同的地址。这种 48 位地址称为 MAC-48，它的通用名称是 EUI-48。 </p>
</li>
<li><p>MAC 帧格式</p>
<p><img src="/images/image-20210811164544823.png" srcset="/img/loading.gif" lazyload alt="image-20210811164544823"></p>
<p>目的地址字段 6 字节,</p>
<p>源地址字段 6 字节</p>
<p>类型字段 2 字节：类型字段用来标志上一层使用的是什么协议，以便把收到的MAC 帧的数据上交给上一层的这个协议。</p>
<p>数据字段 46 ~ 1500 字节：数据字段的正式名称是 MAC 客户数据字段最小长度 (64 字节− 18 字节的首部和尾部= 数据字段的最小长度)</p>
<p>FCS 字段 4 字节：当传输媒体的误码率为 1 X 10<sup>−8</sup> 时，MAC 子层可使未检测到的差错小于 1 X 10<sup>−14</sup>。当数据字段的长度小于 46 字节时，应在数据字段的后面加入整数字节的填充字段，以保证以太网的 <strong>MAC 帧长不小于 64 字节</strong>。</p>
</li>
<li><p>MAC 帧的接收</p>
<ol>
<li>正确接收</li>
</ol>
<p>适配器从网络上每收到一个 MAC 帧就首先用硬件检查 MAC 帧中的 MAC 地址。</p>
<p>如果是发往本站的帧则收下，然后再进行其他的处理。</p>
<p>否则就将此帧丢弃，不再进行其他的处理。</p>
<p>2）丢弃的帧</p>
<p>数据字段的长度与长度字段的值不一致；（网络层实现改功能）</p>
<p>帧的长度不是整数个字节；</p>
<p>用收到的帧检验序列 FCS 查出有差错；</p>
<p>数据字段的长度不在 46~1500 字节之间。（<strong>MAC 帧的首部和尾部长度共 18 字节，所以有效的 MAC 帧长度为 64 ~ 1518 字节之间</strong>）。</p>
<p>对于检查出的无效 MAC 帧就简单地丢弃。以太网不负责重传丢弃的帧。</p>
</li>
<li><p>MAC 帧的类型</p>
<p>单播（unicast）帧（一对一）：收到的帧的 MAC 地址与本站的硬件地址相同。</p>
<p>广播（broadcast）帧（一对全体）：发送给本局域网上所有站点的帧（全 1 地址）。</p>
<p>多播（multicast）帧（一对多）：发送给本局域网上一部分站点的帧。</p>
<p>所有的适配器都至少应当能够识别前两种帧，即能够识别单播和广播地址。有的适配器可用编程方法识别多播地址。当操作系统启动时，它就把适配器初始化，使适配器能够识别某些多播地址。显然，只有目的地址才能使用广播地址和多播地址。</p>
</li>
</ol>
<h3 id="3-4-2-网络适配器"><a href="#3-4-2-网络适配器" class="headerlink" title="3.4.2 网络适配器"></a>3.4.2 网络适配器</h3><ol>
<li><p>网卡的概念</p>
<p>网络接口卡 NIC（Network Interface Card）又称网络接口卡或网络适配器。</p>
<p>网卡是工作在链路层的网络组件，是局域网中连接计算机和传输介质的接口，不仅能实现与局域网传输介质之间的物理连接和电信号匹配，还涉及帧的发送与接收、帧的封装与拆封、介质访问控制、数据的编码与解码以及数据缓存的功能等。</p>
</li>
<li><p>网卡的功能</p>
<p>1）网络接口</p>
<p>计算机连接上 internet 网，必须要有接口，可以使得计算机连入网络上。</p>
<p>2）电信号匹配</p>
<p>使得信号和电压能适合网络上的编码标准，比如传输的时候能很好的完成曼彻斯特编码或差分曼彻斯特编码技术，并且完成编码的译码任务。</p>
<p>3）数据的封装与解封</p>
<p>还需要能把数据链路层要发送的封装成 MAC 帧，完成数据的寻址工作。</p>
<p>发送时将上一层交下来的数据加上首部和尾部，成为以太网的帧。接收时将以太网的帧剥去首部和尾部，然后送交上一层。</p>
<p>4）链路管理</p>
<p>主要是 CSMA/CD（Carrier Sense MultIPle Access with Collision Detection ，带冲突检测的载波监听多路访问）协议的实现。</p>
<p><img src="/images/image-20210811165456727.png" srcset="/img/loading.gif" lazyload alt="image-20210811165456727"></p>
</li>
</ol>
<h3 id="3-4-3-网桥"><a href="#3-4-3-网桥" class="headerlink" title="3.4.3 网桥"></a>3.4.3 网桥</h3><ol>
<li><p>网桥的概念</p>
<p><strong>网桥（Bridge）也叫桥接器，是连接两个相同协议的局域网设备</strong>。也可以用于连接大的局域网中相同的网段。</p>
<p><img src="/images/image-20210811175126501.png" srcset="/img/loading.gif" lazyload alt="image-20210811175126501"></p>
</li>
<li><p>网桥功能</p>
<p>网桥在数据链路层上的局域网互联设备。</p>
<p>网桥需要互连的网络在数据链路层以上采用相同的协议；</p>
<p>网桥以接收、存储、地址过滤与转发的方式实现互连的网络之间的通信；</p>
<p>网桥可以使得数据的冲突在一个子网内发生。</p>
<p>网桥能够互连两个采用不同数据链路层协议、不同传输介质与不同传输速率的网络；</p>
</li>
<li><p>网桥缺点</p>
<p>由于网桥对接收的帧要先存储和查找站表，然后转发，这就增加了时延。</p>
<p>在 MAC 子层并没有流量控制功能。当网络上负荷很重时，可能因网桥缓冲区的存储空间不够而发生溢出，以致产生帧丢失的现象。</p>
<p>具有不同 MAC 子层的网段桥接在一起时，网桥在转发一个帧之前，必须修改帧的某些字段的内容，以适合另一个 MAC 子层的要求，增加时延。</p>
<p>网桥只适合于用户数不太多（不超过几百个）和信息量不太大的局域网，否则有时会产生较大的广播风暴。</p>
</li>
</ol>
<h3 id="3-4-4-交换机"><a href="#3-4-4-交换机" class="headerlink" title="3.4.4 交换机"></a>3.4.4 交换机</h3><ol>
<li><p>局域网交换机</p>
<p>1990 年问世的交换式集线器（switching hub），可明显地提高局域网的性能。</p>
<p><strong>交换机（Switch）可以看成是多端口网桥，是一种用于电（光）信号转发的网络设备</strong>。可以为接入交换机的任意两个网络节点提供独享的电信号通路，不同的通信信道之间相互不影响通信。最常见的交换机是以太网交换机、电话语音交换机、光纤交换机等。</p>
<p>交换式集线器常称为以太网交换机（switch）或第二层交换机（表明此交换机工作在数据链路层）。</p>
</li>
<li><p>工作原理</p>
<p>交换机工作于 OSI 参考模型的数据链路层。</p>
<p>1）按端口转发数据</p>
<p>交换机本身有一个路由表，路由表中记录了交换机端口主机的 MAC 地址和端口对应信息，当交换机收到 MAC 帧后。交换机直接根据路由表的信息，MAC 地址的数据包将仅送往其对应的端口。</p>
<p>2）隔离集线器广播</p>
<p>交换机可用于划分数据链路层广播，即冲突域；但它不能划分网络层的 IP 广播地址，即广播域。</p>
<p>交换机可以有效的避免有集线器形成的广播，但是不能隔离计算机网络层的广播（广播的 IP 地址）。</p>
<p>3）端口独立性</p>
<p><strong>交换机每一端口都可视为独立的物理网段，连接在其上的网络设备独自享有全部的带宽，无须同其他设备竞争使用。</strong></p>
<p>4）传输方式</p>
<p>交换机的传输模式有全双工，半双工，全双工/半双工自适应</p>
<p>交换机的全双工是指交换机在发送数据的同时也能够接收数据，两者同步进行，这好像我们平时打电话一样，说话的同时也能够听到对方的声音。交换机都支持全双工。全双工的好处在于迟延小，速度快。</p>
<p>5）虚拟局域网（Vlan）功能</p>
<p>VLAN（Virtual Local Area Network）的中文名为”虚拟局域网”。</p>
<p>虚拟局域网（VLAN）是一组逻辑上的设备和用户，这些设备和用户并不受物理位置的限制，可以根据功能、部门及应用等因素将它们组织起来，相互之间的通信就好像它们在同一个网段中一样，由此得名虚拟局域网。</p>
</li>
</ol>
<h3 id="3-4-5-虚拟局域网"><a href="#3-4-5-虚拟局域网" class="headerlink" title="3.4.5 虚拟局域网"></a>3.4.5 虚拟局域网</h3><p>VLAN 是工作在 OSI 参考模型的第 2 层和第 3 层，一个 VLAN 就是一个广播域，VLAN 之间的通信是通过第 3 层的路由器来完成的。与传统的局域网技术相比较，VLAN 技术更加灵活，它具有以下优点</p>
<ul>
<li>网络设备的移动</li>
<li>添加和修改的管理开销减少</li>
<li>可以控制广播活动</li>
<li>可提高网络的安全性。</li>
</ul>
<p>在计算机网络中，一个二层网络可以被划分为多个不同的广播域，一个广播域对应了一个特定的用户组，默认情况下这些不同的广播域是相互隔离的。不同的广播域之间想要通信，需要通过一个或多个路由器。这样的一个广播域就称为 VLAN。</p>
<p>核心是把不同的交换机接口划分到不同的子网中，这样子网的内部广播不会影响到其他的网络计算机。</p>
<p><img src="/images/image-20210811180529042.png" srcset="/img/loading.gif" lazyload alt="image-20210811180529042"></p>
<ol>
<li><p>虚拟局域网优点</p>
<p>限制网络上的广播，将网络划分为多个 VLAN 可减少参与广播风暴的设备数量。LAN 分段可以防止广播风暴波及整个网络。</p>
<p>VLAN 可以提供建立防火墙的机制，防止交换网络的过量广播。使用 VLAN，可以将某个交换端口或用户赋于某一个特定的 VLAN 组，该 VLAN 组可以在一个交换网中或跨接多个交换机，在一个 VLAN 中的广播不会送到 VLAN 之外。同样，相邻的端口不会收到其他 VLAN 产生的广播。这样可以减少广播流量，释放带宽给用户应用，减少广播的产生。</p>
</li>
<li><p>虚拟局域网的划分策略</p>
<p>1）按端口划分 VLAN</p>
<p>许多 VLAN 厂商都利用交换机的端口来划分 VLAN 成员。被设定的端口都在同一个广播域中。例如，一个交换机的 1，2，3，4，5 端口被定义为虚拟网 AAA，同一交换机的 6，7，8 端口组成虚拟网 BBB。这样做允许各端口之间的通讯，并允许共享型网络的升级。但是，这种划分模式将虚拟网限制在了一台交换机上。</p>
<p>2）按 MAC 地址划分 VLAN</p>
<p>这种划分 VLAN 的方法是根据每个主机的 MAC 地址来划分，即对每个 MAC 地址的主机都配置它属于哪个组。这种划分 VLAN 方法的最大优点就是当用户物理位置移动时，即从一个交换机换到其他的交换机时，VLAN 不用重新配置，所以，可以认为这种根据MAC地址的划分方法是基于用户的VLAN，这种方法的缺点是初始化时，所有的用户都必须进行配置，如果有几百个甚至上千个用户的话，配置是非常累的。而且这种划分的方法也导致了交换机执行效率的降低，因为在每一个交换机的端口都可能存在很多个 VLAN 组的成员，这样就无法限制广播包了。另外，对于使用笔记本电脑的用户来说，他们的网卡可能经常更换，这样，VLAN 就必须不停地配置。</p>
<p>3）按网络层划分</p>
<p>这种划分 VLAN 的方法是根据每个主机的网络层地址或协议类型(如果支持多协议)划分的，虽然这种划分方法是根据网络地址，比如 IP 地址，但它不是路由，与网络层的路由毫无关系。</p>
<p>这种方法的优点是用户的物理位置改变了，不需要重新配置所属的 VLAN，而且可以根据协议类型来划分 VLAN，这对网络管理者来说很重要，还有，这种方法不需要附加的帧标签来识别 VLAN，这样可以减少网络的通信量。</p>
<p>这种方法的缺点是效率低，因为检查每一个数据包的网络层地址是需要消耗处理时间的(相对于前面两种方法)，一般的交换机芯片都可以自动检查网络上数据包的以太网帧头，但要让芯片能检查 IP 帧头，需要更高的技术，同时也更费时。当然，这与各个厂商的实现方法有关。</p>
<p>4）按 IP 组播划分</p>
<p>IP 组播实际上也是一种 VLAN 的定义，即认为一个组播组就是一个 VLAN，这种划分的方法将 VLAN 扩大到了广域网，因此这种方法具有更大的灵活性，而且也很容易通过路由器进行扩展，当然这种方法不适合局域网，主要是效率不高。</p>
</li>
<li><p>虚拟局域网帧的格式</p>
<p><img src="/images/image-20210811181158788.png" srcset="/img/loading.gif" lazyload alt="image-20210811181158788"></p>
<p>虚拟局域网协议允许在以太网的帧格式中插入一个 4 字节的标识符，称为 VLAN 标记（tag），用来指明发送该帧的工作站属于哪一个虚拟局域网。</p>
</li>
</ol>
<h2 id="3-5-局域网技术"><a href="#3-5-局域网技术" class="headerlink" title="3.5 局域网技术"></a>3.5 局域网技术</h2><h3 id="3-5-1-局域网概念"><a href="#3-5-1-局域网概念" class="headerlink" title="3.5.1 局域网概念"></a>3.5.1 局域网概念</h3><p>局域网（Local Area Networks，LAN）是分组广播式网络，在广播通信网络中，所有的工作站都连接到共享的传输介质上，任何站发出的数据包其他站都能接收。共享信道的分配技术是局域网的核心技术，而这一技术又与网络的拓扑结构和传输介质有关。</p>
<h3 id="3-5-2-局域网结构"><a href="#3-5-2-局域网结构" class="headerlink" title="3.5.2 局域网结构"></a>3.5.2 局域网结构</h3><ol>
<li><p>拓扑结构</p>
<p>局域网采用拓扑结构主要是：总线型、环型、星型、树形拓扑结构。</p>
<p>1）总线型拓扑结构</p>
<p>总线型拓扑结构接入计算机的数量有限，数量过多，影响网络通信速率。</p>
<p>安装简单方便，需要铺设的电缆最短，成本低。</p>
<p>某个站点的故障不会影响整个网络，但总线介质的故障会导致网络瘫痪。</p>
<p>总线网络故障不易排除，很难检测出是哪个段线路出现的故障。</p>
<p>广播式通信，总线型网络安全性低。 </p>
<p>2）环型拓扑结构</p>
<p>环型拓扑结构需要多个网络连接设备，使得网络价格增加。</p>
<p>信息以固定方向单向流动，信息传输时，不需要线路选择，速度比较块。</p>
<p>网络中各某个工作站节点出故障，可能影响整个网络的通信。</p>
<p>不便于扩充，系统响应延时长，</p>
<p>主要采用令牌来控制网络信道的使用。</p>
<p>3）星型拓扑结构</p>
<p>计算机接入简单。网络线缆重复铺设比较大。</p>
<p>星型拓扑结构的特点是很容易在网络中增加新的站点。</p>
<p>中心节点的故障会引起整个网络瘫痪。</p>
<p>故障容易排除，在局域网中使用比较多的拓扑结构。</p>
<p>4）树形拓扑结构</p>
<p>继承了星型和总线的优点。</p>
<p>网络中结点扩充方便、灵活，寻查链路路径比较简单。</p>
<p>兄弟节点要进行数据传输的时候，必须通过父节点进行转发。</p>
<p>对根节点要求比较高。</p>
</li>
</ol>
<h3 id="3-5-3-局域网协议标准"><a href="#3-5-3-局域网协议标准" class="headerlink" title="3.5.3 局域网协议标准"></a>3.5.3 局域网协议标准</h3><p>802.1X 协议是由（美）电气与电子工程师协会提出，刚刚完成标准化的一个符合IEEE802 协议集的局域网接入控制协议，全称为基于端口的访问控制协议。</p>
<ul>
<li>802.1–高层及其交互工作。提供高层标准的框架，包括端到端协议、网络互连、网络管理、路由选择、桥接和性能测量。</li>
<li>802.2–连接链路控制 LLC，提供 OSI 数据链路层的高子层功能，提供 LAN、MAC子层与高层协议间的一致接口。</li>
<li>802.3–以太网规范。定义 CSMA/CD 标准的总线介质访问控制子层和物理层规范。</li>
<li>802.4–令牌总线网。令牌总线（Token Bus）介质访问控制子层和物理层规范。</li>
<li>802.5–令牌环线网，令牌传环（Token Ring）介质访问控制子层和物理层规范。</li>
<li>802.6–城域网 MAN。城域网的介质访问控制子层和物理层规范。</li>
<li>802.7–宽带技术咨询组，为其他分委员会提供宽带网络技术的建议和咨询。</li>
<li>802.8–光纤技术咨询组，为其他分委员会提供使用有关光纤网络技术的建议和咨询。</li>
<li>802.9–综合话音/数据局域网。</li>
<li>802.10–可互操作局域网安全标准（SILS ）。定义局域网互连安全机制。</li>
<li>802.11–无线局域网。定义自由空间媒体的媒体访问控制子层和物理层规范。</li>
<li>802.12–按需优先。定义使用按需优先访问方法的 100Mpbs 的以太网标准。</li>
<li>802.14–定义了电缆调调制解调器（cable modem）标准。</li>
<li>802.15–定义了近距离个人无线网络标准。</li>
<li>802.16–定义了宽带无线局域网标准。</li>
</ul>
<p>局域网主要使用 OSI 结构的下两层进行数据的通信和传输，所以 IEEE 802 标准把数据链路层划分成了两个子层。</p>
<p>与物理介质相关的 MAC（Media Access Conrrol）介质访问控制子层。</p>
<p>与上层“网络层”服务相关的 LLC（Logical Link Control），逻辑链路控制子层。</p>
<p><img src="/images/image-20210811183157243.png" srcset="/img/loading.gif" lazyload alt="image-20210811183157243"></p>
<ol>
<li><p>逻辑链路控制子层</p>
<p>逻辑链路控制子层主要是接收上一层即网络层传输过来的数据包，参与数据包的封装。一般分为数据添加上相应的包头信息：MAC 头、LLC 头、IP 头、TCP 头等。</p>
<p>LLC 负责识别网络层协议，然后对它们进行封装/接封装。工作原理是：主机接收到帧并查看其 LLC 报头，以找到数据包的目的地（查看数据包中各种包头协议）。LLC子层也可以提供流量控制并控制比特流的排序。</p>
<p>LLC 的主要功能是：管理数据链路通信、链接寻址、定义服务接入点 Service Access Points （SAP）、排序。</p>
</li>
<li><p>介质访问控制子层</p>
<p>MAC 主要负责控制与连接物理层的物理介质。</p>
<p>在发送数据的时候，MAC 协议在发送的数据加上一些控制信息，最终将数据以及控制信息以规定的格式发送到物理层；在接收数据的时候，MAC 协议首先判断输入的信息并是否发生传输错误，如果没有错误，则去掉控制信息发送至 LLC（逻辑链路控制）层，如果有错误产生，则直接丢弃当前的数据，告知对方需要重新传输数据。</p>
</li>
</ol>
<h3 id="3-5-4-局域网特点"><a href="#3-5-4-局域网特点" class="headerlink" title="3.5.4 局域网特点"></a>3.5.4 局域网特点</h3><p>覆盖范围小，一般覆盖范围有限几米到几十千米之间。</p>
<p>传输速度块，局域网内部传输的速度可以达到几百兆到几千兆。</p>
<p>局域网主要的功能是共享，能方便地共享昂贵的外部设备、主机以及软件、数据，使得局域网建设后可以节省很多的成本。</p>
<p>接入灵活，当新的计算机或终端接入网络时，可以很好的对单个设备进行设置。</p>
<p>误码率低，局域网覆盖的范围小，所以在传输中受到的感染相比比较少，这样能很好的保证信号的准确性。</p>
<p>低延时，局域网距离有限，所以在数据传输过程中，不需要过的线路选择和线路的传输延迟。</p>
<p>结构简单，局域网内部采用很简单的拓扑结构，所以在组建和维护比较容易，故障也比较容易维护。</p>
<h3 id="3-5-5-访问控制技术"><a href="#3-5-5-访问控制技术" class="headerlink" title="3.5.5 访问控制技术"></a>3.5.5 访问控制技术</h3><ol>
<li><p>循环式</p>
<p>每个站轮流得到发送机会。如果工作站利用这个机会发送，则可能对其发送时间或发送的数据总量有一定限制，超过这个限制的数据只能在下一轮中发送。所有的站按一定的逻辑顺序传递发送权限。这种顺序控制可能是集中式的，也可能是分布式的。</p>
</li>
<li><p>预约式</p>
<p>流式通信就是长时间连续传输。预约式控制适合这种通信方式。一般来说，这种技术把传输介质的使用时间划分为时间片。</p>
</li>
<li><p>竞争式</p>
<p>这种技术并不对各个工作站的发送权限进行控制，而是由各个工作站自由竞争发送机会，更适合分布式控制。</p>
<p>竞争式分配的主要优点在于其简单性。在轻负载或中等负载下效率较高。当负载很重时，其性能很快下降。</p>
</li>
</ol>
<h3 id="3-5-6-局域网技术"><a href="#3-5-6-局域网技术" class="headerlink" title="3.5.6 局域网技术"></a>3.5.6 局域网技术</h3><p>局域网在使用通信的时候，采用多种协议进行数据的访问控制：</p>
<p><img src="/images/image-20210811183626355.png" srcset="/img/loading.gif" lazyload alt="image-20210811183626355"></p>
<ol>
<li><p>以太网</p>
<p>1）以太网标准</p>
<p>以太网（Ethernet）指的是由 Xerox 公司创建并由 Xerox、Intel 和 DEC 公司联合开发的基带局域网规范，是当今现有局域网采用的最通用的通信协议标准。</p>
<p>以太网络使用 CSMA/CD（载波监听多路访问及冲突检测）技术。</p>
<p>以太网（10Mbit/s）、快速以太网（100Mbit/s）和 10G（10Gbit/s）吉比特以太网。它们都符合 IEEE802.3。</p>
<p>2）CSMA/CD 技术</p>
<p>带冲突检测的载波侦听多路访问 （CSMA/CD）技术规定了多台电脑共享一个通道的方法。</p>
<p>3）共享式以太网</p>
<p>共享式以太网的典型代表是使用 10Base2/10Base5 的总线型网络和以集线器为核心的星型网络。在使用集线器的以太网中，集线器将很多以太网设备集中到一台中心设备上，这些设备都连接到集线器中的同一物理总线结构中。</p>
<p>4）交换式以太网</p>
<p>在交换式以太网中，交换机根据收到的数据帧中的 MAC 地址决定数据帧应发向交换机的哪个端口，交换式以太网主要使用交换机来作为中心的设备传输。</p>
<p>交换式网络：</p>
<ul>
<li>减少冲突：交换机将冲突隔绝在每一个端口（每个端口都是一个冲突域），避免了冲突的扩散。</li>
<li>提升带宽：接入交换机的每个节点都可以使用全部的带宽，而不是各个节点共享带宽。</li>
</ul>
</li>
<li><p>令牌环网（Tooken Ring）</p>
<p>令牌是一种控制网络访问的特殊帧，允许哪个的设备计算机网络发送数据。</p>
<p>在令牌环网中有一个令牌沿着环形总线在入网节点计算机间依次传递，通过令牌控制信道的使用，确保在同一时刻只有一个节点能够独占信道。</p>
<p>令牌在工作中有“闲”和“忙”两种状态。“闲”表示令牌没有被占用，即网中没有计算机在传送信息；“忙”表示令牌已被占用，即网中有信息正在传送。</p>
<p>节点计算机只有取得令牌后才能发送数据帧，因此不会发生碰撞。</p>
<p>由于令牌在网环上是按顺序依次传递的，因此对所有入网计算机而言，访问权是公平的。</p>
</li>
<li><p>令牌总线网（Tooken Bus）</p>
<p>令牌总线网的拓扑结构是总线网，在数据传输的时候是环型网。是一种在总线拓扑中利用令牌作为控制节点访问公共传输介质的访问控制方法。</p>
<p>令牌按照站点地址的序列号，从一个站点传送到另外一个站点。数据从数字的第一个站点出发，在数字序列的最后一个站点将令牌返回到第一个站点。</p>
<p>站点的数字序列和物理位置无关，不一定按照物理位置编号，站点 1 可能在一条电缆的一端，而站点 2 在这条电缆的另外一端，站点 3 却在这条电缆的中间。</p>
<p>主要的工作是利用令牌来控制网络中节点数据的发送。</p>
<p>网上只有一个令牌沿环传递，得到令牌的站才能发送数据。</p>
</li>
<li><p>光纤分布式数据接口网（FDDI）</p>
<p>FDDI 的英文全称为（Fiber Distributed Data Interface），光纤分布式数据接口网络。</p>
<p>FDDI 在网络通信中采用定时“令牌”访问方法。</p>
<p>令牌沿网络环路从一个结点向另一个结点移动，如果某结点不需要传输数据，FDDI 将获取令牌并将其发送到下一个结点中。如果处理令牌的结点需要传输，那么在指定的称为“目标令牌循环时间”（Target Token Rotation Time，TTRT）的时间内，它可以按照用户的需求来发送尽可能多的帧。因为 FDDI 采用的是定时的令牌方法，所以在给定时间中，来自多个结点的多个帧可能都在网络上，以为用户提供高容量的通信。</p>
</li>
</ol>
<h1 id="4-网络层"><a href="#4-网络层" class="headerlink" title="4. 网络层"></a>4. 网络层</h1><h2 id="4-1-网络层基本概述"><a href="#4-1-网络层基本概述" class="headerlink" title="4.1 网络层基本概述"></a>4.1 网络层基本概述</h2><h3 id="4-1-1-网络层功能"><a href="#4-1-1-网络层功能" class="headerlink" title="4.1.1 网络层功能"></a>4.1.1 网络层功能</h3><ol>
<li><p>异构网络互联</p>
<p>1）异构网络概念</p>
<p>异构网络（Heterogeneous Network）是一种类型的网络，其是由不同制造商生产的计算机，网络设备和系统组成的，大部分情况下运行在不同的协议上支持不同的功能或应用。</p>
<p>2）网络互联</p>
<p>网络互连是指将不同的网络连接起来，以构成更大规模的网络系统，实现网络间的数据通信、资源共享和协同工作。</p>
<p>3）异构网络互联</p>
<p>解决不同的网络相互之间连接在一起，通过路由器等设备进行信息的转发，使得网络用户能访问其他网络上的资源，使不同网络上的用户互相通信和交换信息。这不仅有利于资源共享，也可以从整体上提高网络的可靠性。</p>
</li>
<li><p>两种服务</p>
<p>1）面向连接服务</p>
<p>面向连接的服务（connection-oriented service）就是通信双方在通信时，要事先建立一条通信线路，其过程有建立连接、使用连接和释放连接三个过程。</p>
<p>面向连接服务其特点是：数据传输过程前必须经过建立连接、维护连接和释放连接的 3 个过程；在数据传输过程中，各分组不需要携带目的节点的地址。</p>
<p>面向连接服务的传输过程可以用电路交换，一端放入数据，另一端取出数据。面向连接数据传输的收发数据顺序不变，因此传输的可靠性好，但需通信开始前的链接开销，协议复杂，通信效率不高。</p>
<p>2）无连接服务</p>
<p>无连接服务，不要求发送方和接收方之间事先连接。发送方给每个发送的数据分组（称为数据报）添加目的地址，数据就可以沿着不同的线路进行传输，最后到达目的地。</p>
<p>无连接服务的优点是通信比较迅速，使用灵活方便，连接开销小；但可靠性低，不能防止报文的丢失，重复或失序。适合于传送少量零星的报文。</p>
</li>
<li><p>路由选择</p>
<p>路由选择是指选择通过互连网络从源节点向目的节点传输信息的通道，而且信息至少通过一个中间节点。路由器利用网络层中定义的逻辑地址来决定如何在网络通信中更有效地传输数据信息，协议定义数据传输的语法和规则。</p>
<p>目的是在复杂的网络环境下，选择一条合适的网络路径来进行网络通信。保证数据的可靠的传输。</p>
<p>路径选择功能在 OSI 参考模型的网络层实现。</p>
</li>
<li><p>最大努力交付</p>
<p>网络层传输数据时，对传输的数据不进行校验，传输的过程中分组可能出错、丢失、重复和失序（不按序到达终点），当然也不保证分组传送的时限。</p>
</li>
</ol>
<h3 id="4-1-2-网络层的服务"><a href="#4-1-2-网络层的服务" class="headerlink" title="4.1.2 网络层的服务"></a>4.1.2 网络层的服务</h3><ol>
<li><p>面向连接的通信</p>
<p>建立虚电路（Virtual Circuit），以保证双方通信所需的一切网络资源。</p>
<p>如果再使用可靠传输的网络协议，就可使所发送的分组无差错按序到达终点。</p>
<p><img src="/images/image-20210811201805068.png" srcset="/img/loading.gif" lazyload alt="image-20210811201805068"></p>
<p>虚电路和电路连接的区别：</p>
<ul>
<li>虚电路表示这只是一条逻辑上的连接，分组都沿着这条逻辑连接按照存储转发方式传送，而并不是真正建立了一条物理连接。</li>
<li>电路交换的电话通信是先建立了一条真正的连接。因此分组交换的虚连接和电路交换的连接只是类似，但并不完全一样。</li>
</ul>
</li>
<li><p>无连接的通信</p>
<p>网络层向上只提供简单灵活的、无连接的、尽最大努力交付的数据报服务。</p>
<p><img src="/images/image-20210811201928840.png" srcset="/img/loading.gif" lazyload alt="image-20210811201928840"></p>
<p>网络在发送分组时不需要先建立连接。每一个分组（即 IP 数据报）独立发送，与其前后的分组无关（不进行编号）。网络层不提供服务质量的承诺。即所传送的分组可能出错、丢失、重复和失序（不按序到达终点），当然也不保证分组传送的时限。</p>
<p>尽最大努力交付。</p>
<p>由于传输网络不提供端到端的可靠传输服务，这就使网络中的路由器可以做得比较简单，而且价格低廉（与电信网的交换机相比较）。</p>
<p>如果主机（即端系统）中的进程之间的通信需要是可靠的，那么就由网络的主机中的传输层负责（包括差错处理、流量控制等）。</p>
<p>采用这种设计思路的好处是：网络的造价大大降低，运行方式灵活，能够适应多种应用。</p>
</li>
<li><p>虚电路交换和报文交换对比</p>
<p><img src="/images/image-20210811202151306.png" srcset="/img/loading.gif" lazyload alt="image-20210811202151306"></p>
</li>
</ol>
<h3 id="4-1-3-网络层的协议"><a href="#4-1-3-网络层的协议" class="headerlink" title="4.1.3 网络层的协议"></a>4.1.3 网络层的协议</h3><ol>
<li><p>地址解析协议 ARP（Address Resolution Protocol）</p>
<p>1）基本概念</p>
<p>是<strong>根据 IP 地址获取物理地址的一个 TCP/IP 协议</strong>。主机发送信息时将包含目标 IP地址的 ARP 请求广播到网络上的所有主机，并接收返回消息，以此确定目标的物理地址；收到返回消息后将该 IP 地址和物理地址存入本机 ARP 缓存中并保留一定时间，下次请求时直接查询 ARP 缓存以节约资源。</p>
<p><img src="/images/image-20210811203103158.png" srcset="/img/loading.gif" lazyload alt="image-20210811203103158"></p>
<p>IP 地址→ARP 协议→物理地址（MAC）</p>
<p>2）ARP 高速缓存的作用</p>
<p>为了减少网络上的通信量，主机 A 在发送其 ARP 请求分组时，就将自己的 IP 地址到硬件地址的映射写入 ARP 请求分组。</p>
<p>当主机 B 收到 A 的 ARP 请求分组时，就将主机 A 的这一地址映射写入主机 B 自己的 ARP 高速缓存中。这对主机 B 以后向 A 发送数据报时就更方便了。</p>
<p>3）注意</p>
<p>ARP 是解决同一个局域网上的主机或路由器的 IP 地址和硬件地址的映射问题。</p>
<p>如果所要找的主机和源主机不在同一个局域网上，那么就要通过 ARP 找到一个位于本局域网上的某个路由器的硬件地址，然后把分组发送给这个路由器，让这个路由器把分组转发给下一个网络。剩下的工作就由下一个网络来做。</p>
<p>从 IP 地址到硬件地址的解析是自动进行的，主机的用户对这种地址解析过程是不知道的。</p>
<p>只要主机或路由器要和本网络上的另一个已知 IP 地址的主机或路由器进行通信，ARP 协议就会自动地将该 IP 地址解析为链路层所需要的硬件地址。 </p>
<p>4）ARP 报文格式</p>
<p><img src="/images/image-20210811204004837.png" srcset="/img/loading.gif" lazyload alt="image-20210811204004837"></p>
<p>协议类型：指明了发送方提供的高层协议类型，IP 为 0800（16 进制）</p>
<p>操作类型：用来表示这个报文的类型，ARP 请求为 1，ARP 响应为 2，RARP 请求为 3，RARP 响应为 4。 </p>
<p>5）ARP 命令</p>
<p>C:\Users\Administrator&gt;ARP /?</p>
<p>格式：</p>
<p>ARP -s inet_addr eth_addr [if_addr]</p>
<p>ARP -d inet_addr [if_addr]</p>
<p>ARP -a [inet_addr] [-N if_addr] [-v]</p>
<p>参数：</p>
<p>-a：通过询问当前协议数据，显示当前 ARP 项。如果指定 inet_addr，则只显示指定计算机的 IP 地址和物理地址。如果不止一个网络接口使用 ARP，则显示每个ARP 表的项。</p>
<p><img src="/images/image-20210811204306821.png" srcset="/img/loading.gif" lazyload alt="image-20210811204306821"></p>
<p>-v 在详细模式下显示当前 ARP 项。所有无效项和环回接口上的项都将显示。inet_addr 指定 Internet 地址。</p>
<p>-N if_addr 显示 if_addr 指定的网络接口的 ARP 项。</p>
<p>-d 删除 inet_addr 指定的主机。inet_addr 可以是通配符 *，以删除所有主机。</p>
<p>-s 添加主机并且将 Internet 地址 inet_addr 与物理地址 eth_addr 相关联。物理地址是用连字符分隔的 6 个十六进制字节。该项是永久的。</p>
<p>eth_addr 指定物理地址。</p>
<p>if_add 如果存在，此项指定地址转换表应修改的接口的 Internet 地址。如果不存在，则使用第一个适用的接口。</p>
<p>示例:</p>
<p>&gt; ARP -s 157.55.85.212 00-aa-00-62-c6-09  添加静态项。</p>
<p>&gt; ARP -a   显示 ARP 表。</p>
</li>
<li><p>逆地址解析协议 RARP（Reverse Address Resolution Protocol）</p>
<p>允许局域网的物理机器从网关服务器的 ARP 表或者缓存上请求其 IP 地址。当设置一台新的机器时，其 RARP 客户机程序需要向路由器上的 RARP 服务器请求相应的 IP 地址。假设在路由表中已经设置了一个记录，RARP 服务器将会返回 IP 地址给机器，此机器就会存储起来以便日后使用。 RARP 可以使用于以太网、光纤分布式数据接口及令牌环 LAN。</p>
<p>物理地址（MAC）→RARP 协议→IP 地址</p>
</li>
<li><p>internet 控制报文协议 ICMP（Internet Control Message Protocol）</p>
<p>1）基本概念</p>
<p>用于在 IP 主机、路由器之间传递控制消息。控制消息是指网络通不通、主机是否可达、路由是否可用等网络本身的消息。这些控制消息虽然并不传输用户数据，但是对于用户数据的传递起着重要的作用。侦测远端主机是否存在；建立及维护路由资料；重导资料传送路径（ICMP 重定向）；资料流量控制。</p>
<p>2）ICMP 格式</p>
<p> ICMP 使用时，一般伴随 IP 使用：</p>
<p><img src="/images/image-20210811205833205.png" srcset="/img/loading.gif" lazyload alt="image-20210811205833205"></p>
<p>ICMP 报文具体格式如下：除去数据部分，ICMP 数据报文一共有 8 个字节。</p>
<p><img src="/images/image-20210811210015845.png" srcset="/img/loading.gif" lazyload alt="image-20210811210015845"></p>
<p>3）ICMP 类型</p>
<p><img src="/images/image-20210811210114675.png" srcset="/img/loading.gif" lazyload alt="image-20210811210114675"></p>
</li>
<li><p>internet 管理协议 IGMP（Internet Group Management Protocol）</p>
<p>因特网协议家族中的一个组播协议，用于 IP 主机向任一个直接相邻的路由器报告他们的组成员情况。它规定了处于不同网段的主机如何进行多播通信，其前提条件是路由器本身要支持多播。</p>
</li>
</ol>
<h2 id="4-2-IP-地址"><a href="#4-2-IP-地址" class="headerlink" title="4.2 IP 地址"></a>4.2 IP 地址</h2><h3 id="4-2-1-IPV4"><a href="#4-2-1-IPV4" class="headerlink" title="4.2.1 IPV4"></a>4.2.1 IPV4</h3><ol>
<li><p>IPV4 概念</p>
<p>1）IPV4 地址的概念</p>
<p>IP（Internet Protocol Address）地址是指互联网协议地址，是 IP Address 的缩写。<strong>在互联网上的每一台计算机分配唯一的一个逻辑地址，即 IP 地址。</strong>使用 IP 地址来进行广域网的寻址和数据报的传输。</p>
<p>2）IPV4 地址的特点</p>
<p>a. 唯一性</p>
<p>在 Internet 上的计算机所拥有的 IP 地址是不同的，即网络中不能有两台主机同时使用同一个 IP 地址。如果使用会造成 IP 地址冲突，使得后使用者不能使用 IP 地址进行网路连接。</p>
<p>一台计算机上可以设置多个 IP 地址，但是使用的时候只能用其中的 1 个发送数据或作为计算机的唯一标识。</p>
<p>b. 固定长度</p>
<p>IPV4 地址是由 32 位二进制表示的，在 IPV4 地址中理论可以放  2<sup>32</sup> 个 IP 地址，当然去掉一部分特殊的 IP 地址后，使得 IP 地址的总数量会减少。</p>
<p>c. 点分十进制</p>
<p>由于 32 位二进制不容易记忆和书写，所以在书写 IP 地址的时候，需要用到点分十进制书写，即把32位二进制平均分成4个字节，然后把二进制数转化为十进制书写，中间用点号隔开。转化后十进制数值不大于 255。</p>
<p><img src="/images/image-20210811211122740.png" srcset="/img/loading.gif" lazyload alt="image-20210811211122740"></p>
<p>d. 可变性</p>
<p>计算机拥有的 IP 地址不是固定不变的，当计算机所在的网络发生变化后，其 IP地址也要跟着发生变化。注意这里的变化指的是网络发生变化不是计算机的位置变化。</p>
<p>注意：逻辑（IP）地址可变，但是物理（MAC）地址不可变。</p>
<p>e. 组成</p>
<p><strong>IP 地址由两部分组成：{ &lt;网络号&gt;，&lt;主机号&gt;}</strong></p>
<p>网络号：表示计算机所在的网络，路由器在进行路由选择的时候使用的。</p>
<p>主机号：表示网络中的某台主机，是计算机在某个网络中的唯一标识。</p>
<p>网络号相同的计算机可以不经过路由器的转发就可以直接通信。</p>
</li>
<li><p>IPv4 分类</p>
<p>1）国际分类标准</p>
<p>根据 32 位中的第一个字节的不同，可以将 IP 地址分为 ABCDE 五大类。</p>
<p><img src="/images/image-20210811211444124.png" srcset="/img/loading.gif" lazyload alt="image-20210811211444124"></p>
<p>2）使用范围分类</p>
<ol>
<li><p>公有 IP 地址</p>
<p>公有地址由 Inter NIC（Internet Network Information Center 因特网信息中心）负责分配。当有组织机构提出申请后，可以由 Inter NIC 分配给该机构一个公有的 IP 地址。通过公有 IP 可直接访问因特网。</p>
</li>
<li><p>私有 IP 地址</p>
<p>私有地址不需要注册，可以直接使用的地址，一般在公司内部使用。</p>
<p>常见的私有地址有：</p>
<p>A 类 10.0.0.0–10.255.255.255</p>
<p>B 类 172.16.0.0–172.31.255.255</p>
<p>C 类 192.168.0.0–192.168.255.255</p>
</li>
<li><p>计算机不能直接使用</p>
<p>有些计算机的 IP 地址是不能直接被计算机使用：</p>
<ul>
<li>主机号全为 0 的地址表示网络号。</li>
<li>主机号全为 1 的地址表示本网广播地址。</li>
<li>32 位全为 1 表示广播地址</li>
<li>127 开头的地址是本地回环地址，是用来测试 TCP/IP 协议的正确性。</li>
<li>当计算机自动获取 IP 地址失败后，会获取一个 169.254.*.*地址，这部分地址是用来标识计算机的，不能用于网络通信使用</li>
</ul>
</li>
<li><p>IP 地址汇总</p>
<p><img src="/images/image-20210811213000667.png" srcset="/img/loading.gif" lazyload alt="image-20210811213000667"></p>
</li>
<li><p>子网掩码</p>
<ol>
<li><p>子网掩码概念</p>
<p>子网掩码是一种用来指明一个 IP 地址的网络位和主机位，知道了 IP 地址的网络位，就可以确定计算机 IP 地址所在的网络，知道了主机位就可以确定该 IP 地址所在网络的位置。</p>
</li>
<li><p>子网掩码功能</p>
<p>子网掩码不能单独存在，它必须结合 IP 地址一起使用。</p>
<p>子网掩码是一个 32 位地址，一般在书写的时候也是点分十进制表示。</p>
<p><strong>在子网掩码中，1 表示网络位，0 表示主机位</strong>。</p>
</li>
<li><p>默认子网掩码</p>
<p>A 类网络的子网掩码为 255.0.0.0，B 类网络的子网掩码为 255.255.0.0，C 类网络的子网掩码为 255.255.255.0。</p>
</li>
<li><p>求网络号</p>
<p>主机号全为 0 的地址表示网络号。</p>
<p>第一步把 IP 地址转化为二进制。</p>
<p>第二步把子网掩码转化为二进制。</p>
<p>第三步保留子网掩码中 1 所对应的部分，主机位用 0 填充。</p>
<p>第四步转为点分十进制。</p>
<p>求 IP 地址为 192.172.123.125，子网掩码为 255.255.255.240 的网络号？</p>
<p><img src="/images/image-20210811213843272.png" srcset="/img/loading.gif" lazyload alt="image-20210811213843272"></p>
</li>
<li><p>求广播号</p>
<p>主机号全为 1 的地址表示广播号。</p>
<p>第一步把 IP 地址转化为二进制。</p>
<p>第二步把子网掩码转化为二进制。</p>
<p>第三步保留子网掩码中 1 所对应的部分，主机位用 1 填充。</p>
<p>第四步转为点分十进制。</p>
<p>求 IP 地址为 192.172.123.125，子网掩码为 255.255.255.240 的网络号？</p>
<p><img src="/images/image-20210811214013844.png" srcset="/img/loading.gif" lazyload alt="image-20210811214013844"></p>
</li>
<li><p>求主机号</p>
<p>第一步把 IP 地址转化为二进制。</p>
<p>第二步把子网掩码转化为二进制。</p>
<p>第三步保留子网掩码中 0 所对应的部分。</p>
<p>求 IP 地址为 192.172.123.125，子网掩码为 255.255.255.240 的主机号？</p>
<p><img src="/images/image-20210811214102623.png" srcset="/img/loading.gif" lazyload alt="image-20210811214102623"></p>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="4-2-2-子网划分"><a href="#4-2-2-子网划分" class="headerlink" title="4.2.2 子网划分"></a>4.2.2 子网划分</h3><ol>
<li><p>划分子网划分的好处</p>
<p>节约 IP 地址，避免浪费，使得大网络划分成小的网络，这样可以分配给公司使用，能很好的解决 IP 地址紧缺的问题。</p>
<p>限定广播的传播，可以把计算机网络中的广播限制在一个小的广播域。</p>
<p>保证网络的安全，有助于覆盖大型地理区域。</p>
</li>
<li><p>子网数量计算</p>
<p>形成子网的数量计算：从主机位借位当网络位来使用。</p>
<p><img src="/images/image-20210811214250580.png" srcset="/img/loading.gif" lazyload alt="image-20210811214250580"></p>
</li>
<li><p>子网划分例题</p>
<p>C 类地址例子：网络地址 202.168.10.0；子网掩码 255.255.255.192 。</p>
<p>第一步：子网数= （原来 C 类默认是 24 位子网掩码，现在有 26 位子网掩码，借了 2 位）</p>
<p>第二步：主机数= 2<sup>6</sup>=64（计算机网络可用主机的数量是 64-2=62 个） </p>
<p>第三步：有效主机范围是：</p>
<p><img src="/images/image-20210811214652287.png" srcset="/img/loading.gif" lazyload alt="image-20210811214652287"></p>
</li>
</ol>
<h3 id="4-2-3-IP-转发"><a href="#4-2-3-IP-转发" class="headerlink" title="4.2.3 IP 转发"></a>4.2.3 IP 转发</h3><ol>
<li><p>局域网内</p>
<p>同一局域网内计算机之间通信是根据 IP 地址和 MAC 地址的对应信息直接通信，不需要经过路由器端口的转发，只需要保证计算机的 IP 地址是在同一网段中就可以。同一网段的问题涉及到的是子网划分技术。</p>
</li>
<li><p>广域网</p>
<p>广域网通信主要是利用计算机的 IP 地址进行寻址和通信，数据报需要经过多个路由器的转发，不断的变化 MAC 地址，最终根据目的地址（IP）找到目的主机。</p>
<p>在通信过程中，需要涉及到网络安全，不能泄漏内部网路的地址信息，所以数据需要进行数据传输的时候要考虑到以下的措施：第一在广域网上传输时，内部 MAC 地址不能传输到外部网络。第二内部的 IP 地址需要经过 Nat 技术变化为外部的 IP 地址。但变换后的 IP 地址信息就不再发生变化了。</p>
<p>广域网进行路径选择的时候需要录用路由表的信息，寻找合适的路径。</p>
</li>
<li><p>IP 报文传输</p>
<p><img src="/images/image-20210811215020902.png" srcset="/img/loading.gif" lazyload alt="image-20210811215020902"></p>
<p>在传输过程中：下一层的帧是看不到上一层数据的控制信息，只能查看本层的数据协议信息，并且对其封装和转发。</p>
<p>网络层的逻辑寻址：在整个传输过程中 IP 的源地址和目的地址不变。</p>
<p>数据链路层物理寻址：在整个传输过程中 MAC 帧的物理地址不断变化。</p>
<p>物理层的信号传输：物理层主要是负责信号的实际传输。</p>
</li>
</ol>
<h3 id="4-2-4-IP-报文格式"><a href="#4-2-4-IP-报文格式" class="headerlink" title="4.2.4 IP 报文格式"></a>4.2.4 IP 报文格式</h3><p>IP 数据包也叫 IP 报文分组，传输在 ISO 网络 7 层结构中的网络层，它由 IP 报文头和 IP 报文用户数据组成，IP 报文头的长度一般在 20 到 60 个字节之间，其中固定长度是 20 字节，而一个 IP 分组的最大长度则不能超过 65535 个字节，在传输中一般不会超过 65525 的长度，在数据帧中有最大传输单元 MTU 的限制。</p>
<p><img src="/images/image-20210811215203709.png" srcset="/img/loading.gif" lazyload alt="image-20210811215203709"></p>
<ol>
<li><p>版本（4 位）</p>
<p>指 IP 协议的版本，0100 表示 IPV4，0110 表示 IPV6。在通信时，计算机所使用的 IP 版本号必须相同。</p>
</li>
<li><p>首部长度（4 位）</p>
<p>范围是 0000—1111，最小为 0，最大为 15。1 个单位 4 字节，IP 的首部长度的最大值是 60 字节。</p>
</li>
<li><p>区分服务（8 位）</p>
<p>用来获得更好的服务。</p>
<p>前 3 位表示报文的优先级：111 网络控制；110 互联网控制；101 紧急；100 火速覆盖；011 火速；010 立即；001 优先级；000 路由。</p>
<p><img src="/images/image-20210811215437480.png" srcset="/img/loading.gif" lazyload alt="image-20210811215437480"></p>
<p>相应的位数上为 1 表示更低时延、更高的吞吐量、更高的可靠性、更低的路由代价等。</p>
</li>
<li><p>总长度（16 位）</p>
<p>指首部和数据之和的长度，单位为字节，数据长度不超过最大传送单元 MTU。理论最大长度为 65535 字节。包头总长度必须是 32 位节的整数倍。</p>
<p>若数据报长度超过对于 MTU 的值，就将数据报进行分片处理，此时数据报首部中的总长度字段是指分片后的每一个分片的报头长度和数据长度之和。</p>
</li>
<li><p>标识（16 位）</p>
<p>是一个计数器，用来产生数据报的标识。每产生一个数据报，计数器就加 1，并将值赋给标识字段。但是这个标识不是序号，因为 IP 是无连接服务，数据报不存在按序接收的问题。</p>
<p>当数据报进行分片处理后，每个分片的标识值都与原数据报的标识值相同，则在接收端具有相同标识值的分片就能最终正确的重装成为原来的数据报。</p>
</li>
<li><p>标志（3 位）</p>
<p><img src="/images/image-20210811215702678.png" srcset="/img/loading.gif" lazyload alt="image-20210811215702678"></p>
<p>MF=1 表示后面“还有分片”。MF=0 表示最后一个分片。</p>
<p>只有当 DF=0 时才允许分片。</p>
</li>
<li><p>片偏移（13 位）</p>
<p>用于指明分段起始点相对于报头起始点的偏移量，即当前接收的分片需要从从包头处向后移动的数量。可以使接收者按照正确的顺序重组数据包。片偏移以 8 个字节为单位。（计算过程见后 15 点）</p>
</li>
<li><p>生存时间（8 位）</p>
<p><strong>TTL（Time To Live）数据报在网络中可通过的路由器数的最大值</strong>。用于防止数据包在网络上无休止地被传输；长度 8 位，最大值 255，每经过一台路由器 TTL 被减 1。</p>
</li>
<li><p>协议（8 位）</p>
<p>字段指出此数据报携带的数据使用何种协议。</p>
<p><img src="/images/image-20210811215905498.png" srcset="/img/loading.gif" lazyload alt="image-20210811215905498"></p>
</li>
<li><p>首部检验和（16 位）</p>
<p>针对 IP 报头的纠错字段。</p>
</li>
<li><p>源地址（32 位）</p>
<p>发送方的 IP 地址。</p>
</li>
<li><p>目的地址（32 位）</p>
<p>接收方的 IP 地址。</p>
<p>IP 地址在传输过程中不变。</p>
</li>
<li><p>可变部分</p>
<p>被添加在 IP 报头中，包括源点产生的信息和其它路由器加入的信息；可选字段，主要用于测试，长度可变、支持排错、测量以及安全等措施等。</p>
</li>
<li><p>填充</p>
<p>通过在可选字段后面添加 0 来补足 32 位，为了确保报头长度是 32 的倍数。</p>
</li>
<li><p>片偏移的计算</p>
<p>例题：数据报的总长度为 2450 字节，使用固定首部，需要分片为长度不超过 1000字节的数据报片。</p>
<p>数据总长度是 2450 字节，去掉 20 字节的首部，则剩余 2430 字节的数据部分，现在分片的长度不超过 1000 字节，所以可以把数据分为 3 部分。3 部分数据的长度分别为 1000、1000、430 字节，在每个分片前加上 20 字节的首部。</p>
<p><img src="/images/image-20210811220136153.png" srcset="/img/loading.gif" lazyload alt="image-20210811220136153"></p>
</li>
</ol>
<h3 id="4-2-5-IPv6"><a href="#4-2-5-IPv6" class="headerlink" title="4.2.5 IPv6"></a>4.2.5 IPv6</h3><ol>
<li><p>IPV6 概念</p>
<p>IPv6 是 Internet Protocol Version 6 的缩写，是下一代 IP 地址，用于替代现行版本IP 协议（IPv4）的下一代 IP 协议，目的是为解决 IP 地址紧缺的问题。扩大地址的可用空间，满足计算机网路增长的需求。</p>
</li>
<li><p>IPv6 的主要特点</p>
<p>IPv6 将地址 32 位（IPV4）增大到了 128 位二进制，使得地址数量变为原来的 2<sup>96</sup> 倍，地址数量更多，适应未来网络扩展的需求。</p>
<p>IPV6 简化了报文头，包头有 8 个字节，加快报文转发，提高了吞吐量。</p>
<p>IPV6 中路由器可以简化过滤选项，加快了报文处理速度。</p>
<p>IPV6 增加了身份认证和隐私权的特征，提高安全性。</p>
<p>IPV6 支持更多的服务类型。</p>
<p>IPV6 增加协议继续演变，使之适应未来技术的发展；</p>
</li>
<li><p>IPv6 表示方法</p>
<p>1）冒分十六进制表示法</p>
<p>格式为 X:X:X:X:X:X:X:X，其中每个 X 表示地址中的 16b，以十六进制表示，例如：fec0：0000：0000：0000：0000：ffff：1abd：0001</p>
<p>这种表示法中，连续的 0000 是可以简写为 0，例如：</p>
<p>fec0：0：0：0：0：ffff：1abd：1</p>
<p>2）0 位压缩表示法</p>
<p>可以把连续的一段 0 压缩为“：：”。但地址中”：：”只能出现一次，例如：fec0：0：0：0：ffff：0：0：1 可以写成  fec0：：ffff：0：0：1 或 fec0：0：0：0：ffff：：1</p>
<p>3）兼容 IPv4 地址表示法</p>
<p>0:0:0:0:0:0:128.10.2.1 再使用零压缩即可得出：::128.10.2.1</p>
</li>
<li><p>IPV6 的地址格式</p>
<p><img src="/images/image-20210811222327129.png" srcset="/img/loading.gif" lazyload alt="image-20210811222327129"></p>
<p>版本号（4 位）：主要区别 IPv4，其二进制值为（0110）。</p>
<p>流量等级（8 位）：主要用于 QoS。</p>
<p>流标签（20 位）：用来标识同一个流里面的报文。</p>
<p>载荷长度（16 位）： IPv6 包头部后包含的字节数，包含扩展头部。</p>
<p>下一报头（8 位）：该字段用来指明报头后接的报文头部的类型，若存在扩展头，表示第一个扩展头的类型。</p>
<p>跳数限制（8 位）：TTL 生存时间（参照路由协议）。</p>
<p>源地址（128 位）：发送端地址。</p>
<p>目的地址（128 位）：接收端地址。</p>
</li>
<li><p>IPv6 地址类型</p>
<p>单播：单播就是传统的点对点通信。</p>
<p>多播：多播是一点对多点的通信。</p>
<p>任播：这是 IPv6 增加的一种类型。任播的目的站是一组计算机，但数据报在交付时只交付其中的一个，通常是距离最近的一个。</p>
</li>
</ol>
<h2 id="4-3-路由器"><a href="#4-3-路由器" class="headerlink" title="4.3 路由器"></a>4.3 路由器</h2><h3 id="4-3-1-路由器的概念"><a href="#4-3-1-路由器的概念" class="headerlink" title="4.3.1 路由器的概念"></a>4.3.1 路由器的概念</h3><p>路由器（Router）是通信子网的核心设备，是连接因特网中各局域网、广域网的设备，根据信道的情况自动选择和设定路由，以最佳路径，按前后顺序发送信号。</p>
<h3 id="4-3-2-路由器的功能"><a href="#4-3-2-路由器的功能" class="headerlink" title="4.3.2 路由器的功能"></a>4.3.2 路由器的功能</h3><ol>
<li><p>网络连接</p>
<p>路由器支持各种局域网和广域网连接，广域网和广域网连接，实现不同网络互相通信，完成异构网络的互联功能。</p>
</li>
<li><p>路由寻址</p>
<p>路由器根据路由表的对应信息，可以直接把数据报文转发到下一个路由器，数据包经过国多次由转发后，就可以到达目的地。</p>
</li>
<li><p>数据转发</p>
<p>路由器对进出路由内部的数据报文信息进行过滤，提供包括分组过滤、分组转发、优先级、复用、加密、压缩和防火墙等功能。</p>
</li>
<li><p>网络管理</p>
<p>网络管理主要是对网络进行子网划分、拨号加密等功能。路由器还提供包括路由器配置管理、性能管理、容错管理和流量控制等功能。</p>
</li>
<li><p>隔绝广播域</p>
<p>使得 IP 的广播报文限制在一个网段（或子网）中进行广播，这样的广播信号不会传输到其他的网络中，造成网络的拥塞和资源的浪费，能更好的保证网络的安全性。</p>
</li>
</ol>
<h3 id="4-3-3-路由协议"><a href="#4-3-3-路由协议" class="headerlink" title="4.3.3 路由协议"></a>4.3.3 路由协议</h3><ol>
<li><p>路由设置</p>
<p>1）静态路由</p>
<p>以手工方式将路由添加到每台路由器的路由表中的方式就是静态路由。</p>
<p>添加默认路由的命令是：</p>
<p>IP route 192.168.1.1   255.255.255.0    10.65.1.2</p>
<ol>
<li><p>优点</p>
<p>对于路由器的 CPU 没有管理性开销。</p>
<p>在路由器之间没有带宽占用，意味着在 WAN 链接中可以节省花费。</p>
<p>增加了安全性，因为管理员可以有选择地允许路由只访问特定的网络。</p>
</li>
<li><p>缺点</p>
<p>管理员必须真正了解所配置的互联网络，正确配置这些路由。网络发生变化的时候需要修改路由表，工作量大。对于大型网络来说，静态路由会导致巨大的工作量，不可行。</p>
</li>
</ol>
<p>2）动态路由</p>
<p>使用协议来查找网络并更新路由表的配置就是动态路由。这比使用静态或默认路由容易，但它需要一定的路由器 CPU 处理时间和网络链接带宽。路由协议定义了路由器与相邻路由器通信时所使用的一组规则。</p>
<p>其特点是能较好地适应网络状态的变化，管理员不需要对每一条路由信息进行设置，路由器可以通过自动学习功能，确定好路由表。</p>
</li>
<li><p>路由选择协议算法</p>
<p>1）距离矢量</p>
<p>距离矢量协议通过判断距离查找到达远程网络的最佳路径。<strong>数据包每通过一台路由器，称为一跳</strong>。使用最少跳数量到达网络的路由被认为是最佳路由。RIP 和 IGRP 都是距离矢量路由选择协议。</p>
<p>2）链路状态</p>
<p><strong>链路状态协议也称为最短路径优先协议</strong>。使用它的路由器分别创建 3 个独立的表。其中一个表用来跟踪直接相连接的邻居，一个用来判定整个互联网络的拓扑，而另一个用于路由选择表。链路状态路由器要比任何使用距离矢量路由选择协议的路由器知道更多关于互联网络的情况。OSPF 完全是一个链路状态的 IP 路由选择协议。</p>
</li>
<li><p>常见路由协议</p>
<p>1）内部网关协议 RIP</p>
<ol>
<li><p>RIP 协议</p>
<p>RIP（Routing information Protocol，路由信息协议）是应用较早、使用较普遍的内部网关协议（Interior Gateway Protocol，IGP），适用于小型同类网络的一个自治系统（AS）内的路由信息的传递。、</p>
<p>RIP 是一种分布式的基于距离向量的路由选择协议。</p>
<p>RIP 协议要求网络中的每一个路由器都要维护从它自己到其他每一个目的网络的距离记录。</p>
<p>RIP 允许一条路径最多只能包含 15 个路由器。“距离”的最大值为 16 时即相当于不可达。</p>
<p>RIP 好消息传播得快，而坏消息传播得慢。</p>
</li>
<li><p>RIP 路由信息</p>
<p><img src="/images/image-20210812121018720.png" srcset="/img/loading.gif" lazyload alt="image-20210812121018720"></p>
<p><img src="/images/image-20210812121100721.png" srcset="/img/loading.gif" lazyload alt="image-20210812121100721"></p>
<p><img src="/images/image-20210812121157353.png" srcset="/img/loading.gif" lazyload alt="image-20210812121157353"></p>
<p><img src="/images/image-20210812121222881.png" srcset="/img/loading.gif" lazyload alt="image-20210812121222881"></p>
<p><img src="/images/image-20210812121248003.png" srcset="/img/loading.gif" lazyload alt="image-20210812121248003"></p>
<p>距离为 0 说明是直连交付，距离为 1 说明需要中间要再经过 1 个路由器。如果距离为 16，说明不可达。</p>
<p>例题：假定网络中的路由器 A 的路由表有如下的项目</p>
<p><img src="/images/image-20210812121350664.png" srcset="/img/loading.gif" lazyload alt="image-20210812121350664"></p>
<p><img src="/images/image-20210812121413682.png" srcset="/img/loading.gif" lazyload alt="image-20210812121413682"></p>
</li>
</ol>
<p>2）OSPF 路由协议</p>
<p><strong>OSPF（Open Shortest Path First，ospf）开放最短路径优先协议</strong>，是由 Internet 工程任务组开发的路由选择协议，公用协议，任何厂家的设备。</p>
<p>OSPF 的“最短路径优先”是因为使用了 Dijkstra 提出的最短路径算法 SPF</p>
<p>OSPF 只是一个协议的名字，它并不表示其他的路由选择协议不是“最短路径优先”。</p>
<p>OSPF 是分布式的链路状态协议。</p>
<p>OSPF 还规定每隔一段时间，如 30 分钟，要刷新一次数据库中的链路状态。OSPF 没有“坏消息传播得慢”的问题，据统计，其响应网络变化的时间小于 100 ms。</p>
<p>3）BGP 路由协议.</p>
<p>BGP 是不同自治系统的路由器之间交换路由信息的协议。</p>
<p>边界网关协议（BGP）是运行于 TCP 上的一种自治系统的路由协议。 BGP 是唯一一个用来处理像因特网大小的网络的协议，也是唯一能够妥善处理好不相关路由域间的多路连接的协议。</p>
<p>BGP 的路由表也就应当包括目的网络前缀、下一跳路由器，以及到达该目的网络所要经过的各个自治系统序列。</p>
<p>BGP 系统的主要功能是和其他的 BGP 系统交换网络可达信息。网络可达信息包括列出的自治系统（AS）的信息。这些信息有效地构造了 AS 互联的拓扑图并由此清除了路由环路，同时在 AS 级别上可实施策略决策。</p>
<p>BGP 刚刚运行时，BGP 的邻站是交换整个的 BGP 路由表。但以后只需要在发生变化时更新有变化的部分。</p>
</li>
</ol>
<h2 id="4-4-广域网技术"><a href="#4-4-广域网技术" class="headerlink" title="4.4 广域网技术"></a>4.4 广域网技术</h2><h3 id="4-4-1-广域网概念"><a href="#4-4-1-广域网概念" class="headerlink" title="4.4.1 广域网概念"></a>4.4.1 广域网概念</h3><p>Wide Area Netwok，也称远程网。通常是指跨越很大地理范围的网络。一般从几十公里到几千公里。它能连接多个城市或国家，甚至横跨几大洲，并提供远距离通信。</p>
<p>由相距较远的局域网或城域网互连而成，通常是除了计算机设备以外，还要涉及一些电信通讯方式。</p>
<p>与局域网区别之一在于需要向外界的广域网服务供应商申请广域网服务。</p>
<p>广域网技术主要体现在 OSI 参考模型的下 3 层。</p>
<h3 id="4-4-2-广域网设备"><a href="#4-4-2-广域网设备" class="headerlink" title="4.4.2 广域网设备"></a>4.4.2 广域网设备</h3><p>路由器（router）：提供诸如局域网互连、广域网接口等多种服务。</p>
<p>交换机（switch）：连接到广域网上，进行语音、数据及视频通信。</p>
<p>调制解调器（modem）：提供话音服务的接口，信道服务单元是 T1/E2 服务的接口，终端适配器是综合业务数字网的接口。</p>
<p>通讯服务器（communication server）：汇集用户拨入和拨出的连接。</p>
<h3 id="4-4-3-广域网技术"><a href="#4-4-3-广域网技术" class="headerlink" title="4.4.3 广域网技术"></a>4.4.3 广域网技术</h3><ol>
<li><p>专线技术</p>
<p>1）DDN 概述</p>
<p>DIGITAL DATA NETWORK 数字数据网。DDN 专线接入向用户提供的是永久性的数字连接，既可用于计算机之间的通信，也可用于传送数字化传真，数字话音，数字图像信号或其它数字化信号。</p>
<p>2）优点</p>
<p>线路是为某公司独立建立。</p>
<p>传输质量高，流量独立、私有线路、安全性高。</p>
<p>传输速率高，网络延时小，带宽固定、流量固定。</p>
<p>数据信息传输透明度高，可支持任何规程，可传输语音、数据、传真、图象等多种业务。</p>
</li>
<li><p>公用电话网 PSTN</p>
<p>PSTN（Public Switched Telephone Network）公共交换电话网，主要是为电话通信而建立的网络，覆盖范围大，网络价格低廉。</p>
<p>电话网包括本地电话网、长途电话网、国际电话网等多种类型。是业务量最大、服务面最广的电信网。</p>
</li>
<li><p>公用分组交换数据网</p>
<p>PSDN（Packet Switched Data Network）分组交换数据网是一种以分组（Packet）为基本数据单元进行数据交换的通信网络。</p>
<p>是比较早的网路交换方式，分组交换数据网使用 X.25 协议标准，故通常也称它为X.25 网。</p>
<p>X.25 建议标准分为三个协议层，即物理层、链路层和分组层。</p>
<p>随着更完美的数字电话服务和差错更正功能的调制解调器的快速发展，再来讨论X.25 不再有什么实际意义了。结果就是帧中继的出现，帧中继就是带有差错自动修正功能的 X.25。现虚电路的概念仍然在异步传输模式中使用来进行拥塞控制和网络服务。</p>
</li>
<li><p>综合业务数字网 ISDN</p>
<p>1）ISDN</p>
<p>综合业务数字网（ISDN），俗称“一线通”。它除了可以用来打电话，还可以提供诸如可视电话、数据通信、会议电视等多种业务，从而将电话、传真、数据、图像等多种业务综合在一个统一的数字网络中进行传输和处理，这也就是“综合业务数字网”名字的来历。</p>
<p>2）优点分析</p>
<p>综合的通信业务：可以在上网的同时拨打电话、收发传真。</p>
<p>传输质量高：由于采用端到端的数字传输通信质量高。</p>
<p>使用灵活方便：只需一个入网接口，可以完成不同的通信。</p>
<p>3）缺点</p>
<p>速度相对于 ADSL 和 LAN 等接入方式来说，速度不够快。</p>
<p>在进行通信时，需要长时间的拨号保持连接，费用会很高。</p>
</li>
<li><p>帧中继 FR</p>
<p>1）FR</p>
<p>帧中继（Frame Relay）是从综合业务数字网中发展起来的，是一种用于连接计算</p>
<p>机系统的面向分组的通信方法。它主要用在公共或专用网上的局域网互联以及广域网</p>
<p>连接</p>
<p>2）特点</p>
<p>仅提供面向连接的虚电路服务。</p>
<p>局域网通过广域网互联时，体现出低网络时延、低设备费用、高带宽利用率等优点。</p>
<p>使用光纤作为传输介质，通信效率高。</p>
<p>因为采用了基于变长帧的异步多路复用技术，帧中继主要用于数据传输，而不适合语音、视频或其他对时延时间敏感的信息传输。</p>
<p>传输中，只检错不纠错。</p>
<p>帧长度可变，允许最大帧长度在 1600B 以上。</p>
<p>没有滑动窗口式的流控，只有拥塞控制。</p>
</li>
<li><p>ATM 技术</p>
<p>1）ATM</p>
<p>异步传输模式（ATM Asynchronous Transfer Mode），就是建立在电路交换和分组交换的基础上的一种新的交换技术。<strong>ATM 的信元的长度为 53 个字节</strong>。</p>
<p>ATM 是以信元为基础的一种分组交换和复用技术，数据分组大小固定。</p>
<p>它是一种为了多种业务设计的通用的面向连接的传输模式。</p>
<p>它适用于局域网和广域网，它具有高速数据传输率和支持许多种类型如声音、数据、传真、实时视频、CD 质量音频和图像的通信。</p>
<p>ATM 是在 LAN 或 WAN 上传送声音、视频图像和数据的宽带技术。</p>
<p>2）ATM 特点</p>
<p>其特征：基于信元的分组交换技术；快速交换技术；面向连接的信元交换；预约带宽。</p>
<p>其优点：吸取电路交换实时性好，分组交换灵活性强的优点；采取定长分组（信元）作为传输和交换的单位；具有优秀的服务质量；目前最高的速度为 10GB/S，即将达到 40GB/S.</p>
<p>其缺点：信元首部开销太大；技术复杂且价格昂贵。</p>
</li>
</ol>
<h1 id="5-传输层"><a href="#5-传输层" class="headerlink" title="5. 传输层"></a>5. 传输层</h1><h2 id="5-1-传输层基本概述"><a href="#5-1-传输层基本概述" class="headerlink" title="5.1 传输层基本概述"></a>5.1 传输层基本概述</h2><h3 id="5-1-1-传输层功能"><a href="#5-1-1-传输层功能" class="headerlink" title="5.1.1 传输层功能"></a>5.1.1 传输层功能</h3><p>分割与重组数据</p>
<p>按端口号寻址</p>
<p>传输层要向会话层提供通信服务的可靠性，避免报文的出错、丢失、延迟时间紊乱、重复、乱序等差错。</p>
<p>传输层为应用进程之间提供端到端的逻辑通信（但网络层是为主机之间提供逻辑通信）。</p>
<p>传输层还要对收到的报文进行差错检测、差错控制、流量控制，纠错的功能。 </p>
<p>传输层需要有两种不同的运输协议，即面向连接的 TCP 和无连接的 UDP。 </p>
<h3 id="5-1-2-传输层服务"><a href="#5-1-2-传输层服务" class="headerlink" title="5.1.2 传输层服务"></a>5.1.2 传输层服务</h3><ol>
<li><p>面向连接服务</p>
<p>TCP（Transmission Control Protocol 传输控制协议）是一种面向连接（连接导向）的、可靠的、基于 IP 的传输层协议。TCP 为了保证报文传输的可靠，就给每个包一个序号，同时序号也保证了传送到接收端实体的包的按序接收。然后接收端实体对已成功收到的字节发回一个相应的确认（ACK）；如果发送端实体在合理的往返时延（RTT）内未收到确认，那么对应的数据（假设丢失了）将会被重传。</p>
</li>
<li><p>无连接服务</p>
<p>UDP（User Datagram Protocol）用户数据报协议是定义用来在互连网络环境中提供包交换的计算机通信的协议，此协议默认认为网路协议（IP）是其下层协议。UDP 是 TCP 的另外一种方法，像 TCP 一样，UDP 使用 IP 协议来获得数据单元（叫做数据报），不像 TCP 的是，它不提供包（数据报）的分组和组装服务。</p>
<p>UDP 在传送数据之前不需要先建立连接。对方的运输层在收到 UDP 报文后，不需要给出任何确认。虽然 UDP 不提供可靠交付，但在某些情况下 UDP 是一种最有效的工作方式。</p>
</li>
</ol>
<h3 id="5-1-3-协议端口"><a href="#5-1-3-协议端口" class="headerlink" title="5.1.3 协议端口"></a>5.1.3 协议端口</h3><ol>
<li><p>端口定义</p>
<p>计算机”端口”是英文 port 的意译，可以认为是计算机与外界通讯交流的出口。端口可分为虚拟端口和物理端口，其中虚拟端口指计算机内部或交换机路由器内的端口，不可见。例如计算机中的 80 端口、21 端口、23 端口等。物理端口又称为接口，是可见端口，计算机背板的 RJ45 网口，交换机路由器集线器等 RJ45 端口。电话使用 RJ11插口也属于物理端口的范畴。</p>
<p>端口是运行在计算机中的进程是用进程标识符来标志的。</p>
</li>
<li><p>端口号</p>
<p>熟知端口：数值一般为 0~1023。</p>
<p>登记端口号：数值为 1024~49151，为没有熟知端口号的应用程序使用的。使用这个范围的端口号必须在 IANA 登记，以防止重复。</p>
<p>客户端口号或短暂端口号：数值为 49152~65535，留给客户进程选择暂时使用。</p>
<p>当服务器进程收到客户进程的报文时，就知道了客户进程所使用的动态端口号。通信结束后，这个端口号可供其他客户进程以后使用。</p>
</li>
<li><p>常见端口</p>
<p><img src="/images/image-20210812130649958.png" srcset="/img/loading.gif" lazyload alt="image-20210812130649958"></p>
<p><img src="/images/image-20210812130714527.png" srcset="/img/loading.gif" lazyload alt="image-20210812130714527"></p>
</li>
</ol>
<h2 id="5-2-TCP-协议"><a href="#5-2-TCP-协议" class="headerlink" title="5.2 TCP 协议"></a>5.2 TCP 协议</h2><h3 id="5-2-1-面向字节"><a href="#5-2-1-面向字节" class="headerlink" title="5.2.1 面向字节"></a>5.2.1 面向字节</h3><p>TCP 中的“流”（stream）指的是流入到进程或从进程流出的字节序列。“面向字节流”的含义是：虽然应用程序和 TCP 的交互是一次一个数据块（大小不等），但TCP 把应用程序交下来的数据看成仅仅是一连串的无结构的字节流。</p>
<p>TCP 并不知道所传送的字节流的含义。</p>
<p>TCP 不保证接收方应用程序所收到的数据块和发送方应用程序所发出的数据块具有对应大小的关系（例如，发送方应用程序交给发送方的 TCP 共 10 个数据块，但接收方的 TCP 可能只用了 4 个数据块就把收到的字节流交付给了上层的应用程序）。</p>
<p><img src="/images/image-20210812131417138.png" srcset="/img/loading.gif" lazyload alt="image-20210812131417138"></p>
<p>TCP 对应用进程一次把多长的报文发送到 TCP 的缓存中是不关心的。TCP 根据对方给出的窗口值和当前网络拥睦的程度来决定一个报文段应包含多少个字节（UDP 发送的报文长度是应用进程给出的）。</p>
<p>如果应用进程传送到 TCP 缓存的数据块太长，TCP 就可以把它划分短一些再传送。如果应用进程一次只发来一个字节。TCP 也可以等待积累自足够多的字节后再构成报文段发送出区。</p>
<h3 id="5-2-2-TCP-传输特点"><a href="#5-2-2-TCP-传输特点" class="headerlink" title="5.2.2 TCP 传输特点"></a>5.2.2 TCP 传输特点</h3><p>TCP 提供可靠交付的服务，TCP 连接是一条虚连接而不是一条真正的物理连接。</p>
<p>TCP 对应用进程一次把多长的报文发送到 TCP 的缓存中是不关心的。TCP 根据对方给出的窗口值和当前网络拥塞的程度来决定一个报文段应包含多少个字节（UDP发送的报文长度是应用进程给出的）。</p>
<p>TCP 可把太长的数据块划分短一些再传送。TCP 也可等待积累有足够多的字节后再构成报文段发送出去。</p>
<p>TCP 是面向连接的传输层协议。</p>
<p>每一条 TCP 连接只能有两个端点（endpoint），每一条 TCP 连接只能是点对点的（一对一）。</p>
<p>TCP 提供全双工通信。</p>
<p>面向字节流。</p>
<h3 id="5-2-3-TCP-报文格式"><a href="#5-2-3-TCP-报文格式" class="headerlink" title="5.2.3 TCP 报文格式"></a>5.2.3 TCP 报文格式</h3><p>TCP 报文包括两部分：首部和数据两部分。</p>
<p>TCP 报文的首部的前 20 个字节是固定的，后面有 4N 字节根据需要而增加的选项（N 是整数）。所以 TCP 首部的最小长度是 20 字节。 </p>
<p><img src="/images/image-20210812131828132.png" srcset="/img/loading.gif" lazyload alt="image-20210812131828132"></p>
<ol>
<li>源端口和目的端口：各为 16 比特，用于表示应用层的连接。源端口表示产生数据包的应用层进程，而目的端口则表示数据包所要到达的目的进程。</li>
<li>序列号：为 32 比特，表示数据流中的字节数。序列号为首字节在整个数据流中编号的位置。初始序列号随机产生，并在连接建立阶段予以同步。序号的范围是[0， 2^32-1]共有 2^32（4284 967 296）个序号，序号到 2^32-1 后从 0 开始。<ul>
<li>TCP 是面向字节流的。在一个 TCP 连接中传送的字节流中的每一个字节都按顺序编号。要传送的字节流的起始序号必须在连接建立时设置。首部中的序号字段值则指的是本报文段所发送的数据的第一个字节的序号。</li>
<li>例如，一报文段的序号字段值是 301，而携带的数据共有 100 字节。这就表明：本报文段的数据的第一个字节的序号是 301，最后一个字节的序号是 400。显然，下一个报文段（如果还有的话）的数据序号应当从 401 开始，即下一个报文段的序号字段值应为 401。这个字段的名称也叫做“报文段序号”。</li>
</ul>
</li>
<li>确认号：表示序号为确认号减去 1 的数据包及其以前的所有数据包已经正确接收，也就是说它相当于下一个准备接收的字节的序号。</li>
<li>数据偏移：4 比特，用于指示数据起始位置。由于 TCP 包头中可选项的长度可变，因此整个包头的长度不固定。如果没有附加字段，则 TCP 数据包基本长度为 20字节。</li>
<li>中间的标志位就是用于协议的一些机制的实现的比特位可以看到有 6 比特，它们依次如下：URG、ACK、PSH、RST、SYN、FIN。<ul>
<li>URG ：为 1 表示紧急指针有效，为 0 则忽略紧急指针值。</li>
<li>ACK ：为 1 表示确认号有效，为 0 表示报文中不包含确认信息，忽略确认号字段。若确认号=N，则表明序号 N-1 为止的所有数据已经正确收到。</li>
<li>PSH ：为 1 表示是带有 PUSH 标志的数据，指示接收方应该尽快将这个报文段交给应用层而不用等待缓冲区装满。</li>
<li>RST ：用于复位由于主机崩溃或其他原因而出现错误的连接。它还可以用于拒绝非法的报文段和拒绝连接请求。一般情况下，如果收到一个 RST 为 1 的报文，那么一定发生了某些问题。</li>
<li>SYN ：同步序号，为 1 表示连接请求，用于建立连接和使顺序号同步（ synchronize ）。</li>
<li>FIN ：用于释放连接，为 1 表示发送方已经没有数据发送了，即关闭本方数据流。</li>
</ul>
</li>
<li>窗口大小（ 16 位）：数据字节数，表示从确认号开始，本报文的源方可以接收的字节数，即源方接收窗口大小。窗口大小是一个 16bit 字段，因而窗口大小最大为 65535 字节。</li>
<li>校验和（ 16 位）：此校验和是对整个的 TCP 报文段，包括 TCP 头部和 TCP数据，以 16 位字进行计算所得。这是一个强制性的字段，一定是由发送端计算和存储，并由接收端进行验证。</li>
<li>紧急指针（ 16 位）：只有当 URG 标志置 1 时紧急指针才有效。紧急指针是一个正的偏移量，和顺序号字段中的值相加表示紧急数据最后一个字节的序号。 TCP的紧急方式是发送端向另一端发送紧急数据的一种方式。</li>
<li>选项：最常见的可选字段是最长报文大小，又称为 MSS（Maximum Segment Size） 。每个连接方通常都在通信的第一个报文段（为建立连接而设置 SYN 标志的那个段）中指明这个选项，它指明本端所能接收的最大长度的报文段。选项长度不一定是 32 位字的整数倍，所以要加填充位，使得报头长度成为整字数。</li>
<li>数据： TCP 报文段中的数据部分是可选的。</li>
</ol>
<h2 id="5-3-UDP-协议"><a href="#5-3-UDP-协议" class="headerlink" title="5.3 UDP 协议"></a>5.3 UDP 协议</h2><h3 id="5-3-1-概述"><a href="#5-3-1-概述" class="headerlink" title="5.3.1 概述"></a>5.3.1 概述</h3><p>UDP 只在 IP 的数据报服务之上增加了很少一点的功能，即端口的功能和差错检测的功能。虽然 UDP 用户数据报只能提供不可靠的交付，但 UDP 在某些方面有其特殊的优点。</p>
<h3 id="5-3-2-UDP-面向报文"><a href="#5-3-2-UDP-面向报文" class="headerlink" title="5.3.2 UDP 面向报文"></a>5.3.2 UDP 面向报文</h3><p>发送方 UDP 对应用程序交下来的报文，在添加首部后就向下交付 IP 层。UDP对应用层交下来的报文，既不合并，也不拆分，而是保留这些报文的边界。</p>
<p>应用层交给 UDP 多长的报文，UDP 就照样发送，即一次发送一个报文。</p>
<p>接收方 UDP 对 IP 层交上来的 UDP 用户数据报，在去除首部后就原封不动地交付上层的应用进程，一次交付一个完整的报文。</p>
<p>应用程序必须选择合适大小的报文。</p>
<p><img src="/images/image-20210812132534897.png" srcset="/img/loading.gif" lazyload alt="image-20210812132534897"></p>
<h3 id="5-3-3-UDP-优点"><a href="#5-3-3-UDP-优点" class="headerlink" title="5.3.3 UDP 优点"></a>5.3.3 UDP 优点</h3><p>UDP 是无连接的，即发送数据之前不需要建立连接。</p>
<p>UDP 使用尽最大努力交付，即不保证可靠交付，同时也不使用拥塞控制。</p>
<p>UDP 是面向报文的。UDP 没有拥塞控制，很适合多媒体通信的要求。</p>
<p>UDP 支持一对一、一对多、多对一和多对多的交互通信。</p>
<p>UDP 的首部开销小，只有 8 个字节。</p>
<h3 id="5-3-4-UDP-格式"><a href="#5-3-4-UDP-格式" class="headerlink" title="5.3.4 UDP 格式"></a>5.3.4 UDP 格式</h3><p>用户数据报 UDP 有两个字段：数据字段和首部字段。首部字段很简单，只有 8个字节，由四个字段组成，每个字段的长度都是两个字节。各字段意义如下：</p>
<ul>
<li>源端口：源端口号。在需要对方回信时选用。不需要时可用全 O。</li>
<li>目的端口：目的端口号。这在终点交付报文时必须要使用到。</li>
<li>长度：UDP 用户数据报的长度，其最小值是 8（仅有首部）。</li>
<li>检验和：检测 UDP 用户数据报在传输中是否有错。有错就丢弃。</li>
<li>在计算检验和时，临时把“伪首部”和 UDP 用户数据报连接在一起。伪首部仅仅是为了计算检验和。</li>
</ul>
<p><img src="/images/image-20210812133004037.png" srcset="/img/loading.gif" lazyload alt="image-20210812133004037"></p>
<h3 id="5-3-5-UDP-的校验"><a href="#5-3-5-UDP-的校验" class="headerlink" title="5.3.5 UDP 的校验"></a>5.3.5 UDP 的校验</h3><p>UDP 计算检验和和 IP 数据报首部检验不同的是：IP 数据报的检验和只检验 lP 数据报的首部，但 UDP 的检验和是把首部和数据部分一起都检验。</p>
<p>首先是先把全零放入检验和字段。再把伪首部以及 UDP 用户数据报看成是由许多 16 位的字串接起来。若 UDP 用户数据报的数据部分不是偶数个字节，要填写若干个全零字节（但此字节不发送）。然后按二进制反码计算出这些 16 位字的和。当无差错时其结果应为全 1，否则就表明有差错出现，接收方就应丢弃这个 UDP 用户数据报（也可以上交给应用层，但附上出现了差错的警告）。</p>
<p>这里假定用户数据报的长度是 15 字节，因此要添加一个全 0 的字节。不难看出，这种简单的差错检验方法的检错能力并不强，但它的好处是简单，处理起来较快。</p>
<p><img src="/images/image-20210812133141360.png" srcset="/img/loading.gif" lazyload alt="image-20210812133141360"></p>
<p><img src="/images/image-20210812133216395.png" srcset="/img/loading.gif" lazyload alt="image-20210812133216395"></p>
<p>伪首部的第 3 字段是全零，第 4 个字段是 lP 首部中的协议字段的值。以前已讲过，对于 UDP，此协议字段值为 17。第 5 字段是 UDP 用户数据报的长度。因此，这样的检验和，既检验 UDP 用户数据报的源端口号和目的端口号以及 UDP 用户数据报的数据部分，又检查了 IP 数据报的源 IP 地址和目的地址。</p>
<h3 id="5-3-6-端口校验"><a href="#5-3-6-端口校验" class="headerlink" title="5.3.6 端口校验"></a>5.3.6 端口校验</h3><p>如果接收方 UDP 发现收到的报文中的目的端口号不正确（即不存在对应于该端口号的应用进程）。就丢弃该报文，并由 ICMP 发送“端口不可达”差错报文给发送方。</p>
<p><img src="/images/image-20210812133345863.png" srcset="/img/loading.gif" lazyload alt="image-20210812133345863"></p>
<h2 id="5-4-传输层技术"><a href="#5-4-传输层技术" class="headerlink" title="5.4 传输层技术"></a>5.4 传输层技术</h2><p>TCP 发送的报文段是交给 lP 层传送的。但 IP 层只能提供尽最大努力服务，也就是说，TCP 下面的网络所提供的是不可靠的传输。因此，TCP 必须采用适当的措施才能使得两个运输层之间的通信变得可靠。</p>
<h3 id="5-4-1-停止等待"><a href="#5-4-1-停止等待" class="headerlink" title="5.4.1 停止等待"></a>5.4.1 停止等待</h3><p>每发送一个数据分组就停止发送，等待对方的确认，在收到确认后再发送下一个分组。</p>
<ol>
<li><p>无差错情况</p>
<p>A 发送分组 M1，发完就暂停传送，等待 B 的确认。B 收到了 M1 就向 A 发送确认。A 在收到了对 M1 的确认后，就再发送下一个分组 M2。</p>
</li>
<li><p>出现差错</p>
<p>B 接收 M1 时检测出了差错，就丢弃 M1，不通知 A 收到有差错的分组。</p>
<p>M1 在传输过程中丢失了，这时 B 当然什么都不知道。在这两种情况下，B 都不会发送任何信息。</p>
<p>A 只要超过了一段时间仍然没有收到确认，就认为刚才发送的分组丢失了，因而重传前面发送过的分组。这就叫做超时重传。</p>
<p><img src="/images/image-20210812133905371.png" srcset="/img/loading.gif" lazyload alt="image-20210812133905371"></p>
</li>
<li><p>注意</p>
<p>在发送完一个分组后，必须暂时保留已发送的分组的副本。</p>
<p>分组和确认分组都必须进行编号。</p>
<p>超时计时器的重传时间应当比数据在分组传输的平均往返时间更长一些。</p>
<p>可靠传输协议常称为<strong>自动重传请求 ARQ （Automatic Repeat Request）</strong>。</p>
<p><img src="/images/image-20210812133935456.png" srcset="/img/loading.gif" lazyload alt="image-20210812133935456"></p>
</li>
<li><p>流水技术</p>
<p>停止等待协议的优点是简单，但缺点是信道利用率太低。</p>
<p>为了提高传输效率，发送方可以不使用低效率的停止等待协议，而是采用流水线传输。</p>
<p><img src="/images/image-20210812134128013.png" srcset="/img/loading.gif" lazyload alt="image-20210812134128013"></p>
</li>
</ol>
<h3 id="5-4-2-连续-ARQ-协议"><a href="#5-4-2-连续-ARQ-协议" class="headerlink" title="5.4.2 连续 ARQ 协议"></a>5.4.2 连续 ARQ 协议</h3><p>发送方维持的发送窗口，它的意义是：位于发送窗口内的 5 个分组都可连续发送出去，而不需要等待对方的确认。这样，信道利用率就提高了。</p>
<p>连续 ARQ 协议规定，发送方每收到一个确认，就把发送窗口向前滑动一个分组的位置。发送方收到了对第 1 个分组的确认，于是把发送窗口向前移动一个分组的位置。如果原来已经发送了前 5 个分组，那么现在就可以发送窗口内的第 6 个分组了。</p>
<p><img src="/images/image-20210812134331736.png" srcset="/img/loading.gif" lazyload alt="image-20210812134331736"></p>
<h3 id="5-4-3-滑动窗口"><a href="#5-4-3-滑动窗口" class="headerlink" title="5.4.3 滑动窗口"></a>5.4.3 滑动窗口</h3><ol>
<li><p>基本概念</p>
<p>TCP 采用大小可变的滑动窗口进行流量控制。窗口大小的单位是字节。</p>
<p>在 TCP 报文段首部的窗口字段写入的数值就是当前给对方设置的发送窗口数值的上限。</p>
<p>发送窗口在连接建立时由双方商定。但在通信的过程中，接收端根据自己的资源情况，随时动态地调整对方的发送窗口上限值（可增大或减小）。</p>
<p>根据 B 给出的窗口值 A 构造出自己的发送窗口</p>
<p>TCP 标准强烈不赞成发送窗口前沿向后收缩</p>
<p><img src="/images/image-20210812134549675.png" srcset="/img/loading.gif" lazyload alt="image-20210812134549675"></p>
<p>发送方 A 的发送窗口。发送窗口表示：在没有收到 B 的确认的情况下，A 可以连续把窗口内的数据都发送出去。凡是已经发送过的数据，在未收到确认之前都必须暂时保留，以便在超时重传时使用。</p>
<p>发送窗口里面的序号表示允许发送的序号。窗口越大，投送方就可以在收到对方确认之前连续发送更多的数据，因而可能获得更高的传输效率。但接收方必须来得及处理这些收到的数据。</p>
<p>发送窗口后沿的后面部分表示已发送且已收到了确认。这些数据显然不需要再保留。而发送窗口前沿的前面部分表示不允许发送的，因为接收方都没有为这部分数据保留临时存放的缓存空间问。</p>
<p>发送窗口的位置由窗口前沿和后沿的位置共同确定。不动（没有收到新的确认）和前移（收到了新的确认）。发送窗口后沿不可能向后移动，因为不能撤销掉已收到的确认。发送窗口前沿通常是不断向前移动，但也有可能不动。</p>
<p>这对应于两种情况：一是没有收到新的确认，对方通知的窗口大小不变：二是收到了的确认但对方通知的窗口缩小了，使得发送窗口前沿正好不动。</p>
</li>
<li><p>滑动窗口工作过程</p>
<p>现在假定 A 发送了序号为 31 一 41 的数据。这时，发送窗口位置并未改变，但发送窗口内靠后面有 11 个字节（灰色小方框表示）表示已发送但未收到确认。而发送窗口内靠前面的 9 个字节（42~ 50）是允许发送但尚未发送的。</p>
<p><img src="/images/image-20210812134815584.png" srcset="/img/loading.gif" lazyload alt="image-20210812134815584"></p>
<p>小于 P1 的是已发送并已收到确认的部分，而大于 n 的是不允许发送的部分。</p>
<p>P3 - Pl =A 的发送窗口（又称为通知窗口）</p>
<p>P2– P1：已发送但尚未收到确认的字节数</p>
<p>P3 - P2=允许发送但尚未发送的字节数（又称为可用窗口或有效窗口）</p>
<p><img src="/images/image-20210812134935140.png" srcset="/img/loading.gif" lazyload alt="image-20210812134935140"></p>
<p>B 的接收窗口。B 的接收窗口大小是 20，在接收窗口外而，到 30 号为止的数据是已经发送过确认，并且已经交付给主机了。因此在 B 可以不再保留这些数据。接收窗口内的序号（31-50）是允许接收的。B 收到了序号为 32 和 33 的数据。这些数据没有按序到达，因为序号为 31 的数据没有收到。请注意，B 只能对按序收到的数据中的最高序号给出确认，因此 B 发送的确认报文段中的确认号仍然是 31（即期望收到的序号），而不能是 32 或 33。</p>
<p>现在假定 B 收到了序号为 31 的数据，并把序号为 31~ 33 的数据交付给主机，然后 B 删除这些数据。接着把接收窗口向前移动 3 个序号，同时给 A 发送确认，其中窗口值仍为 20，但确认号是 34。这表明 B 已经收到了到序号 33 为止的数据。我们注意到，B 还收到了序号为 37，38 和 40 的数据，但这些都没有按序到达，只能先暂存在接收窗口中。</p>
<p><img src="/images/image-20210812135054762.png" srcset="/img/loading.gif" lazyload alt="image-20210812135054762"></p>
<p>A 的发送窗口内的序号都已用完，但还没有再收到确认，必须停止发送。</p>
<p><img src="/images/image-20210812135129752.png" srcset="/img/loading.gif" lazyload alt="image-20210812135129752"></p>
</li>
</ol>
<h3 id="5-4-4-选择确认机制-SACK"><a href="#5-4-4-选择确认机制-SACK" class="headerlink" title="5.4.4 选择确认机制 SACK"></a>5.4.4 选择确认机制 SACK</h3><p>接收方收到了和前面的字节流不连续的两个字节块。</p>
<p>如果这些字节的序号都在接收窗口之内，那么接收方就先收下这些数据，但要把这些信息准确地告诉发送方，使发送方不要再重复发送这些已收到的数据。</p>
<p><img src="/images/image-20210812135229548.png" srcset="/img/loading.gif" lazyload alt="image-20210812135229548"></p>
<p>和前后字节不连续的每一个字节块都有两个边界：左边界和右边界。图中用四个指针标记这些边界。</p>
<p>第一个字节块的左边界 L1 = 1501，但右边界 R1 = 3001。</p>
<p>左边界指出字节块的第一个字节的序号，但右边界减 1 才是字节块中的最后一个序号。序号1——1000收到了，但序号1001—1500没有收到。接下来的字节流又收到了，可是又缺少了 3001——3500。再后面从序号 4501 起又没有收到。也就是说，接收方收到了和前面的字节流不连续的两个字节块。如果这些字节的序号都在接收窗口之内，那么接收方就先收下这些数据，但要把这些信息准确地告诉发送方，使发送方不要再重复发送这些已收到的数据。</p>
<h3 id="5-4-5-流量控制"><a href="#5-4-5-流量控制" class="headerlink" title="5.4.5 流量控制"></a>5.4.5 流量控制</h3><p>让发送方发送的数据速度不要太快，让接收方能接收这些数据。</p>
<p>流量控制（flow control）就是让发送方的发送速率不要太快，既要让接收方来得及接收，也不要使网络发生拥塞。</p>
<p>利用滑动窗口机制可以很方便地在 TCP 连接上实现流量控制。</p>
<p>滑动窗口协议控制数据流量</p>
<p>A 向 B 发送数据。在连接建立时，B 告诉 A：“我的接收窗口 rwnd = 400（字节）”（rwnd 表示receive windows）。</p>
<p>发送方的发送窗口不能超过接收方的接收窗口的数值。TCP 的窗口单位是字节，不是报文段。</p>
<p>数据报文段的初始值为 1，即 seq=1.ACK 表示首部中确认位是 ACK，ack 表示字段值。</p>
<p><img src="/images/image-20210812135527503.png" srcset="/img/loading.gif" lazyload alt="image-20210812135527503"></p>
<p>接收方的主机 B 进行了 3 次流量控制。第一次把窗口缩小到 rwnd=300，第二次叉减到 rwnd= 100，最后减到 rwnd=0，即不允许发送方再发送数据了。这种使发送方暂停发送的状态将持续到主机 B 重新发出一个新的窗口值为止。我们还应注意到，B 向 A 发送的三个报文段都设置了 ACK=1，只有在 ACK =1 时确认号字段才有意义。</p>
<h3 id="5-4-6-拥塞控制"><a href="#5-4-6-拥塞控制" class="headerlink" title="5.4.6 拥塞控制"></a>5.4.6 拥塞控制</h3><ol>
<li><p>拥塞定义</p>
<p>在某段时间，若对网络中某资源的需求超过了该资源所能提供的可用部分，网络的性能就要变坏——产生拥塞（congestion）。</p>
<p>出现资源拥塞的条件：对资源需求的总和&gt;可用资源</p>
<p>若网络中有许多资源同时产生拥塞，网络的性能就要明显变坏，整个网络的吞吐量将随输入负荷的增大而下降。</p>
</li>
<li><p>慢开始和拥塞避免 (这里的内容没有放上来，需要深入时在学习)</p>
<p>发送方维持一个叫做拥塞窗口 cwnd （congestion window）的状态变量。拥塞窗口的大小取决于网络的拥塞程度，并且动态地在变化。发送方让自己的发送窗口等于拥塞窗口。如再考虑到接收方的接收能力，则发送窗口还可能小于拥塞窗口。</p>
<p>发送方控制拥塞窗口的原则是：只要网络没有出现拥塞，拥塞窗口就再增大一些，以便把更多的分组发送出去。但只要网络出现拥塞，拥塞窗口就减小一些，以减少注入到网络中的分组数。</p>
<p>发送端的主机在确定发送报文段的速率时，既要根据接收端的接收能力，又要从全局考虑不要使网络发生拥塞。</p>
<p>接收端窗口 rwnd 这是接收端根据其目前的接收缓存大小所许诺的最新的窗口值，是来自接收端的流量控制。接收端将此窗口值放在 TCP 报文的首部中的窗口字段，传送给发送端。</p>
<p>拥塞窗口 cwnd （congestion window）发送端根据自己估计的网络拥塞程度而设置的窗口值，是来自发送端的流量控制。</p>
</li>
</ol>
<h3 id="5-4-7-TCP-的传输控制—三次握手协议"><a href="#5-4-7-TCP-的传输控制—三次握手协议" class="headerlink" title="5.4.7 TCP 的传输控制—三次握手协议"></a>5.4.7 TCP 的传输控制—三次握手协议</h3><p>运输连接就有三个阶段，即：连接建立、数据传送和连接释放。运输连接的管理就是使运输连接的建立和释放都能正常地进行。</p>
<p>连接建立过程中要解决以下三个问题：</p>
<p>要使每一方能够确知对方的存在。</p>
<p>要允许双方协商一些参数（如最大报文段长度，最大窗口大小，服务质量等）。</p>
<p>能够对运输实体资源（如缓存大小，连接表中的项目等）进行分配。</p>
<p>使用三次握手协议建立连接：</p>
<p><img src="/images/image-20210812140405752.png" srcset="/img/loading.gif" lazyload alt="image-20210812140405752"></p>
<p>A 的 TCP 向 B 发出连接请求报文段，其首部中的同步位 SYN = 1，并选择序号seq = x，表明传送数据时的第一个数据字节的序号是 x。</p>
<p>B 的 TCP 收到连接请求报文段后，如同意，则发回确认。B 在确认报文段中应使 SYN = 1，使 ACK = 1，其确认号 ack = x +1，自己选择的序号 seq = y。</p>
<p>A 收到此报文段后向 B 给出确认，其 ACK = 1，确认号 ack = y +1。A 的 TCP 通知上层应用进程，连接已经建立。</p>
<p>B 的 TCP 收到主机 A 的确认后，也通知其上层应用进程：TCP 连接已经建立。</p>
<h1 id="6-应用层"><a href="#6-应用层" class="headerlink" title="6. 应用层"></a>6. 应用层</h1><h3 id="6-1-服务方式"><a href="#6-1-服务方式" class="headerlink" title="6.1 服务方式"></a>6.1 服务方式</h3><ol>
<li><p>C/S 模式</p>
<p>客户服务器模式（Client–server model）简称 C/S 结构，是一种网络架构，它把客户端 （Client）与服务器（Server）区分开来。每一个客户端软件的实例都可以向一个服务器或应用程序服务器发出请求。</p>
<p>服务器：是网络上一种为客户机提供各种服务的高性能的计算机，它能够提供网络管理、运行应用程序、处理各网络工作站成员的信息请示等服务。</p>
<p>工作站：享受服务器所提供的服务的那些计算机，我们称之为工作站。</p>
<p>客户（client）和服务器（server）都是指通信中所涉及的两个应用进程。</p>
<p>客户-服务器方式所描述的是进程之间服务和被服务的关系。</p>
<p>客户是服务的请求方，服务器是服务的提供方。</p>
</li>
<li><p>B/S 模式</p>
<p>B/S 结构（Browser/Server，浏览器/服务器模式），是 WEB 兴起后的一种网络结构模式，WEB 浏览器是客户端最主要的应用软件。这种模式统一了客户端，将系统功能实现的核心部分集中到服务器上，简化了系统的开发、维护和使用。客户机上只要安装一个浏览器，如 Netscape Navigator 或 Internet Explorer，服务器安装 SQL Server、Oracle、MYSQL 等数据库。浏览器通过 Web Server 同数据库进行数据交互。</p>
</li>
<li><p>C/S 与 B/S 比较</p>
<p><img src="/images/image-20210812144558014.png" srcset="/img/loading.gif" lazyload alt="image-20210812144558014"></p>
</li>
<li><p>P2P 模式</p>
<p>对等网络又称工作组，网上各台计算机有相同的功能，无主从之分，一台计算机都是既可作为服务器，设定共享资源，供网络中其他计算机所使用，又可以作为工作站，没有专用的服务器，也没有专用的工作站。对等网络是小型局域网常用的组网方式。</p>
<p>对等计算（Peer to Peer，简称 p2p）可以简单的定义成通过直接交换来共享计算机资源和服务，而对等计算模型应用层形成的网络通常称为对等网络。在 P2P 网络环境中，成千上万台彼此连接的计算机都处于对等的地位，整个网络一般来说不依赖专用的集中服务器。网络中的每一台计算机既能充当网络服务的请求者，又对其它计算机的请求作出响应，提供资源和服务。</p>
</li>
</ol>
<h2 id="6-2-DNS-域名解析服务"><a href="#6-2-DNS-域名解析服务" class="headerlink" title="6.2 DNS 域名解析服务"></a>6.2 DNS 域名解析服务</h2><ol>
<li><p>什么是域名</p>
<p>域名 Domin name:因为计算机的 IP 地址对于人来说不容易记忆，所以使用一组英文表示的名字，来表示每一台主机。</p>
<p>DNS 域名系统（Domain Name System）是因特网使用的命名系统，用来把域名转换为 IP 地址。</p>
</li>
<li><p>域名的组成</p>
<p>一般分 4 级，每级 1-4 个字符，中间用小数点间隔。</p>
<p>域名的结构由标号序列组成，各标号之间用点隔开：….三级域名.二级域名.顶级域名。</p>
<p><img src="/images/image-20210812144843898.png" srcset="/img/loading.gif" lazyload alt="image-20210812144843898"></p>
<p>域名一般用小写，且需要申请、注册和付费。</p>
</li>
<li><p>常见计算机域名</p>
<p><img src="/images/image-20210812145006260.png" srcset="/img/loading.gif" lazyload alt="image-20210812145006260"></p>
</li>
<li><p>internet 的域名空间</p>
<p>我国的互联网发展现状及各种规定（如申请域名的手续），均可在中国互联网信息中心 CNNIC 的网址上找到[W-CNNIC]。</p>
<p>域名树的树叶就是单台计算机的名字，不能再继续往下划分子域了。</p>
<p>应当注意，虽然中央电视台和清华大学都各有一台计算机取名为 mail，但它们的域名并不一样，因为前者是 mail.cctv.com，而后者是 mainl.tsinghua.edu.cn。因此，即使在世界上还有很多单位的计算机取名为 mail，但是它们在因特网中的域名却都必须是唯一的。</p>
<p>因特网的名字空间是按照机构的组织来划分的，与物理的网络无关，与 lP 地址中的“子网”也没有关系。</p>
<p><img src="/images/image-20210812145144524.png" srcset="/img/loading.gif" lazyload alt="image-20210812145144524"></p>
</li>
<li><p>域名服务器</p>
<p>1）本地域名服务器</p>
<p><strong>本地域名服务器是距离本地主机最近的域名解析服务器</strong>，当一个主机发出 DNS 查询请求时，这个查询请求报文就发送给本地域名服务器。</p>
<p>每一个因特网服务提供者 ISP，或一个大学，甚至一个大学里的系，都可以拥有一个本地域名服务器</p>
<p>本地域名服务器有时也称为默认域名服务器。</p>
<p>2）根域名服务器</p>
<p>全球共有 13 台根逻辑域名服务器。这 13 台逻辑根域名服务器中名字分别为“A”至“M”。根域名服务器是最重要的域名服务器。</p>
<p>在根域名服务器中虽然没有每个域名的具体信息，但储存了负责每个域（如.com， .cn， .ren， .top 等）的解析的域名服务器的地址信息。</p>
<p>3）顶级域名服务器</p>
<p>这些域名服务器负责管理在该顶级域名服务器注册的所有二级域名。</p>
<p>4）权限域名服务器</p>
<p>这就是前面已经讲过的负责一个区的域名服务器。当一个权限域名服务器还不能给出最后的查询回答时，就会告诉发出查询请求的 DNS 客户，下一步应当找哪一个权限域名服务器。</p>
</li>
<li><p>域名查询</p>
<p>1）递归查询</p>
<p>进行递归查询时，DNS 客户机向 DNS 服务器发送请求，如果 DNS 服务器没有所请求的信息，则会联系其他 DNS 服务器来提供答案或返回查询失败信息。</p>
<p>主机向本地域名服务器的查询一般都是采用递归查询。如果主机所询问的本地域名服务器不知道被查询域名的 IP 地址，那么本地域名服务器就以 DNS 客户的身份，向其他根域名服务器继续发出查询请求报文。</p>
<p><img src="/images/image-20210812145706445.png" srcset="/img/loading.gif" lazyload alt="image-20210812145706445"></p>
<p>2）迭代查询</p>
<p>进行迭代查询时，DNS 允许 DNS 服务器根据自己的高速缓存提供最佳答案，如果不能答复，则一般会返回一个指针，指向有下级域名空间授权的 DNS 服务器，DNS客户机根据指针所指向的 DNS 服务器查询。</p>
<p>本地域名服务器向根域名服务器的查询通常是采用迭代查询。当根域名服务器收到本地域名服务器的迭代查询请求报文时，要么给出所要查询的 IP 地址，要么告诉本地域名服务器：“你下一步应当向哪一个域名服务器进行查询”。然后让本地域名服务器进行后续的查询。</p>
<p><img src="/images/image-20210812145943065.png" srcset="/img/loading.gif" lazyload alt="image-20210812145943065"></p>
</li>
</ol>
<h2 id="6-3-WWW-万维网服务"><a href="#6-3-WWW-万维网服务" class="headerlink" title="6.3 WWW 万维网服务"></a>6.3 WWW 万维网服务</h2><ol>
<li><p>www 概述</p>
<p>万维网 WWW（World Wide Web）是一种交互式图形界面的 Internet 服务，具有强大的信息连接功能，是目前 Internet 中最受欢迎的、增长速度最快的一种多媒体信息服务系统。</p>
<p>WWW 以客户服务器方式工作。</p>
<p>浏览器就是在用户计算机上的 WWW 客户程序。万维网文档所驻留的计算机则运行服务器程序，因此这个计算机也称为万维网服务器。</p>
</li>
<li><p>HTML 语言</p>
<p>1）基本概念</p>
<p>超文本标记语言 HTML （HyperText Markup Language）中的 Markup 的意思就是“设置标记”。</p>
<p>超文本是用超链接的方法，将各种不同空间的文字信息组织在一起的网状文本。利用超链接的方式。</p>
<p>超媒体文档还包含其他表示方式的信息，如图形、图像、声音、动画，甚至活动视频图像。</p>
<p>仅当 HTML 文档是以.html 或 .htm 为后缀时，浏览器才对此文档的各种标签进行解释。</p>
<p>2）网页形态</p>
<p>静态文档是指该文档创作完毕后就存放在万维网服务器中，在被用户浏览的过程中，内容不会改变。</p>
<p>动态文档是指文档的内容是在浏览器访问万维网服务器时才由应用程序动态创建。</p>
<p>动态文档和静态文档之间的主要差别体现在服务器一端。这主要是文档内容的生成方法不同。而从浏览器的角度看，这两种文档并没有区别。</p>
</li>
<li><p>URL 统一资源定位器</p>
<p>URL（Uniform Resource Locator，统一资源定位器）是 WWW 页的地址。每一个网址都有唯一的一个 URL。</p>
<p>使每一个文档在整个因特网的范围内具有唯一的标识符 URL。</p>
<p>统一资源定位符 URL 是对可以从因特网上得到的资源的位置和访问方法的一种简洁的表示。</p>
<p>URL 给资源的位置提供一种抽象的识别方法，并用这种方法给资源定位。</p>
<p>只要能够对资源定位，系统就可以对资源进行各种操作，如存取、更新、替换和查找其属性。</p>
<p>URL 相当于一个文件名在网络范围的扩展。因此 URL 是与因特网相连的机器上的任何可访问对象的一个指针。</p>
<p>格式：&lt;协议&gt;&lt;主机域名或 IP 地址&gt;&lt;路径&gt;&lt;文件名&gt; </p>
<p>例如：<a target="_blank" rel="noopener" href="http://www.sina.com.cn/">http://www.sina.com.cn</a></p>
</li>
<li><p>HTTP 超文本传输协议</p>
<p>1）概述</p>
<p>超文本传输协议（HTTP，HyperText Transfer Protocol）是 WWW 文件都必须遵守这个标准。</p>
<p>HTTP 是一个客户端和服务器端请求和应答的标准（TCP）。</p>
<p>客户端是终端用户，服务器端是网站。</p>
<p>客户端发起一个到服务器上指定端口（默认端口为 80）的 HTTP 请求。</p>
<p>2）工作过程</p>
<p>HTTP 是面向事务的（transaction-oriented）应用层协议，它是万维网上能够可靠地交换文件（包括文本、声音、图像等各种多媒体文件）的重要基础。</p>
<p><img src="/images/image-20210812150926366.png" srcset="/img/loading.gif" lazyload alt="image-20210812150926366"></p>
<p>每个万维网网点都是一个服务器进程，不断的监听 TCP 的端口 80，以便发现是否有浏览器向它发送请求。</p>
<p>浏览器分析超链指向页面的 URL。</p>
<p>浏览器向 DNS 请求解析 <a target="_blank" rel="noopener" href="http://www.tsinghua.edu.cn/">www.tsinghua.edu.cn</a> 的 IP 地址。</p>
<p>域名系统 DNS 解析出清华大学服务器的 IP 地址。</p>
<p>浏览器与服务器建立 TCP 连接</p>
<p>浏览器发出取文件命令： GET /chn/yxsz/index.htm。</p>
<p>服务器给出响应，把文件 index.htm 发给浏览器。</p>
<p>TCP 连接释放。</p>
<p>浏览器显示“清华大学院系设置”文件 index.htm 中的所有文本。</p>
<p>HTTP 本身是无连接的，http 使用 TCP 连接，但是通信双方在交换 HTTP 报文之前不需要先建立 HTTP 连接。</p>
</li>
</ol>
<h3 id="6-4-FTP-文件传输服务"><a href="#6-4-FTP-文件传输服务" class="headerlink" title="6.4 FTP 文件传输服务"></a>6.4 FTP 文件传输服务</h3><ol>
<li><p>概念</p>
<p>FTP 是 File Transfer Protocol（文件传输协议）的英文简称，而中文简称为“文件传输协议”。用于 Internet 上的控制文件的双向传输。</p>
<p>FTP 文件传输协议中，经常使用的名词为“下载”和“上传”。“下载”文件就是从远程主机拷贝文件至自己的计算机上；“上传”文件就是将文件从自己的计算机中拷贝至远程主机上。</p>
</li>
<li><p>端口</p>
<p>FTP 是客户机服务器模式。</p>
<p>启动 ftp：ftp：//[用户名：口令@]ftp 服务器域名：[端口号]。</p>
<p>TCP/IP 协议中，FTP 标准命令 TCP 端口号为 21，Port 方式数据端口为 20。FTP的任务是从一台计算机将文件传送到另一台计算机，不受操作系统的限制。</p>
</li>
<li><p>传输模式</p>
<p>FTP 支持两种模式：Standard （PORT 方式，主动方式），Passive（PASV，被动方式）。</p>
<p>1）Port 模式</p>
<p>FTP 客户端与服务器的 TCP 21 端口建立连接，用来发送命令，客户端需要接收数据的时候在这个通道上发送 PORT 命令。PORT 命令包含了客户端用什么端口接收数据。在传送数据的时候，服务器端通过自己的 TCP 20 端口连接至客户端的指定端口发送数据。FTP server 必须和客户端建立一个新的连接用来传送数据。</p>
<p>2）Passive 模式</p>
<p>服务器收到 Pasv 命令后，打开一个临时端口（端口号大于 1023 小于 65535）并且通知客户端在这个端口上传送数据的请求，客户端连接 FTP 服务器此端口，然后FTP 服务器将通过这个端口传送数据。</p>
<p>很多防火墙在设置的时候都是不允许接收外部发起的连接的，所以许多位于防火墙后或内网的 FTP 服务器不支持 PASV 模式，因为客户端无法穿过防火墙打开 FTP 服务器的高端端口；而许多内网的客户端不能用 PORT 模式登陆 FTP 服务器，因为从服务器的 TCP 20 无法和内部网络的客户端建立一个新的连接，造成无法工作。</p>
<p><img src="/images/image-20210812151504335.png" srcset="/img/loading.gif" lazyload alt="image-20210812151504335"></p>
</li>
<li><p>NFS</p>
<p>NFS 允许应用进程打开一个远地文件，并能在该文件的某一个特定的位置上开始读写数据。</p>
<p>NFS 可使用户只复制一个大文件中的一个很小的片段，而不需要复制整个大文件。</p>
</li>
<li><p>TFTP</p>
<p>1）简单文件传送协议 TFTP</p>
<p>TFTP 是一个很小且易于实现的文件传送协议。</p>
<p>TFTP 使用客户服务器方式和使用 UDP 数据报，因此 TFTP 需要有自己的差错改正措施。</p>
<p>TFTP 只支持文件传输而不支持交互。</p>
<p>TFTP 没有一个庞大的命令集，没有列目录的功能，也不能对用户进行身份鉴别。</p>
<p>2）TFTP 的优点</p>
<p>是基于 UDP 协议的，可以同时向多台计算机传输文件。</p>
<p>代码占用内存较小，比较适合小文件的阐述，对特殊的计算机或设备很重要。</p>
<p>3）TFTP 的主要特点</p>
<p>每次传送的数据 PDU 中有 512 字节的数据，但最后一次可不足 512 字节。</p>
<p>数据 PDU 也称为文件块（block），每个块按序编号，从 1 开始。发出文件后等待对方确认。</p>
<p>支持 ASCII 码或二进制传送。</p>
<p>可对文件进行读或写。</p>
<p>使用很简单的首部。</p>
</li>
</ol>
<h2 id="6-5-E-mail-电子邮件服务"><a href="#6-5-E-mail-电子邮件服务" class="headerlink" title="6.5 E-mail 电子邮件服务"></a>6.5 E-mail 电子邮件服务</h2><ol>
<li><p>电子邮件概述</p>
<p>电子邮件（E-mail，Electronic Mail）是指在 Internet 上或常规计算机网络上各个用户之间，通过电子信件的形式进行通信的一种现代邮政通信方式。</p>
</li>
<li><p>电子邮件的特点</p>
<p>发送速度快、信息多样化、收发方便、成本低廉和安全等。</p>
</li>
<li><p>相关协议</p>
<p>POP3（Post Office Protocol 3）即邮局协议的第 3 个版本，用来接收电子邮件的。</p>
<p>SMTP（Simple Mail Transfer Protocol）即简单邮件传输协议，发送电子邮件。</p>
<p>MIME 在其邮件首部中说明了邮件的数据类型（如文本、声音、图像、视像等），使用 MIME 可在邮件中同时传送多种类型的数据。</p>
<p><img src="/images/image-20210812151807501.png" srcset="/img/loading.gif" lazyload alt="image-20210812151807501"></p>
<p>SMTP 协议与 POP3 协议，SMTP 包括连接建立，主要在在发送主机的 SMTP 客户和接收主机的 SMTP 服务器之间建立的。邮件传送过程以及连接释放，也就是邮件发送完毕后，SMTP 应释放 TCP 连接。</p>
<p>SMTP 有以下缺点：不能传送可执行文件或其他的二进制对象。限于传送 7 位的 ASCII 码。SMTP 服务器会拒绝超过一定长度的邮件。</p>
</li>
<li><p>地址格式</p>
<p>Internet 上 E-mail 地址的统一格式是：用户名@域名，“用户名”是用户申请的账号，“域名”是 ISP 的电子邮件服务器的域名，这两部分中间用“@”隔开，如：<a href="mailto:&#49;&#50;&#52;&#x34;&#x35;&#x36;&#64;&#113;&#x71;&#x2e;&#99;&#x6f;&#109;">&#49;&#50;&#52;&#x34;&#x35;&#x36;&#64;&#113;&#x71;&#x2e;&#99;&#x6f;&#109;</a>。</p>
</li>
</ol>
<h2 id="6-6-telnet-远程登录服务"><a href="#6-6-telnet-远程登录服务" class="headerlink" title="6.6 telnet 远程登录服务"></a>6.6 telnet 远程登录服务</h2><p>Telnet 是 Internet 的远程登录协议的意思，它让用户坐在自己的计算机前通过Internet 网络登录到另一台远程计算机上。</p>
<p>当登录上远程计算机后，用户的电脑就仿佛是远程计算机的一个终端，就可以用自己的计算机直接操纵远程计算机，享受远程计算机本地终端同样的权力。虚拟终端负责把用户输入的每个字符传递给主机，再将主机输出的每个信息回显在屏幕上。</p>
<h1 id="7-无线网络"><a href="#7-无线网络" class="headerlink" title="7. 无线网络"></a>7. 无线网络</h1><h2 id="7-1-无线局域网"><a href="#7-1-无线局域网" class="headerlink" title="7.1 无线局域网"></a>7.1 无线局域网</h2><h3 id="7-1-1-定义"><a href="#7-1-1-定义" class="headerlink" title="7.1.1 定义"></a>7.1.1 定义</h3><p>计算机操作系统是方便用户、管理和控制计算机软硬件资源的系统软件（或程序集合）。无线局域网 WLAN 提供了移动接入的功能，这就给许多需要发送数据但又不能坐在办公室的工作人员提供了方便。无线局域网，不仅节省了投资，而且建网的速度也会较快。</p>
<p>无线局域网常简写为 WLAN（Wireless Local Area Network）。</p>
<h3 id="7-1-2-组成"><a href="#7-1-2-组成" class="headerlink" title="7.1.2 组成"></a>7.1.2 组成</h3><p>无线局域网有两大类，第一类是有固定基础设施的，第二类是无固定基础设施的。“固定基础设施”是指预先建立起来的、能够覆盖一定范围的一批固定基站。</p>
<ol>
<li><p>IEEE802.11 协议</p>
<p>802.11 协议簇是国际电工电子工程学会（IEEE）为无线局域网络制定的标准。虽然 WI-FI 使用了 802.11 的媒体访问控制层（MAC）和物理层（PHY），但是两者并不完全一致。在以下标准中，使用最多的应该是 802.11n 标准，工作在 2.4GHz 频段，可达 600Mbps（理论值）。</p>
<p>802.11 采用 2.4GHz 和 5GHz 这两个 ISM 频段。</p>
<p>802.11 是一个相当复杂的标准，可以简单的说 802.11 是无线局域网标准。采用的是星型拓扑结构，其中心点叫做接入点 AP（Access popint），在 MAC 层使用 CSMA/CD协议。凡是使用 802.11 系类协议的局域网又称为 Wi-Fi（Wireless-Fidelity），意思是“无线保真度”。</p>
</li>
<li><p>802.11 通信标准</p>
<p>现在最流行的无线局域网是 802.11b，而另外两种（802.11a 和 802.11g）的产品也广泛存在。</p>
<p>802.11b 是一种 11Mbps（原文为 11M/s，已修改） 无线标准，可为笔记本电脑或桌面电脑用户提供完全的网络服务。</p>
<p>802.11a 的传输技术为多载波调制技术。它工作在 5GHzU-NII 频带，物理层速率可达54Mb/s，传输层可达 25Mbps。可提供 25Mbps 的无线 ATM 接口和 10Mbps 的以太网无线帧结构接口，以及 TDD/TDMA 的空中接口；支持语音、数据、图像业务；一个扇区可接入多个用户，每个用户可带多个用户终端。</p>
<p>IEEE802.11g 草案有以下两个特点：在 2.4GHz 频段使用正交频分复用（OFDM）调制技术，使数据传输速率提高到 20Mbit/s 以上；能够与 IEEE802.11b 的 Wi-Fi 系统互联互通，可共存于同一 AP 的网络里，从而保障了后向兼容性。</p>
<p><img src="/images/image-20210812153013703.png" srcset="/img/loading.gif" lazyload alt="image-20210812153013703"></p>
</li>
<li><p>无线数据传输</p>
<p>802.11 标准规定无线局域网的最小构件是基本服务集 BSS（basic service set）。一个基本的服务集 BSS 包括一个基站和若干个移动站。AP 就是基本服务集内的基站（base station）。</p>
<p>安装 AP 时，必须为 AP 分配一个不超过 32 字节的服务器标识符 SSID（service set IDentifier）和一个信道。一个基本服务集 BSS 所覆盖的范围叫做一个基本服务区 BSA（basic service area）。无线局域网的基本服务区 BSA 的范围直径一般不超过 100m。</p>
<p><img src="/images/image-20210812153339480.png" srcset="/img/loading.gif" lazyload alt="image-20210812153339480"></p>
<p>1）与接入点 AP 建立关联（association）</p>
<p>建立关联就表示这个移动站加入了选定的 AP 所属的子网，并和这个 AP 之间创建了一个虚拟线路。</p>
<p>只有关联的 AP 才向这个移动站发送数据帧，而这个移动站也只有通过关联的 AP 才能向其他站点发送数据帧。</p>
<p>2）移动站与 AP 建立关联的方法</p>
<p>被动扫描：即移动站等待接收接入站周期性发出的信标帧（beacon frame），（10次/秒或 100 次/秒）。信标帧中包含有若干系统参数（如服务集标识符 SSID 以及支持的速率等）。</p>
<p>主动扫描：即移动站主动发出探测请求帧（probe request frame），然后等待从 AP 发回的探测响应帧（probe response frame）。 </p>
<p>3）热点（hot spot）</p>
<p>现在许多地方，如办公室、机场、快餐店、旅馆、购物中心等都能够向公众提供有偿或无偿接入 Wi-Fi 的服务。这样的地点就叫做热点。</p>
<p>由许多热点和 AP 连接起来的区域叫做热区（hot zone）。热点也就是公众无线入网点。</p>
</li>
</ol>
<h3 id="7-1-2-无线局域网技术"><a href="#7-1-2-无线局域网技术" class="headerlink" title="7.1.2 无线局域网技术"></a>7.1.2 无线局域网技术</h3><ol>
<li><p>CSMA/CA 协议</p>
<p>无线局域网却不能简单地搬用 CSMA/CD 协议。这里主要有两个原因。</p>
<p>在无线局域网适配器上，接收信号的轻度往往会远小于发送信号的强度，因此若要实现碰撞检测，那么在硬件上花费会很大。CSMA/CD 协议要求一个站点在发送本站数据的同时，还必须不间断地检测信道，但在无线局域网的设备中要实现这种功能就花费过大。</p>
<p>在无线局域网中，并非所有的站点都能听到对方，但“所有站点都能听到对方” 是CSMA/CD 的基础。即使我们能够实现碰撞检测的功能，并且当我们在发送数据时检测到信道是空闲的，在接收端仍然有可能发生碰撞。</p>
</li>
<li><p>隐蔽站问题</p>
<p>A 和 C 都想和 B 通信，但 A 与 C 的距离较远，彼此听不到对方，当 A 和 C 的检测信道空闲时，就都想 B 发送数据，结果发生碰撞。这种在未能检测出信道上其它站点信号的问题叫做隐蔽站问题（hidden station problem） </p>
<p><img src="/images/image-20210812153657006.png" srcset="/img/loading.gif" lazyload alt="image-20210812153657006"></p>
</li>
<li><p>暴露站问题</p>
<p>B 向 A 发送数据，而 C 又想和 D 通信。C 检测到媒体上有信号，于是就不敢向 D 发送数据。其实 B 向 A 发送数据并不影响 C 向 D 发送数据这就是暴露站问题（exposed station problem）</p>
</li>
</ol>
<h3 id="7-1-3-802-11-协议的-MAC-帧格式"><a href="#7-1-3-802-11-协议的-MAC-帧格式" class="headerlink" title="7.1.3 802.11 协议的 MAC 帧格式"></a>7.1.3 802.11 协议的 MAC 帧格式</h3><p>802.11 协议有三种类型，控制帧、数据帧、管理帧。</p>
<p><img src="/images/image-20210812153804822.png" srcset="/img/loading.gif" lazyload alt="image-20210812153804822"></p>
<p>MAC 首部，共 30 字节。帧的复杂性都在帧的首部。</p>
<p>帧主体，也就是帧的数据部分，不超过 2312 字节。这个数值比以太网的最大长度长很多。不过 802.11 帧的长度通常都是小于 1500 字节。</p>
<p>帧检验序列 FCS 是尾部，共 4 字节</p>
<p><img src="/images/image-20210812153937461.png" srcset="/img/loading.gif" lazyload alt="image-20210812153937461"></p>
<p>通信过程如下：站点 A 向 B 发送数据帧，但数据帧必须经过 AP 转发。</p>
<p><img src="/images/image-20210812154004786.png" srcset="/img/loading.gif" lazyload alt="image-20210812154004786"></p>
<p>当站点 A 把数据帧发送给 AP1 时，帧控制字段中的“到 DS=l”而“从 DS=0”。因此地址 l 是 AP1 的 MAC 地址（接收地址），地址 2 是 A 的 MAC 地址（源地址），地址 3 是 B 的 MAC 地址（目的地址）。请注意，“接收地址”与“目的地址”并不等同。</p>
<p>当 AP1 把数据帧发送给站点 B 时，帧控制字段中的“到 DS=0”而“从 DS=1”。因此地址 l 是 B 的 MAC 地址（目的地址），地址 2 是 AP1 的 MAC 地址（发送地址），地址 3 是 A 的 MAC 地址（源地址）。请注意，上述的“发送地址”与“源地址”也不相同。</p>
<h3 id="7-1-4-无线个人局域网-WPAN"><a href="#7-1-4-无线个人局域网-WPAN" class="headerlink" title="7.1.4 无线个人局域网 WPAN"></a>7.1.4 无线个人局域网 WPAN</h3><p>无线个人局域网 WPAN（wireless personal area netwark）把个人的电子设备用无线技术连接起来的组网方式。一般不需要接入点 AP，整个网络的范围大概在 10m 左右。</p>
<p>WPAN 使用的是 IEEE802.15 工作组制定。工作在 2.4Ghz 的 ISM 频段。</p>
<ol>
<li><p>蓝牙系统</p>
<p>蓝牙（ Bluetooth® ）：是一种无线技术标准，可实现固定设备、移动设备和楼宇个人域网之间的短距离数据交换（使用 2.4—2.485GHz 的 ISM 波段的 UHF 无线电波）。蓝牙技术最初由电信巨头爱立信公司于 1994 年创制，当时是作为 RS232 数据线的替代方案。蓝牙可连接多个设备，克服了数据同步的难题。</p>
</li>
<li><p>蓝牙特点</p>
<p>1）全球范围适用：蓝牙工作在 2.4GHz 的 ISM 频段，全球大多数国家 ISM 频段的范围是 2.4~2.4835GHz。</p>
<p>2）同时可传输语音和数据：蓝牙采用电路交换和分组交换技术，支持异步数据信道、三路语音信道以及异步数据与同步语音同时传输的信道。当采用非对称信道传输数据时，速率最高为 721kbit/s，反向为 57.6kbit/s。</p>
<p>3）可以建立临时性的对等连接（Ad-hoc Connection)：根据蓝牙设备在网络中的角色，可分为主设备（Master）与从设备（Slave）。 通过时分复用技术，一个蓝牙设备便可以同时与几个不同的皮网保持同步。</p>
<p>4）具有很好的抗干扰能力：为了很好地抵抗来自这些设备的干扰，蓝牙采用了跳频（Frequency Hopping）方式来扩展频谱（Spread Spectrum），将 2.402～2.48GHz 频段分成 79 个频点，相邻频点间隔 1MHz。</p>
<p>5）蓝牙模块体积很小、便于集成：由于个人移动设备的体积较小，嵌入其内部的蓝牙模块体积就应该更小。</p>
<p>6）低功耗：蓝牙设备在通信连接（Connection）状态下，有四种工作模式——激活（Active）模式、呼吸（Sniff）模式、保持（Hold）模式和休眠（Park）模式。Active 模式是正常的工作状态，另外三种模式是为了节能所规定的低功耗模式。</p>
<p>7）开放的接口标准：SIG 为了推广蓝牙技术的使用，将蓝牙的技术标准全部公开，全世界范围内的任何单位和个人都可以进行蓝牙产品的开发，只要最终通过 SIG 的蓝牙产品兼容性测试，就可以推向市场。</p>
<p>8）成本低：随着市场需求的扩大，各个供应商纷纷推出自己的蓝牙芯片和模块，蓝牙产品价格飞速下降</p>
</li>
</ol>
<h3 id="7-1-5-无线城域网-WMAN-（Wireless-Metropolitan-Area-Network）"><a href="#7-1-5-无线城域网-WMAN-（Wireless-Metropolitan-Area-Network）" class="headerlink" title="7.1.5 无线城域网 WMAN （Wireless Metropolitan Area Network）"></a>7.1.5 无线城域网 WMAN （Wireless Metropolitan Area Network）</h3><p>2002 年 4 月通过了 802.16 无线城域网的标准。欧洲的 ETSI 也制订类似的无线城域网标准 HIPerMAN。</p>
<p>WMAN 可提供“最后一英里”的宽带无线接入（固定的、移动的和便携的）。</p>
<p>在许多情况下，无线城域网可用来代替现有的有线宽带接入，因此它有时又称为无线本地环路。 </p>
<p>WiMAX 常用来表示无线城域网 WMAN，这与 Wi-Fi 常用来表示无线局域网WLAN 相似。</p>
<p>IEEE 的 802.16 工作组是无线城域网标准的制订者，而 WiMAX 论坛则是802.16 技术的推动者。</p>
<p>两个正式标准</p>
<p>802.16d（它的正式名字是 802.16-2004），是固定宽带无线接入空中接口标准（2 ~ 66 GHz 频段）。</p>
<p>802.16 的增强版本，即 802.16e，是支持移动性的宽带无线接入空中接口标准（2 ~ 6 GHz 频段），它向下兼容 802.16-2004。</p>
<p><img src="/images/image-20210812154532783.png" srcset="/img/loading.gif" lazyload alt="image-20210812154532783"></p>
<h3 id="7-1-6-蜂窝移动通信网"><a href="#7-1-6-蜂窝移动通信网" class="headerlink" title="7.1.6 蜂窝移动通信网"></a>7.1.6 蜂窝移动通信网</h3><ol>
<li><p>简介</p>
<p>第一代（1G）蜂窝无线通信是为话音通信设计的模拟 FDM 系统。</p>
<p>第二代（2G）蜂窝无线通信提供低速数字通信（短信服务），其代表性体制就是最流行的 GSM 系统。</p>
<p>2.5G 技术是从 2G 向第三代（3G）过渡的衔接性技术，如 GPRS 和 EDGE 等。</p>
<p>3G 移动通信和计算机网络的关系非常密切，它使用 IP 的体系结构和混合的交换机制（电路交换和分组交换），能够提供移动宽带多媒体业务（话音、数据、视频等，可收发电子邮件，浏览网页，进行视频会议等），如 CDMA2000，WCDMA 和TD-SCDMA。 </p>
<p><img src="/images/image-20210812154708829.png" srcset="/img/loading.gif" lazyload alt="image-20210812154708829"></p>
</li>
<li><p>移动 IP 技术</p>
<p>这种技术允许计算机移动到外地时，仍然保留其原来的 IP 地址。</p>
<p>移动 IP 要解决的问题，就是要使用户的移动性对上层的网络应用是透明的。 </p>
<p><img src="/images/image-20210812154831881.png" srcset="/img/loading.gif" lazyload alt="image-20210812154831881"></p>
<p>1）移动 IP 的概念</p>
<p>移动 IP 是为了满足网络设备不断移动而设计的一种地址方式，主要是指移动设备是以固定的 IP 上网的一种技术，实现在不同 AP 之间使用同一个 IP 通信，保证通信的不中断的特点。</p>
<p>移动 IP 有三种设备实体：</p>
<ul>
<li>移动节点：IP 地址的使用者（手机等）</li>
<li>本地代理：当前手机的最初接入点，为计算机分配固定的 IP 地址。设备移动后，使用隧道技术转交移动节点的数据包。</li>
<li>外部代理：当节点位置变化，帮助移动节点完成数据转发的装置。</li>
</ul>
<p>2）移动 IP 通信过程</p>
<p>在网络中，一个设备获取的 IP 地址是唯一的固定的 IP 地址，在通信过程中，IP地址不发生改变。</p>
<p>移动 IP 的工作过程如下：</p>
<ol>
<li>移动结点在本网时，按传统的 TCP/IP 进行通信。</li>
<li>移动节点漫游到另一个外部网络时，仍然使用原有固定的 IP 地址。移动结点需向本地代理注册当前的位置地址，这个位置地址就是转交地址。</li>
<li>本地代理收到转交地址后，构建向转交地址的隧道，将截获的 IP 分组通过隧道转发给转交地址。</li>
<li>在转交地址处解除隧道封装，恢复原始的 IP 分组，最后送达到移动结点。</li>
</ol>
<p>移动节点发送过程正好相反。</p>
<p>移动终端有两个 IP 地址，即主机地址和辅助地址，主机在本网络时使用的是主机地址，当发生移动时，使用辅助地址。</p>
</li>
</ol>
<h1 id="8-信息安全"><a href="#8-信息安全" class="headerlink" title="8. 信息安全"></a>8. 信息安全</h1><h2 id="8-1-信息安全概述"><a href="#8-1-信息安全概述" class="headerlink" title="8.1 信息安全概述"></a>8.1 信息安全概述</h2><h3 id="8-1-1-信息特征"><a href="#8-1-1-信息特征" class="headerlink" title="8.1.1 信息特征"></a>8.1.1 信息特征</h3><p>由于在信息技术中信息的传递是通过现代的通信技术来完成的，处理信息是通过各种类型的计算机（智能工具）来完成的，而信息要为人类所利用，必须是可以控制的，因此也有人认为信息技术简单地说就是 3C：Computer（计算机）、Communication（通信）和 Control（控制），即 IT—Computer+Communication+Control</p>
<h3 id="8-1-2-信息安全"><a href="#8-1-2-信息安全" class="headerlink" title="8.1.2 信息安全"></a>8.1.2 信息安全</h3><ol>
<li><p>安全的内容</p>
<p>在计算机和网络上信息的处理是以数据的形式进行的，在这种情况下，信息就是数据。因而从这个角度来说，信息安全可以分为<strong>数据安全</strong>和<strong>系统安全</strong>，即信息安全可以从两个层次来看。</p>
<p>从消息的层次：完整性（Integrity）、保密性（ Confidentiality）、不可否认性（Non-repudiation）。</p>
<p>从网络层次：可用性（ Availability）、可控性（ Controllability）。</p>
</li>
<li><p>安全的属性</p>
<p>1）完整性</p>
<p>完整性是指信息在存储或传输的过程中保持未经授权不能改变的特性，即对抗主动攻击，保证数据的一致性，防止数据被非法用户修改和破坏。对信息安全发动攻击的最终目的是破坏信息的完整性。</p>
<p>保障网络信息完整性的主要方法有：</p>
<ul>
<li>协议：通过各种安全协议可以有效地检测出被复制的信息、被删除的字段、失效的字段和被修改的字段；</li>
<li>纠错编码方法：由此完成检错和纠错功能。最简单和常用的纠错编码方法是奇偶校验法；</li>
<li>密码校验和方法：它是抗窜改和传输失败的重要手段；</li>
<li>数字签名：保障信息的真实性；</li>
<li>公证：请求网络管理或中介机构证明信息的真实性。</li>
</ul>
<p>2）保密性</p>
<p>保密性是指信息不被泄露给未经授权者的特性，即对抗被动攻击，以保证机密信息不会泄露给非法用户。</p>
<p>常用的保密技术包括：防侦收（使对手侦收不到有用的信息）、防辐射（防止有用信息以各种途径辐射出去）、信息加密（在密钥的控制下，用加密算法对信息进行加密处理。即使对手得到了加密后的信息也会因为没有密钥而无法读懂有效信息）、物理保密（利用各种物理方法，如限制、隔离、掩蔽、控制等措施，保护信息不被泄露）。</p>
<p>3）可用性</p>
<p>可用性是指信息可被授权者访问并按需求使用的特性，即保证合法用户对信息和资源的使用不会被不合理地拒绝。对可用性的攻击就是阻断信息的合理使用，例如破坏系统的正常运行就属于这种类型的攻击。</p>
<p>可用性还应该满足以下要求：身份识别与确认、访问控制、业务流控制、路由选择控制、审计跟踪（审计跟踪的信息主要包括：事件类型、被管客体等级、事件时间、事件信息、事件回答以及事件统计等方面的信息）。</p>
<p>4）不可否认性</p>
<p>不可否认性也称为不可抵赖性，即所有参与者都不可能否认或抵赖曾经完成的操作和承诺。发送方不能否认已发送的信息，接收方也不能否认已收到的信息。</p>
<p>5）可控性</p>
<p>可控性是指对信息的传播及内容具有控制能力的特性。授权机构可以随时控制信息的机密性，能够对信息实施安全监控。</p>
</li>
</ol>
<h3 id="8-1-3-安全的技术"><a href="#8-1-3-安全的技术" class="headerlink" title="8.1.3 安全的技术"></a>8.1.3 安全的技术</h3><ol>
<li><p>信息加密</p>
<p>信息加密是指使有用的信息变为看上去似为无用的乱码，使攻击者无法读懂信息的内容从而保护信息。</p>
</li>
<li><p>数字签名</p>
<p>1）签名过程</p>
<p>签名过程是利用签名者的私有信息作为密钥，或对数据单元进行加密，或产生该数据单元的密码校验值。</p>
<p>2）验证过程</p>
<p>验证过程是利用公开的规程和信息来确定签名是否是利用该签名者的私有信息产生的。</p>
<p>3）访问控制</p>
<p>访问控制的目的是防止对信息资源的非授权访问和非授权使用。</p>
<p>4）数据备份和灾难恢复</p>
<p>只要发生数据传输、数据存储和数据交换，就有可能产生数据故障，如果没有采取数据备份和灾难恢复手段与措施，就会导致数据的丢失。</p>
<p>5）防火墙技术</p>
<p>防火墙技术是一种允许接入外部网络，但同时又能够识别和抵抗非授权访问的安全技术。</p>
<p>6）入侵检测技术</p>
<p>入侵检测系统作为一种积极主动的安全防护手段，在保护计算机网络和信息安全方面发挥着重要的作用。</p>
<p>7）内网安全技术</p>
<p>商业间谍、黑客、不良员工对网络信息安全形成了巨大的威胁，而网络的普及和USB 接口的大量使用在给各单位获取和交换信息带来巨大方便的同时，也给这些威胁大开方便之门。</p>
<p>8）安全协议</p>
<p>整个网络系统的安全强度实际上取决于所使用的安全协议的安全性。</p>
<p>9）身份鉴别</p>
<p>鉴别是信息安全的基本机制，通信的双方之间应互认证对方的身份，以保证赋予正确的操作权力和数据的存取控制。</p>
<p>10）反病毒技术</p>
<p>由于计算机病毒具有传染的泛滥性、病毒侵害的主动性、病毒程序外形检测的难以确定性和病毒行为判定的难以确定性、非法性与隐蔽性、衍生性、衍生体的不等性和可激发性等特性，所以必须花大力气认真加以对付。</p>
<p>11）安全审计</p>
<p>安全审计是防止内部犯罪和事故后调查取证的基础，通过对一些重要的事件进行记录，从而在系统发现错误或受到攻击时能定位错误和找到攻击成功的原因。</p>
<p>12）业务填充</p>
<p>所谓的业务填充是指在业务闲时发送无用的随机数据，增加攻击者通过通信流量获得信息的困难。</p>
<p>13）公证机制</p>
<p>公证机制是对两个或多个实体间进行通信的数据的性能，如完整性、来源、时间和目的地等，由公证机构加以保证，这种保证由第三方公证者提供。</p>
</li>
</ol>
<h2 id="8-2-安全技术手段"><a href="#8-2-安全技术手段" class="headerlink" title="8.2 安全技术手段"></a>8.2 安全技术手段</h2><h3 id="8-2-1-信息加密技术"><a href="#8-2-1-信息加密技术" class="headerlink" title="8.2.1 信息加密技术"></a>8.2.1 信息加密技术</h3><ol>
<li><p>对称加密—私钥</p>
<p>1）概念</p>
<p>对称密码体制是指如果一个加密系统的加密密钥和解密密钥相同，或者虽然不相同，但是由其中的任意一个可以很容易地推导出另一个，即密钥是双方共享的，则该系统所采用的就是对称密码体制。形象地说就是一把钥匙开一把锁。</p>
<p>2）加密过程</p>
<p><img src="/images/image-20210812164751685.png" srcset="/img/loading.gif" lazyload alt="image-20210812164751685"></p>
<p>3）对称加密算法特点</p>
<p>对称加密算法的特点是算法公开、计算量小、加密速度快、加密效率高。</p>
<p>不足之处是，交易双方都使用同样钥匙，安全性得不到保证。每对用户每次使用对称加密算法时，都需要使用其他人不知道的唯一钥匙，这会使得发收信双方所拥有的钥匙数量呈几何级数增长，密钥管理成为用户的负担。对称加密算法在分布式网络系统上使用较为困难，主要是因为密钥管理困难，使用成本较高。</p>
<p>常见的对称加密算法：DES 算法，3DES 算法，TDEA 算法，Blowfish 算法，RC5算法，IDEA 算法。</p>
</li>
<li><p>非对称密钥加密</p>
<p>1）概念</p>
<p>公钥密码体制指一个加密系统的加密密钥和解密密钥是不一样的，或者说不能由一个推导出另一个。其中一个称为<strong>公钥用于加密</strong>，是公开的，另一个称为<strong>私钥用于解密</strong>，是保密的。</p>
<p>公钥密码体制解决了密钥的管理和发布问题，每个用户都可以把自己的公开密钥进行公开，如发布到一个公钥数据库中。</p>
<p>2）工作原理</p>
<p><img src="/images/image-20210812165624477.png" srcset="/img/loading.gif" lazyload alt="image-20210812165624477"></p>
<p>A 要向 B 发送信息，A 和 B 都要产生一对用于加密非对称加密算法和解密的公钥</p>
<p>和私钥。</p>
<p>A 的私钥保密，A 的公钥告诉 B；B 的私钥保密，B 的公钥告诉 A。</p>
<p>A 要给 B 发送信息时，A 用 B 的公钥加密信息，因为 A 知道 B 的公钥。</p>
<p>A 将这个消息发给 B（已经用 B 的公钥加密消息）。</p>
<p>B 收到这个消息后，B 用自己的私钥解密 A 的消息。其他所有收到这个报文的人都无法解密，因为只有 B 才有 B 的私钥。</p>
</li>
<li><p>RSA 算法</p>
<p>RSA 是 Rivest、Shamire 和 Adleman 于 1978 年在美国麻省理工学院研制出来的，它是一种比较典型的公开密钥加密算法。</p>
</li>
</ol>
<h3 id="8-2-2-数字签名"><a href="#8-2-2-数字签名" class="headerlink" title="8.2.2 数字签名"></a>8.2.2 数字签名</h3><p>数字签名在信息安全（包括身份认证、数据完整性、不可否认性以及匿名性等方面）有重要应用，特别是在大型网络安全通信中的密钥分配、认证及电子商务系统中具有重要作用。数字签名是实现认证的重要工具。</p>
<ol>
<li><p>数字签名概念</p>
<p>数字签名就是通过一个单向 Hash 函数对要传送的报文进行处理，用以认证报文来源并核实报文是否发生变化的一个字母数字串，该字母数字串被称为该消息的消息鉴别码或消息摘要，这就是通过单向 Hash 函数实现的数字签名。数字签名除了具有普通手写签名的特点和功能外，还具有自己独有的特性和功能。</p>
<p><img src="/images/image-20210812170016360.png" srcset="/img/loading.gif" lazyload alt="image-20210812170016360"></p>
</li>
<li><p>数字签名的特性和功能</p>
<p>1）数字签名的特性</p>
<p>签名是可信的：任何人都可以方便地验证签名的有效性。</p>
<p>签名是不可伪造的：除了合法的签名者之外，任何其他人伪造其签名是困难的。这种困难性指实现时计算上是不可行的。</p>
<p>签名是不可复制的：对一个消息的签名不能通过复制变为另一个消息的签名。如果一个消息的签名是从别处复制的，则任何人都可以发现消息与签名之间的不一致性，从而可以拒绝签名的消息。</p>
<p>签名的消息是不可改变的：经签名的消息不能被篡改。一旦签名的消息被篡改，则任何人都可以发现消息与签名之间的不一致性。</p>
<p>签名是不可抵赖的：签名者不能否认自己的签名。</p>
<p>2）数字签名的实现方法</p>
<p>用对称加密算法进行数字签名</p>
<p>用非对称加密算法进行数字签名和验证</p>
</li>
</ol>
<h3 id="8-2-3-认证和授权"><a href="#8-2-3-认证和授权" class="headerlink" title="8.2.3 认证和授权"></a>8.2.3 认证和授权</h3><ol>
<li><p>身份认证</p>
<p>身份认证是人们认证他们是谁的过程。</p>
<p>1）系统使用用户名和密码组合，包括 Kerberos</p>
<p>在获悉的密码认证的方法中，计算机发起一个挑战，被认证方提供一个响应。如果该响应能够验证通过，用户就通过了身份认证，允许他访问系统，否则就阻止他进行访问。</p>
<p>2）基于证书的认证</p>
<p>证书是一个信息集合，将身份信息（用户、计算机、服务或者设备）与公钥，私钥对里的公钥进行绑定。在组织中用来支持证书的基础设施称作公钥基础设施（PKI）。 </p>
<p>3）生物识别</p>
<p>生物识别系统包括面部识别及鉴定、视网膜扫描、虹膜扫描、指纹、手型、语音识别、嘴唇运动和击键分析。</p>
</li>
<li><p>授权</p>
<p>授权通常被认为是建立一种对资源的访问方式，例如文件和打印机，但它也能处理用户在系统或者网络上的特权。在最终使用过程中，授权甚至能指定特定的用户是否能访问系统。有各种类型的授权系统，包括用户权限、基于角色的授权、访问控制列表和基于规则的授权。</p>
<p>1）用户授权</p>
<p>用户权限提供授权操作可以影响整个系统的事情。可以创建组、把用户分配到组、登录系统以及分配多个用户的权限。</p>
<p>2）基于角色的授权（RBAC）</p>
<p>计算机系统的设计者认为用户对于系统的要求可能会有所不同，并不是所有用户都应该给予系统管理员权限。</p>
<p>3）访问控制列表（ACL）</p>
<p>信息系统可能也可以使用 ACL 来确定所请求的服务或资源是否有权限。访问服务器上的文件通常由保留在每个文件的信息所控制．同样，网络设备上不同类型的通信也可以通过 ACL 来控制。</p>
<ol>
<li><p>文件访问权：</p>
<p>window 系统中，Windows NTFS文件系统为每一个文件和文件夹提供一个ACL。文件的权限是完全控制、修改、读取和执行、列出文件内容、读取、写入、特殊权限。</p>
<p>unix 系统中，不使用 ACL。而是通过限制用户账户和组的访问权限来保护文件。不同用户和组对文件的权限有：读取、写入、执行、拒绝等权限。</p>
</li>
<li><p>网络设备的 ACL</p>
<p>网络设备使用 ACL 来控制网络的访问和授予的访问类型。具体来说，路由器和防火墙的访问控制列表指明了来访流量能够访问哪台计算机的哪个端口。或是设备能接收并路由到其他网络中的流量类型。</p>
</li>
</ol>
</li>
</ol>
<h3 id="8-2-4-PKI-技术"><a href="#8-2-4-PKI-技术" class="headerlink" title="8.2.4 PKI 技术"></a>8.2.4 PKI 技术</h3><ol>
<li><p>PKI 概念</p>
<p>公钥基础设施（Public Key Infrastructure，PKI）：采用非对称密码算法原理和技术来实现并提供安全服务。通用的办法是采用建立在 PKI 基础之上的数字证书，通过把要传输的数字信息进行加密和签名，保证信息传输的机密性、真实性、完整性和不可否认性，从而保证信息的安全传输。</p>
<p><img src="/images/image-20210812172431855.png" srcset="/img/loading.gif" lazyload alt="image-20210812172431855"></p>
</li>
<li><p>数字证书</p>
<p>证书是证明实体所声明的身份和其公钥绑定关系的一种电子文档，是将公钥和确定属于它的某些信息（比如该密钥对持有者的姓名、电子邮件或者密钥对的有效期等信息）相绑定的数字声明。数字证书由 CA 认证机构颁发。</p>
</li>
<li><p>PKI 系统功能</p>
<p>一个完整的 PKI 系统对于数字证书的操作通常包括证书颁发、证书更新、证书废除、证书和 CRL 的公布、证书状态的在线查询、证书认证等。</p>
<p>1）证书颁发</p>
<p>申请者在 CA 的注册机构（RA）进行注册，申请证书。CA 对申请者进行审核，审核通过则生成证书，颁发给申请者。证书的申请可采取在线申请和亲自到 RA 申请两种方式。证书的颁发也可采取两种方式，一种是在线直接从 CA 下载，一种是 CA将证书制作成介质（磁盘或 IC 卡）后，由申请者带走。</p>
<p>2）证书更新</p>
<p>当证书持有者的证书过期，证书被窃取、丢失时通过更新证书方法，使其使用新的证书继续参与网上认证。证书的更新包括证书的更换和证书的延期两种情况。</p>
<p>3）证书废除</p>
<p>CA 通过认证核实，即可履行废除证书职责，通知有关组织和个人，并写入黑名单 CRL。</p>
<p>4）证书和 CRL 的公布</p>
<p>CA 通过轻量级目录访问协议（Lightweight Directory Access Protocol，LDAP）服务器维护用户证书和黑名单（CRL）。</p>
<p>5）证书认证</p>
<p>在进行网上交易双方的身份认证时，交易双方互相提供自己的证书和数字签名，由 CA 来对证书进行有效性和真实性的认证。</p>
</li>
<li><p>系统的组成</p>
<p>PKI 公钥基础设施是提供公钥加密和数字签名服务的系统或平台，目的是为了管理密钥和证书。</p>
<p>认证机构（Certificate Authority，CA）、根 CA（Root CA）、注册机构（Registration Authority，RA）、证书目录、管理协议等。</p>
</li>
<li><p>PKI 核心服务</p>
<p>1）认证</p>
<p>认证即为身份识别与鉴别，即确认实体是其所声明的实体，鉴别其身份的真伪。</p>
<p>2）完整性</p>
<p>完整性就是确认数据没有被修改，即数据无论是在传输还是在存储过程中经过检查没有被修改。</p>
<p>3）保密性</p>
<p>又称机密性服务，就是确保数据的秘密。PKI 的机密性服务是一个框架结构，通过它可以完成算法协商和密钥交换，而且对参与通信的实体是完全透明的。</p>
</li>
</ol>
<h3 id="8-2-5-风险评估"><a href="#8-2-5-风险评估" class="headerlink" title="8.2.5 风险评估"></a>8.2.5 风险评估</h3><ol>
<li><p>风险分析</p>
<p>风险分析必须成为任何安全防御中的一个组成部分。简单来说，风险的常规定义是非期望事件（威胁）的发生概率，而利用漏洞引发不希望的结果就是非期望事件。</p>
</li>
<li><p>定性评估</p>
<p>不对危险性进行量化处理，只做定性的比较。定性评估使用系统工程方法，将系统进行分解，依靠人的观察分析能力，借助有关法规、标准、规范、经验和判断能力进行评估。</p>
</li>
<li><p>定量评估</p>
<p>是在危险性量化的基础上进行评估，主要依靠历史统计数据，运用数学方法构造数学模型进行评估。定量评估法分为：①概率评估法②数学模型计算评估③相对评估法（即指数法）。</p>
</li>
</ol>
<h3 id="8-2-6-防火墙技术"><a href="#8-2-6-防火墙技术" class="headerlink" title="8.2.6 防火墙技术"></a>8.2.6 防火墙技术</h3><p>防火墙是成熟的网络安全技术之一，是企事业单位构筑安全网络系统的基本组件。</p>
<ol>
<li><p>概念</p>
<p>防火墙是一种访问控制技术：在某个机构的网络和不安全的网络之间设置障碍，阻止对信息资源的非法访问，控制进出两个方向的通信。</p>
<p>防火墙是放置在两个网络之间的一组组件：只允许本地安全策略授权的通信信息通过；双向通信信息必须通过防火墙；防火墙本身不会影响信息的流通。</p>
<p>防火墙是位于两个信任程度不同的网络之间（ 如企业内部网络和 Internet 之间）的软件或硬件设备的组，它对两个网络之间的通信进行控制，通过强制实施统一的安全策略，防止对重要信息资源的非法存取和访问，以达到保护系统安全的目的。</p>
</li>
<li><p>防火墙分类</p>
<p>根据防火墙组成组件的不同可以将防火墙分为软件防火墙和硬件防火墙。一般情况下，硬件防火墙都是以软件和硬件相结合的方式实现。</p>
<p>根据防火墙技术的实现平台，防火墙可分为基于 Windows 平台的 Windows 防火墙和基于 Linux 平台的 Linux 防火墙等。</p>
<p>根据防火墙被保护的对象的不同，防火墙可以分为主机防火墙和网络防火墙。传统防火墙都是网络防火墙。</p>
<p>根据防火墙自身的体系结构可以分为：包过滤型防火墙，双宿网关等。</p>
<p>根据防火墙所使用的主要技术：基于包过滤的防火墙、应用层代理、电路级网关、地址翻译防火墙和状态检查防火墙等。</p>
</li>
<li><p>防火墙的弊端</p>
<p>1）限制有用的网络服务</p>
<p>防火墙为了提高被保护网络的安全性，限制或关闭了很多有用但存在安全缺陷的网络服务。</p>
<p>2）无法防护内部网络用户的攻击</p>
<p>防火墙只提供对外部网络用户攻击的防护。对来自内部网络用户的攻击只能依靠内部网络主机系统的安全性。防火墙无法禁止变节者或公司内部存在的间谍将敏感数据拷贝到软盘上，并将其带出公司。</p>
<p>3）无法防范通过防火墙以外的其他途径的攻击</p>
<p>从而试图绕过由精心构造的防火墙系统提供的安全系统。</p>
<p>4）无法完全防止传送已感染病毒的软件或文件</p>
<p>Internet 防火墙去对每一个文件进行扫描，但无法查出潜在的病毒。对病毒特别关心的机构应在每个桌面部署防病毒软件，防止病毒从软盘或其他来源进入网络系统。</p>
<p>5）无法防备新的网络安全问题</p>
<p>防火墙是一种被动式的防护手段，它只能对现在已知的网络威胁起作用。随着网络攻击手段的不断更新和一些新的网络应用的出现，不可能靠一次性的防火墙设置来解决永久的网络安全问题。</p>
</li>
<li><p>常见防火墙</p>
<p>1）包过滤型防火墙</p>
<p>包过滤型防火墙往往可以用一台过滤路由器来实现对所接收的每个数据包做允许拒绝的决定。路由器审查每个数据包，以便确定其是否与某一条包过滤规则匹配。过滤规则基于 IP 包头信息。</p>
<p>包头信息中包括 IP 源地址、IP 目标端地址、内装协议（ ICP、UDP、ICMP 或 IP Tunnel）、TCP UDP 目标端口、ICMP 消息类型以及 TCP 包头中的 ACK 位。</p>
<ol>
<li><p>技术优点编辑</p>
<p>对于一个小型的、不太复杂的站点，包过滤比较容易实现。</p>
<p>因为过滤路由器工作在 IP 层和 TCP 层，所以处理包的速度比代理服务器快。</p>
<p>过滤路由器为用户提供了一种透明的服务，用户不需要改变客户端的任何应用程序，也不需要用户学习任何新的东西。</p>
<p>过滤路由器在价格上一般比代理服务器便宜。</p>
</li>
<li><p>技术缺点编辑</p>
<p>一些包过滤网关不支持有效的用户认证。</p>
<p>规则表很快会变得很大而且复杂，规则很难测试。随着表的增大和复杂性的增加，规则结构出现漏洞的可能性也会增加。</p>
<p>这种防火墙最大的缺陷是它依赖一个单一的部件来保护系统。</p>
<p>在一般情况下，如果外部用户被允许访问内部主机，则它就可以访问内部网上的任何主机。</p>
<p>包过滤防火墙只能阻止一种类型的 IP 欺骗，即外部主机伪装内部主机的 IP，对于外部主机伪装外部主机的 IP 欺骗却不可能阻止，而且它不能防止 DNS 欺骗。</p>
</li>
</ol>
<p>2）双宿网关防火墙</p>
<p>一个双重宿主主机是一种防火墙，拥有两个连接到不同网络上的网络接口。</p>
<p>第一种方式需要在双重宿主主机上开许多账号，这是很危险的。</p>
<p><img src="/images/image-20210812185912436.png" srcset="/img/loading.gif" lazyload alt="image-20210812185912436"></p>
<p>双重宿主主机是惟一的隔开内部网和外部因特网之间的屏障，如果入侵者得到了双重宿主主机的访问权，内部网络就会被入侵。</p>
<p>第二种方式一些服务本身就是“存储转发”型的。在双重宿主主机上，运行各种各样的代理服务器，当要访问外部站点时，必须先经过代理服务器认证，然后才可以通过代理服务器访问因特网。</p>
<p><img src="/images/image-20210812190042812.png" srcset="/img/loading.gif" lazyload alt="image-20210812190042812"></p>
<p>3）屏蔽主机防火墙</p>
<p>屏蔽主机防火墙强迫所有的外部主机与一个堡垒主机相连接，而不让它们直接与内部主机相连。屏蔽主机防火墙由包过滤路由器和堡垒主机组成。这个防火墙系统提供的安全等级比包过滤防火墙系统要高，因为它实现了网络层安全（包过滤） 和应用层安全（代理服务）。</p>
<p><img src="/images/image-20210812190151671.png" srcset="/img/loading.gif" lazyload alt="image-20210812190151671"></p>
<p>4）代理服务器</p>
<p>代理服务器（Proxy Server）是一种重要的服务器安全功能，它的工作主要在开放系统互联（OSI）模型的会话层，从而起到防火墙的作用。代理服务器大多被用来连接 INTERNET（国际互联网）和 Local Area Network（局域网）。</p>
<p>Proxy Server（代理服务器）是 Internet 链路级网关所提供的一种重要的安全功能，主要的功能有：</p>
<p>减少的暴露主机的数量，保护内部的网络的安全</p>
<p>代理服务器上使用公有 IP 地址，内部主机使用私有 IP 地址，节省 IP 地址数量</p>
<p>代理服务器有私有 IP 和公有 IP 的转换功能（NAT 技术）</p>
<p>代理服务器本身有缓存功能，加快上网的速度</p>
</li>
</ol>
<h3 id="8-2-7-入侵检测技术"><a href="#8-2-7-入侵检测技术" class="headerlink" title="8.2.7 入侵检测技术"></a>8.2.7 入侵检测技术</h3><ol>
<li><p>入侵检测概念</p>
<p>入侵检测是指“通过对行为、安全日志或审计数据或其它网络上可以获得的信息进行操作，检测到对系统的闯入或闯入的企图”。入侵检测是检测和响应计算机误用的学科，其作用包括威慑、检测、响应、损失情况评估、攻击预测和起诉支持。</p>
</li>
<li><p>入侵检测分类</p>
<p>1）根据原始数据的来源</p>
<p>基于主机的入侵检测系统：主要用于保护运行关键应用的服务器。它通过监视与分析主机的审计记录和日志文件来检测入侵。</p>
<p>基于网络的入侵检测系统：主要用于实时监控网络关键路径的信息，它侦听网络上的所有分组，采集数据，分析可疑现象。</p>
<p>基于应用的入侵检测系统：基于主机的入侵检测系统的一个特殊子集，也可以说是基于主机入侵检测系统实现的进一步的细化。</p>
<p>2）根据检测原理</p>
<p>特征检测（Signature-based detection）又称 Misuse detection ，这一检测假设入侵者活动可以用一种模式来表示，系统的目标是检测主体活动是否符合这些模式。它可以将已有的入侵方法检查出来，但对新的入侵方法无能为力。其难点在于如何设计模式既能够表达“入侵”现象又不会将正常的活动包含进来。</p>
<p>异常检测（Anomaly detection）的假设是入侵者活动异常于正常主体的活动。根据这一理念建立主体正常活动的“活动简档”，将当前主体的活动状况与“活动简档”相比较，当违反其统计规律时，认为该活动可能是“入侵”行为。异常检测的难题在于如何建立“活动简档”以及如何设计统计算法，从而不把正常的操作作为“入侵”或忽略真正的“入侵”行为。</p>
<p>3）根据工作方式</p>
<p>离线检测：在事件发生后分析审计事件，从中检查入侵事件。这类系统的成本低，可以分析大量事件，调查长期的情况；但由于是在事后进行，不能对系统提供及时的保护，而且很多入侵在完成后都将审计事件去掉，使其无法审计。</p>
<p>在线检测：对网络数据包或主机的审计事件进行实时分析，可以快速反应，保护系统的安全；但在系统规模较大时，难以保证实时性。</p>
</li>
</ol>
<h2 id="8-3-计算机病毒"><a href="#8-3-计算机病毒" class="headerlink" title="8.3 计算机病毒"></a>8.3 计算机病毒</h2><h3 id="8-3-1-计算机病毒"><a href="#8-3-1-计算机病毒" class="headerlink" title="8.3.1 计算机病毒"></a>8.3.1 计算机病毒</h3><ol>
<li><p>病毒的破坏性</p>
<p>直接破坏计算机上的重要信息，主要表现为删除、篡改文件，格式化硬盘等；</p>
<p>抢占系统资源，降低系统性能，有的病毒大量复制垃圾文件，不断占用系统内存，甚至导致系统崩溃；</p>
<p>窃取主机上的重要信息，如信用卡密码、管理员账号密码等；</p>
<p>破坏计算机硬件，有的主板的 BIOS 允许在正常电压下升级，容易受到类似 CIH病毒的攻击，新型主板采用“软跳线”的越来越多，这也给了病毒破坏硬件的机会；</p>
<p>导致网络阻塞，甚至瘫痪;</p>
<p>使邮件服务器、Web 服务器不能提供正常服务。</p>
</li>
<li><p>病毒的定义</p>
<p>计算机病毒，是指人为编制或者在计算机程序中插入的破坏计算机功能或者毁坏数据，影响计算机使用，并能够自我复制的一组计算机指令或者程序代码。</p>
</li>
</ol>
<h3 id="8-3-2-计算机病毒基本特征"><a href="#8-3-2-计算机病毒基本特征" class="headerlink" title="8.3.2 计算机病毒基本特征"></a>8.3.2 计算机病毒基本特征</h3><p>计算机病毒还有传染性、传播性、破坏性、寄生性、欺骗性、隐蔽性、潜伏性和衍生性等特征。它一般都隐蔽在合法程序（ 被感染的合法程序称作宿主程序） 中，当计算机运行时，它与合法的程序争夺系统的控制权，从而对计算机系统实施干扰和破坏作用。</p>
<ol>
<li><p>可执行性</p>
<p>计算机病毒是一段能够执行的代码，既可以是二进制代码，也可以是一段脚本，或者宏病毒利用 Office 对 Word 文档进行操作的时候获得执行权限，执行脚本进行破坏。</p>
</li>
<li><p>传染性与传播性</p>
<p>病毒要进行传染，就需要进行自我复制，常用的方法就是把自己的病原体代码注入到宿主程序中，当宿主程序运行时，病毒代码也能随之运行。病毒的传染性主要作用于一台主机上，而病毒要从一台主机蔓延到另一台主机，其所需要的另一种特性就是传播性，即通过网络或者存储介质（包括软盘、硬盘） 进行传播。</p>
</li>
<li><p>破坏性</p>
<p>计算机病毒的破坏性是多种多样的，例如损坏数据、导致系统的异常、窃取用户数据、阻塞网络等等。</p>
</li>
<li><p>寄生性</p>
<p>狭义的病毒一般不是完整的程序，它通常附加在其他程序中，就像生物界中的寄生现象。被寄生的程序称为宿主程序，或者称为病毒载体。当然，现在的某些病毒本身就是一个完整的程序，特别是广义病毒中的网络蠕虫。</p>
</li>
<li><p>欺骗性</p>
<p>黑客常常会把带有病毒程序的名字起成一些用户比较关心的程序名字，比如把自己命名成微软补丁，或者是动画的名字，欺骗用户执行这个程序。“爱虫”病毒就是利用标题为“I LOVE YOU”的邮件欺骗用户点击。</p>
</li>
<li><p>隐蔽性和潜伏性</p>
<p>计算机病毒要获得有效的传染和传播，就应该尽量在用户能够觉察的范围之外进行。因为用户一旦发现，计算机病毒就有可能被清除，这将影响到计算机病毒本身的生存性。</p>
</li>
<li><p>衍生性</p>
<p>既然计算机病毒是一段特殊的程序，了解病毒程序的人就可以根据其个人意图随意改动，从而衍生出另一种不同于原版病毒的新病毒。</p>
</li>
<li><p>可触发性</p>
<p>编制计算机病毒的人，一般都为病毒程序设定了一些触发条件，例如，系统时钟的某个时间或日期、系统运行了某些程序等。一旦条件满足，计算机病毒就会“发作”，使系统遭到破坏。</p>
</li>
</ol>
<h3 id="8-3-3-计算机病毒的分类"><a href="#8-3-3-计算机病毒的分类" class="headerlink" title="8.3.3 计算机病毒的分类"></a>8.3.3 计算机病毒的分类</h3><ol>
<li><p>按攻击的操作系统分类</p>
<p>1）攻击 DOS 系统的病毒</p>
<p>这种病毒也称作 DOS 病毒，出现最早，变种也最多，传播也非常广泛，如小球病毒等。</p>
<p>2）攻击 Windows 系统的病毒</p>
<p>攻击 Windows 的病毒主要是宏病毒，有感染 Word 的宏病毒，有感染 Excel 的宏病毒，还有感染 Access 的宏病毒，其中感染 Word 的宏病毒最多。</p>
<p>3）攻击 Unix 或 OS/ 2 系统的病毒</p>
<p>世界上也已经发现攻击 OS/2 系统的病毒。</p>
</li>
<li><p>按传播媒介分类</p>
<p>1）单机病毒</p>
<p>单机病毒的载体是磁盘，常见的是病毒从软盘传入硬盘，感染系统，然后再感染其他软盘，进而再感染其他系统。</p>
<p>2）网络病毒</p>
<p>网络病毒的传播媒介是网络。随着网上用户的增加，网络病毒的传播速度更快，范围更广，造成的危害更大。网络病毒往往造成网络堵塞，修改网页，甚至与其他病毒结合修改或破坏文件。</p>
</li>
<li><p>按链接方式分类</p>
<p>1）源码型病毒</p>
<p>这类病毒在高级语言（ 如 Fortran 、C、Pascal 等语言）编写的程序被编译之前，插入目标源程序之中，经编译，成为合法程序的一部分。这类病毒程序一般寄生在编译处理程序或链接程序中。</p>
<p>2）入侵型病毒</p>
<p>入侵型病毒也叫嵌入型病毒，在感染时往往对宿主程序进行一定的修改，通常是寻找宿主程序的空隙将自己嵌入进去，并变为合法程序的一部分，使病毒程序与目标程序成为一体。一旦病毒侵入宿主程序，对其杀毒是十分困难的，清除这类病毒时往往会破坏合法程序。</p>
<p>3）外壳型病毒</p>
<p>这类病毒程序一般链接在宿主程序的首尾，对原来的主程序不做修改或仅做简单修改。当宿主程序执行时，首先执行并激活病毒程序，使病毒得以感染、繁衍和发作。这类病毒易于编写，数量也最多。</p>
</li>
<li><p>按表现（ 破坏） 情况分类</p>
<p>1）良性病毒</p>
<p>良性病毒是指那些只表现自己，而不破坏计算机系统的病毒。它们多是出自一些恶作剧者之手。病毒制造者编制病毒的目的不是为了对计算机系统进行破坏，而是为了显示他们在计算机编程方面的技巧和才华。</p>
<p>2）恶性病毒</p>
<p>恶性病毒的目的就是有意或无意地破坏系统中的信息资源。常见的恶性病毒的破坏行为是删除计算机系统内存储的数据和文件；也有一些恶性病毒不删除任何文件，而是对磁盘乱写一气，表面上看不出病毒破坏的痕迹，但文件和数据的内容已被改变；还有一些恶性病毒对整个磁盘或磁盘的特定扇区进行格式化，使磁盘的信息全部消失。</p>
</li>
<li><p>按寄生方式分类</p>
<p>1）引导型病毒</p>
<p>引导型病毒也称磁盘引导型、引导扇区型、磁盘启动型、系统型病毒等。引导型病毒就是把自己的病毒程序放在软磁盘的引导区以及硬磁盘的主引导记录区或引导扇区，当作正常的引导程序，而将真正的引导程序搬到其他位置。</p>
<p>2）文件型病毒</p>
<p>文件型病毒是指所有通过操作系统的文件系统进行感染的病毒。文件型病毒以感染可执行文件（ .bat 、.exe 、.com、.sys 、.dll、.ovl、.vxd 等） 的病毒为主，还有一些病毒可以感染高级语言程序的源代码、开发库或编译过程中所生成的中间文件。</p>
<p>3）混合型病毒</p>
<p>混合型病毒，也称综合型、复合型病毒，既具有引导型病毒的特点，又具有文件型病毒的特点，即这种病毒既可以感染磁盘引导扇区，又可以感染可执行文件。这类病毒的危害性更大。</p>
</li>
<li><p>宏病毒</p>
<p>宏病毒是一种存储于文档、模板或加载宏程序中的计算机病毒。当打开已受感染的文件（ 如 Word 文档） 或执行触发宏病毒的操作时，病毒就会被激活，并存储到Normal.dot 模板或 Personal.xls 文件中。从此以后，保存的每个文档都会自动被病毒“感染”，如果其他人打开受病毒感染的文件，那么宏病毒就会传播到他们的计算机中。</p>
<p>宏病毒与以往的传统计算机病毒不同，它是只感染微软的文档（ .doc 或.xls 等）的一种专向病毒。</p>
</li>
<li><p>网络病毒</p>
<p>网络病毒有很多种类，例如脚本病毒、邮件病毒等。依据病毒的攻击手段，可将网络型病毒分为<strong>蠕虫</strong>和<strong>木马</strong>两大类型。</p>
<p>1）蠕虫</p>
<p>蠕虫（ Worm） 是通过分布式网络来扩散传播特定信息或错误，破坏网络中的信息或造成网络服务中断的病毒。</p>
<p>“蠕虫”一般由两部分组成：一个主程序和一个引导程序。主程序一旦在机器上执行，就会通过读取公共配置文件以及收集当前网络状态信息，获得与当前机器联网的其他机器的信息和软件缺陷，主动尝试利用所获得的信息以及其他机器的缺陷在这些远程机器上建立其引导程序。</p>
<p>2003 年1 月25 日首次发作的Win32 .SQLExp . Worm 病毒就是一个非常典型的蠕虫病毒，它具备了蠕虫病毒所有的典型特征。</p>
<p>2）木马</p>
<p>木马又称特洛伊木马（ Trojan horse） ，它原本属于一类基于远程控制的工具。木马的运行模式属于客户/ 服务模式，它包括两大部分，即客户端和服务端。其原理是一台主机提供服务（ 服务器），另一台主机接收服务（ 客户机） 。作为服务器的主机一般会打开一个默认的端口进行监听。木马之所以能够运行的原因是由于用户的程序通常继承了与用户相同、惟一的优先权和存取权。</p>
</li>
</ol>
<h3 id="8-3-4-计算机病毒的传播"><a href="#8-3-4-计算机病毒的传播" class="headerlink" title="8.3.4 计算机病毒的传播"></a>8.3.4 计算机病毒的传播</h3><ol>
<li><p>移动设备</p>
<p>最易传播的途径是网络，其次是 U 盘，再次是光盘，由于硬盘一般在机器内，不会传播到其它电脑上，除非你把有毒的硬盘换到其它机器上。</p>
</li>
<li><p>计算机网络</p>
<p>最可恶的传播是通过网络，可以通过系统漏洞，IE，办公软件漏洞，无需运行病毒服务端，直接可以获得最高权限，从而控制对方机器，还有一类网络攻击是在提供互联网服务的主机（一般通过网页方式），在被访问的网页中植入病毒或恶意代码，客户通过访问这种页面就会中毒，传播面很大（知名网站的访问量也很大），一天之内（也可能更短）可以传播到全世界。</p>
</li>
<li><p>E-mail 传输</p>
<p>其它的传播方式是通过 E-MAIL，在图片中植入木马等方式用得也多，不过危害面比第一种稍小，第一类网络传播途径中，还有一种所谓的“钓鱼”网站，现在也流行，就是不法分子通过收买，自建一个网站，伪造一个某官方网站（一般客户看不出真假），通常是一些游戏、银行、购物网站被仿冒，目的是为了骗取账号密码，赚取钱财或个人隐私，受害面也大。 </p>
</li>
</ol>
<h3 id="8-3-5-计算机病毒的防御"><a href="#8-3-5-计算机病毒的防御" class="headerlink" title="8.3.5 计算机病毒的防御"></a>8.3.5 计算机病毒的防御</h3><ol>
<li><p>提高安全意识</p>
<p>树立病毒防范意识，从思想上重视计算机病毒。用户是计算机的使用者，很多攻击事件就是由于用户的安全意识薄弱，无意中触发了黑客设下的机关、打开了带有恶意攻击企图的邮件或网页造成的。</p>
</li>
<li><p>安装杀毒软件</p>
<p>一定要安装正版的杀毒软件和防火墙，并及时升级到最新版本（如瑞星、江民、卡巴斯基、等）。另外还要及时升级杀毒软件病毒库，同时还要启动杀毒软件的“自动防护”功能，这样才能防范新病毒，为系统提供真正安全环境。</p>
</li>
<li><p>传输介质要扫描</p>
<p>插入软盘、光盘和其他可插拔介质前，一定对它们进行病毒扫描。在使用这些光盘、U 盘以及从网络上下载的程序之前必须使用杀毒工具进行扫描，查看是否带有病毒，确认无病毒后，再使用。</p>
</li>
<li><p>网站的安全</p>
<p>不从不受信任的网站下载软件，不要随便登录不明网站、黑客网站或色情网站。用户不要随便登录不明网站或者黄色网站，不要随便点击打开 QQ、MSN 等聊天工具上发来的链接信息，不要随便打开或运行陌生、可疑文件和程序，如邮件中的陌生附件，外挂程序等，这样可以避免网络上的恶意软件插件进入你的计算机。</p>
</li>
<li><p>备份数据</p>
<p>最后应注意养成经常备份重要数据的习惯，要定期与不定期地对磁盘文件进行备份，特别是一些比较重要的数据资料，以便在感染病毒导致系统崩溃时可以最大限度地恢复数据，尽量减少可能造成的损失。</p>
</li>
</ol>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">计算机基础知识</a>
                    
                  </div>
                
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2021/08/18/10.%20%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">数据结构</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2021/08/10/7%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">
                        <span class="hidden-mobile">操作系统</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.3/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.1/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js" ></script>



  <script  src="/js/local-search.js" ></script>






  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>















<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
