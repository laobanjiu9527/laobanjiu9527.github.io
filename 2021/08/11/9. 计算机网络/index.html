

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/Lsh.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="暂无摘要">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
  <title>计算机网络与安全 - laobanjiu</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.7.2/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"laobanjiu9527.github.io","root":"/","version":"1.8.11","typing":{"enable":true,"typeSpeed":70,"cursorChar":" ","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>老斑鸠</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/snoopy3.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="计算机网络与安全">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2021-08-11 11:47" pubdate>
        2021年8月11日 中午
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      32k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      339
       分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">计算机网络与安全</h1>
            
            <div class="markdown-body">
              <h1 id="1-计算机网络体系结构"><a href="#1-计算机网络体系结构" class="headerlink" title="1. 计算机网络体系结构"></a>1. 计算机网络体系结构</h1><h2 id="1-1-计算机网络概述"><a href="#1-1-计算机网络概述" class="headerlink" title="1.1 计算机网络概述"></a>1.1 计算机网络概述</h2><p>21 世纪的一些重要特征就是数字化、网络化和信息化，它是一个以网络为核心的倍息时代。网络对社会生活的很多方面以及对社会经济的发展己经产生了不可估量的影响。</p>
<p>三网合一主要指的是“电信网络”、“有线电视网络”、“计算机网络”。</p>
<h3 id="1-1-1-计算机网络概念"><a href="#1-1-1-计算机网络概念" class="headerlink" title="1.1.1 计算机网络概念"></a>1.1.1 计算机网络概念</h3><p>计算机网络是指分布在不同地理位置上的具有独立功能的多个计算机系统，通过通信设备和通信线路互连起来，在网络软件的管理下实现数据传输和资源共享的系统。</p>
<h3 id="1-1-2-计算机网络发展"><a href="#1-1-2-计算机网络发展" class="headerlink" title="1.1.2 计算机网络发展"></a>1.1.2 计算机网络发展</h3><ol>
<li><p>第一阶段</p>
<p>1969 年美国国防部建立了世界上第一个 ARPANET 网络。</p>
<p><img src="/images/image-20210811120525303.png" srcset="/img/loading.gif" lazyload alt="image-20210811120525303"></p>
</li>
<li><p>第二阶段</p>
<p>三级结构网络阶段，1985 年，美国国家科学基金会 NSF 围绕六个大型的计算机中心建设计算机网络，即国家科学基金网 NSFNET。它是第一个三级网络，分为，主干网、地区网和校园网（企业网）。</p>
</li>
<li><p>第三阶段</p>
<p>第三阶段的特点是逐渐形成多层次的 ISP 结构的 internet。1993 年美国资助的NSFNEF 网络被若干个商用的因特网主干网代替，政府不再复制因特网的运营。因特网服务提供商 ISP（internet service provider）。ISP 拥有从因特网管理机构申请多个 IP 地址，同时拥有通信线路，路由等通信连接设备。任何机构或个人可以向 ISP 缴纳费用，从而获取 IP 地址，获取网络服务。</p>
<p><img src="/images/image-20210811120757910.png" srcset="/img/loading.gif" lazyload alt="image-20210811120757910"></p>
</li>
</ol>
<h3 id="1-1-3-计算机网络功能"><a href="#1-1-3-计算机网络功能" class="headerlink" title="1.1.3 计算机网络功能"></a>1.1.3 计算机网络功能</h3><ol>
<li><p>数据通信</p>
<p>计算机网络主要提供传真、电子邮件、电子数据交换（EDI）、电子公告牌（BBS）、远程登录和浏览等数据通信服务。</p>
</li>
<li><p>资源共享</p>
<p>凡是入网用户均能享受网络中各个计算机系统的全部或部分软件、硬件和数据资源，为最本质的功能。</p>
</li>
<li><p>提高系统可靠性</p>
<p>网络中的每台计算机都可通过网络相互成为后备机。一旦某台计算机出现故障，它的任务就可由其他的计算机代为完成，这样可以避免在单机情况下，一台计算机发生故障引起整个系统瘫痪的现象，从而提高系统的可靠性。</p>
</li>
<li><p>提高性能</p>
<p>当网络中的某台计算机负担过重时，网络又可以将新的任务交给较空闲的计算机完成，均衡负载，从而提高了每台计算机的可用性。</p>
</li>
<li><p>分布式处理</p>
<p>通过算法将大型的综合性问题交给不同的计算机同时进行处理。用户可以根据需要合理选择网络资源，就近快速地进行处理。</p>
</li>
</ol>
<h3 id="1-1-4-计算机网络组成"><a href="#1-1-4-计算机网络组成" class="headerlink" title="1.1.4 计算机网络组成"></a>1.1.4 计算机网络组成</h3><ol>
<li><p>边缘部分</p>
<p>资源子网：由所有连接在因特网上的主机组成。这部分是用户直接使用的，用来进行通信（传送数据、音频或视频）和资源共享。</p>
</li>
<li><p>核心部分</p>
<p>通信子网：由大量网络和连接这些网络的路由器组成。这部分是为边缘部分提供服务的（提供连通性和交换）。</p>
<p><img src="/images/image-20210811121302746.png" srcset="/img/loading.gif" lazyload alt="image-20210811121302746"></p>
</li>
</ol>
<p>处在因特网边缘的部分就是连接在因特网上的所有的主机。这些主机又称为端系统（end system）。</p>
<p>“主机 A 和主机 B 进行通信”，实际上是指：“运行在主机 A 上的某个程序和运行在主机 B 上的另一个程序进行通信”。</p>
<p>即“主机 A 的某个进程和主机 B 上的另一个进程进行通信”。或简称为“计算机之间通信”</p>
<h3 id="1-1-5-网络分类"><a href="#1-1-5-网络分类" class="headerlink" title="1.1.5 网络分类"></a>1.1.5 网络分类</h3><ol>
<li><p>按作用范围</p>
<ol>
<li>局域网（LAN）</li>
</ol>
<p>局域网（Local Area Network，LAN）是指在某一区域内由多台计算机互联成的计算机组。一般是方圆几千米以内。局域网可以实现文件管理、应用软件共享、打印机共享、工作组内的日程安排、电子邮件和传真通信服务等功能。局域网是封闭型的，可以由办公室内的两台计算机组成，也可以由一个公司内的上千台计算机组成。</p>
<ol start="2">
<li>城域网（MAN）</li>
</ol>
<p>城域网（Metropolitan Area Network）是在一个城市范围内所建立的计算机通信网，简称 MAN。属宽带局域网。由于采用具有有源交换元件的局域网技术，网中传输时延较小，它的传输媒介主要采用光缆，传输速率在 100 兆比特/秒以上。</p>
<ol start="3">
<li>广域网（WAN）</li>
</ol>
<p>广域网（WAN，Wide Area Network）也称远程网（long haul network ）。通常跨接很大的物理范围，所覆盖的范围从几十公里到几千公里，它能连接多个城市或国家，或横跨几个洲并能提供远距离通信，形成国际性的远程网络。</p>
</li>
<li><p>按拓扑结构</p>
<p><img src="/images/image-20210811121759726.png" srcset="/img/loading.gif" lazyload alt="image-20210811121759726"></p>
<ol>
<li>星型拓扑结构</li>
</ol>
<p>星形拓扑结构是一种以中央节点为中心，把若干外围节点连接起来的辐射式互联结构，各结点与中央结点通过点与点方式连接，中央结点执行集中式通信控制策略，因此中央结点相当复杂，负担也重。</p>
<ol start="2">
<li>树型拓扑结构</li>
</ol>
<p>树形拓扑结构是一种层次结构，结点按层次连结，信息交换主要在上下结点之间进行，相邻结点或同层结点之间一般不进行数据交换。</p>
<ol start="3">
<li>总线型拓扑结构</li>
</ol>
<p>总线型拓扑是采用单根传输作为共用的传输介质，将网络中所有的计算机通过相应的硬件接口和电缆直接连接到这根共享的总线上。使用总线型拓扑结构需解决的是确保用户使用媒体发送数据时不能冲突。</p>
<p>在点到点的链路配置时，如果链路是半双工操作，只需使用简单的机制便可保证两个用户轮流工作。在一点到多点方式中，对线路的访问依靠控制端的探询来确定。采取分布式访问控制策略来协调网络上计算机数据的发送。</p>
<ol start="4">
<li>环型拓扑结构</li>
</ol>
<p>环型拓扑是使用公共电缆组成一个封闭的环，各节点直接连到环上，信息沿着环按一定方向从一个节点传送到另一个节点。环接口一般由发送器、接收器、控制器、线控制器和线接收器组成。</p>
<ol start="5">
<li>网状拓扑结构</li>
</ol>
<p>网状拓扑结构，这种拓扑结构主要指各节点通过传输线相互连接起来，并且每一个节点至少与其他两个节点相连。网状拓扑结构具有较高的可靠性，但其结构复杂，实现起来费用较高，不易管理和维护，不常用于局域网。</p>
</li>
<li><p>按使用范围</p>
<ol>
<li>公用网</li>
</ol>
<p>一般是国家的邮电部门建造的网络。”公用”的意思就是从所有愿意按邮电部门规定交纳费用的人都可以使用。因此，公用网也可以称为公众网，例如 CHINANET、CERNET 等。</p>
<ol start="2">
<li>专用网</li>
</ol>
<p>“专用网”英文对照 private data network； intranet；special network；是某个部门为本单位的特殊工作的需要而建立的网络。专用网指专用于一些保密性要求较高的部门的网络，比如企业内部专用网、军队专用网，尤其是涉及国家机密的部门。这种网络不向本单位以外的人提供服务。例如，军队、铁路、电力等系统均有本系统的专用网。</p>
</li>
</ol>
<h3 id="1-1-6-网络交换方式"><a href="#1-1-6-网络交换方式" class="headerlink" title="1.1.6 网络交换方式"></a>1.1.6 网络交换方式</h3><ol>
<li><p>电路交换</p>
<p>电路交换（CS:circuit switching）是通信网中最早出现的一种交换方式，也是应用最普遍的一种交换方式，主要应用于电话通信网中，完成电话交换。</p>
<ol>
<li>工作过程</li>
</ol>
<p>电话通信分为三个阶段：呼叫建立、通话、呼叫拆除。</p>
<p>电话通信的过程是：首先摘机，听到拨号音后拨号，交换机找寻被叫，向被叫振铃同时向主叫送回铃音，此时表明在电话网的主被叫之间已经建立起双向的话音传送通路；当被叫摘机应答，即可进入通话阶段；在通话过程中，任何一方挂机，交换机毁拆除已建立的通话通路，并向另一方送忙音提示挂机，从而结束通话。</p>
<ol start="2">
<li>电路交换特点</li>
</ol>
<ul>
<li><p>面向连接的独占性</p>
<p>在通信前要先建立一条端到端的连接，建立好之后，通信就沿着这条路径进行，路径起点就是发送端，路径的终点就是接收端。在建立电路之后、释放线路之前，即使站点之间无任何数据可以传输，整个线路仍不允许其他站点共享。</p>
</li>
<li><p>同步时分复用固定带宽</p>
<p>信息传输的最小单位是时隙，时隙是用户传输信息的时候占用的时间。</p>
<p>时分多路复用技术：将传输信号的时间分割成若干个时间片（时隙），利用不同的时隙传输各自不同的信号，多路信号使用各自的时隙。</p>
</li>
<li><p>信息传送无差错控制，信息具有透明性。</p>
<p>电路交换对传输信息不作处理，这称为透明传输。进行低速率数据传送时也不进行速率、码型的变换。对传输的信息也不作差错控制，没有 CRC 循环冗余校验和重发等机制。</p>
</li>
<li><p>基于呼叫损失的流量控制；</p>
<p>电路交换采用基于呼叫损失的控制方法来处理业务流，过负荷时呼损率增加，但不影响已经建立的呼叫。这种控制方法符合实时业务的特性。</p>
</li>
</ul>
<ol start="3">
<li>电路交换优缺点</li>
</ol>
<ul>
<li><p>优点</p>
<p>实时性好、信息传输时延小，对于一次接续来讲，传输时延固定不变，适用于实时、大批量、连续的数据传输。</p>
<p>数据传输可靠、迅速，数据不会丢失，且保持原来的序列。</p>
<p>通信质量有保证，控制简单。 </p>
</li>
<li><p>缺点</p>
<p>呼叫建立需要时间</p>
<p>每个连接带宽固定（不能适应不同速率的业务）</p>
<p>不传信息时也占用资源（不适用于突发业务）</p>
<p>对信息无差错控制，不适合差错敏感的数据业务</p>
<p>流量控制是基于呼叫损失制的</p>
</li>
</ul>
</li>
<li><p>分组交换</p>
<p>1）虚电路交换</p>
<ul>
<li><p>工作原理</p>
<p>虚电路是建立一条逻辑连接，发送方与接收方不需要预先建立连接。</p>
<p>虚电路是由分组交换通信所提供的面向连接的通信服务。在两个节点或应用进程之间建立起一个逻辑上的连接或虚电路后，就可以在两个节点之间依次发送每一个分组，接收端收到分组的顺序必然与发送端的发送顺序一致，因此接收端无须负责在接收分组后重新进行排序。虚电路协议向高层协议隐藏了将数据分割成段，包或帧的过程。</p>
</li>
<li><p>虚电路特点</p>
<p>应用程序产生数据的比特率；</p>
<p>利用一个 RTT(Round-Trip Time, 往返时间) 时间来建立虚拟信道。</p>
<p>如果交换失败，必须重新建立连接。</p>
<p>为每一个虚拟信道分配缓冲区；权限控制；对每一连接进行计费。</p>
<p>使用统计多路复用技术时，共享同一网络资源的其他用户的负荷；</p>
<p>许多虚电路协议通过数据重传，包括检错纠错和自动重传请求（ARQ），提供可</p>
<p>靠的通信服务。</p>
</li>
</ul>
<p>2）报文交换</p>
<ul>
<li><p>基本概念</p>
<p>报文交换不要求在两个通信结点之间建立专用通路。结点把要发送的信息组织成一个数据包(报文)，该报文中含有目标结点的地址，完整的报文在网络中一站一站地向前传送。在电子邮件系统中有使用。</p>
</li>
<li><p>优缺点</p>
<p>报文交换是以报文为数据交换的单位，报文携带有目标地址、源地址等信息，在交换结点采用存储转发的传输方式，因而有以下优缺点：</p>
<ul>
<li><p>优点</p>
<p>报文交换是无连接的，不需要在连接建立时延，用户可随时发送报文。</p>
<p>在报文交换中便于设置代码检验和数据重发设施，提高了传输的可靠性</p>
<p>在存储转发中容易实现代码转换和速率匹配</p>
<p>提供多目标服务，即一个报文可以同时发送到多个目的地址</p>
<p>允许建立数据传输的优先级，使优先级高的报文优先转换。</p>
<p>报文在传输过程种是分段的占用物理通路，因而大大提高了通信线路的利用率。</p>
</li>
<li><p>缺点</p>
<p>数据需要经历存储、转发这一过程，从而引起转发时延（包括接收报文、检验正确性、排队、发送时间等），而且网络的通信量愈大，造成的时延就愈大，因此报文交换的实时性差，不适合传送实时或交互式业务的数据。</p>
<p>报文交换只适用于数字信号。</p>
<p>由于报文长度没有限制，而每个中间结点都要完整地接收传来的整个报文，当输出线路不空闲时，还可能要存储几个完整报文等待转发，要求网络中每个结点有较大的缓冲区。为了降低成本，减少结点的缓冲存储器的容量，有时要把等待转发的报文存在磁盘上，进一步增加了传送时延。</p>
</li>
</ul>
</li>
</ul>
<p>3）<strong>分组交换</strong></p>
<ul>
<li><p>分组交换概念</p>
<p>分组交换实质上是在“存储——转发”基础上发展起来的。它兼有电路交换和报文交换的优点。分组交换在线路上采用动态复用技术传送按一定长度分割为许多小段的数据——分组，每个分组独立进行传送。到达接受端口，再重新组装为一个完整的数据报文。分组交换比电路交换的传输效率高，比报文交换的时延小。</p>
<p><img src="/images/image-20210811124228542.png" srcset="/img/loading.gif" lazyload alt="image-20210811124228542"></p>
</li>
<li><p>分组交换优缺点</p>
<ul>
<li><p>优点</p>
<p>利用率高：数据分组可以在同一条链路上以动态共享和复用方式进行传输，通信资源利用率高，从而使得信道的容量和吞吐量有了很大的提升。</p>
<p>数据率：两个不同数据率的站之间能够交换分。</p>
<p>排队机制：当分组网络上有大量的分组时，可以根据设定数据传输的排队机制，保证优先级高的分组优先传输。</p>
<p>优先级：在使用优先级时，如果一个结点有大量的分组在排队等待传送，它可以先传送高优先级的分组。</p>
<p><img src="/images/image-20210811124451244.png" srcset="/img/loading.gif" lazyload alt="image-20210811124451244"></p>
</li>
<li><p>缺点</p>
<p>时延：一个分组通过一个分组交换网结点存储转发时会产生时延，而在电路交换网中则不存在这种时延。</p>
<p>时延抖动：因为一个给定的源站和目的站之间的各分组可能具有不同的长度，可以走不同的路径，也可以在沿途的交换机中经历不同的时延，所以分组的总时延就可能变化很大。这种现象被称为抖动。</p>
<p>开销大：要将分组通过网络传送，包括目的地址在内的额外开销信息和分组排序信息必须加在每一个分组里。这些信息降低了可用来运输用户数据的通信容量。</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>四种交换方式</p>
<p><img src="/images/image-20210811124948429.png" srcset="/img/loading.gif" lazyload alt="image-20210811124948429"></p>
</li>
<li><p>交换方式的比较</p>
<p><img src="/images/image-20210811125034381.png" srcset="/img/loading.gif" lazyload alt="image-20210811125034381"></p>
</li>
</ol>
<h3 id="1-1-7-计算机网络的性能指标"><a href="#1-1-7-计算机网络的性能指标" class="headerlink" title="1.1.7 计算机网络的性能指标"></a>1.1.7 计算机网络的性能指标</h3><ol>
<li><p>速率</p>
<p>比特（bit）是计算机中数据量的单位，也是信息论中使用的信息量的单位。</p>
<p>Bit 来源于 binary digit，意思是一个“二进制数字”，因此一个比特就是二进制数字中的一个 1 或 0。</p>
<p>速率即数据率（data rate）或比特率（bit rate）是计算机网络中最重要的一个性能指标。速率的单位是 b/s，或 kb/s， Mb/s， Gb/s 等。</p>
</li>
<li><p>带宽</p>
<p>“带宽”（bandwidth）本来是指信号具有的频带宽度，单位是赫（或千赫、兆赫、吉赫等）。最高频率和最低频率的差值。</p>
<p>现在“带宽”是数字信道所能传送的“最高数据率”的同义语，单位是“比特每秒”，或 b/s （bit/s）。</p>
<p>在时间轴上信号的宽度随带宽的增大而变窄。</p>
<p><img src="/images/image-20210811125517772.png" srcset="/img/loading.gif" lazyload alt="image-20210811125517772"></p>
</li>
<li><p>吞吐量</p>
<p>吞吐量（throughput）表示在单位时间内通过某个网络（或信道、接口）的数据量。</p>
<p>吞吐量更经常地用于对现实世界中的网络的一种测量，以便知道实际上到底有多少数据量能够通过网络。</p>
<p>吞吐量受网络的带宽或网络的额定速率的限制。</p>
</li>
<li><p>时延（delay 或 latency）</p>
<p>发送时延 —— 第一个比特算起，到最后一个比特发送完毕所需的时间。</p>
<p>传播时延 —— 电磁波在信道中需要传播一定的距离而花费的时间。</p>
<p>处理时延 —— 交换结点为存储转发而进行一些必要的处理所花费的时间。</p>
<p>排队时延 —— 结点缓存队列中分组排队所经历的时延。</p>
<p>总时延 = 发送时延+传播时延+处理时延+排队时延</p>
</li>
<li><p>时延带宽积</p>
<p>时延带宽积=传播时延 X 带宽。</p>
</li>
<li><p>利用率</p>
<p>信道利用率指出某信道有百分之几的时间是被利用的（有数据通过）。完全空闲的信道的利用率是零。</p>
<p>网络利用率则是全网络的信道利用率的加权平均值。</p>
<p>信道利用率并非越高越好。</p>
<p>根据排队论的理论，当某信道的利用率增大时，该信道引起的时延也就迅速增加。若令 D0 表示网络空闲时的时延，D 表示网络当前的时延，则在适当的假定条件下，可以用下面的简单公式表示 D 和 D0 之间的关系：</p>
<p><img src="/images/image-20210811125839009.png" srcset="/img/loading.gif" lazyload alt="image-20210811125839009"></p>
</li>
</ol>
<h2 id="1-2-计算机网络体系结构"><a href="#1-2-计算机网络体系结构" class="headerlink" title="1.2 计算机网络体系结构"></a>1.2 计算机网络体系结构</h2><h3 id="1-2-1-网络协议"><a href="#1-2-1-网络协议" class="headerlink" title="1.2.1 网络协议"></a>1.2.1 网络协议</h3><ol>
<li><p>协议的定义</p>
<p>简称为协议，是为进行网络中的数据交换而建立的规则、标准或约定。</p>
</li>
<li><p>协议的三要素</p>
<p>语法：数据与控制信息的结构或格式。</p>
<p>语义：需要发出何种控制信息，完成何种动作以及做出何种响应。</p>
<p>同步：事件实现顺序的详细说明。</p>
</li>
</ol>
<h3 id="1-2-2-OSI-参考模型"><a href="#1-2-2-OSI-参考模型" class="headerlink" title="1.2.2 OSI 参考模型"></a>1.2.2 OSI 参考模型</h3><ol>
<li><p>分层的好处</p>
<p>各层之间是独立的。灵活性好。结构上可分割开。易于实现和维护。能促进标准化工作。</p>
</li>
<li><p>分层的原则</p>
<p>若层数太少，就会使每一层的协议太复杂。</p>
<p>层数太多又会在描述和综合各层功能的系统工程任务时遇到较多的困难。</p>
</li>
<li><p>OSI 层次</p>
<p>1977 年，开放系统互联参考模型 OSI/RM（Open System Interconnection，OSI）。</p>
<p>相互通信的两个计算机系统必须高度协调工作才行，而这种“协调”是相当复杂的。</p>
<p>“分层”可将庞大而复杂的问题，转化为若干较小的局部问题，而这些较小的局部问题就比较易于研究和处理。</p>
<p><img src="/images/image-20210811131246210.png" srcset="/img/loading.gif" lazyload alt="image-20210811131246210"></p>
</li>
<li><p>各层次结构的功能</p>
<p>1）物理层（Physical Layer）</p>
<p>物理层规定了激活、维持、关闭通信端点之间的机械特性、电气特性、功能特性以及过程特性。该层为上层协议提供了一个传输数据的物理媒体。</p>
<p>在这一层，数据的单位称为比特（bit）。</p>
<p>属于物理层定义的典型规范代表包括：EIA/TIA RS-232、EIA/TIA RS-449、V.35、RJ-45 等。</p>
<p>2）数据链路层（Data Link Layer）</p>
<p>数据链路层在不可靠的物理介质上提供可靠的传输。该层的作用包括：物理地址寻址、数据的成帧、流量控制、数据的检错、重发等。</p>
<p>在这一层，数据的单位称为帧（frame）。</p>
<p>数据链路层协议的代表包括：SDLC、HDLC、PPP、STP、帧中继等。</p>
<p>3）网络层（Network Layer）</p>
<p>网络层负责对子网间的数据包进行路由选择。此外，网络层还可以实现拥塞控制、网际互连等功能。</p>
<p>在这一层，数据的单位称为数据包（packet）。</p>
<p>网络层协议的代表包括：IP、IPX、RIP、OSPF 等。</p>
<p>4）传输层（Transport Layer）</p>
<p>传输层是第一个端到端，即主机到主机的层次。传输层负责将上层数据分段并提供端到端的、可靠的或不可靠的传输。此外，传输层还要处理端到端的差错控制和流量控制问题。</p>
<p>在这一层，数据的单位称为数据段（segment）。</p>
<p>传输层协议的代表包括：TCP、UDP、SPX 等。</p>
<p>5）会话层（Session Layer）</p>
<p>会话层管理主机之间的会话进程，即负责建立、管理、终止进程之间的会话。会话层还利用在数据中插入校验点来实现数据的同步。</p>
<p>会话层协议的代表包括：NetBIOS、ZIP（AppleTalk 区域信息协议）等。</p>
<p>6）表示层（Presentation Layer）</p>
<p>表示层对上层数据或信息进行变换以保证一个主机应用层信息可以被另一个主机的应用程序理解。表示层的数据转换包括数据的加密、压缩、格式转换等。表示层协议的代表包括：ASCII、ASN.1、JPEG、MPEG 等。</p>
<p>7）应用层（Application Layer）</p>
<p>应用层为操作系统或网络应用程序提供访问网络服务的接口。</p>
<p>应用层协议的代表包括：Telnet、FTP、HTTP、SNMP 等。</p>
</li>
</ol>
<h3 id="1-2-3-TCP-IP-层次"><a href="#1-2-3-TCP-IP-层次" class="headerlink" title="1.2.3 TCP/IP 层次"></a>1.2.3 TCP/IP 层次</h3><p>TCP/IP 是四层的体系结构：应用层、传输层、网络层和网络接口层。</p>
<p><img src="/images/image-20210811131826577.png" srcset="/img/loading.gif" lazyload alt="image-20210811131826577"></p>
<ol>
<li><p>应用层</p>
<p>应用层是经常接触使用的部分，比如常用的 http 协议、ftp 协议（文件传输协议）、snmp（网络管理协议）、telnet （远程登录协议 ）、smtp（简单邮件传输协议）、dns（域名解析），这次主要是面向用户的交互的。这里的应用层集成了 osi 分层模型中 的应用、会话、表示层三层的功能。</p>
</li>
<li><p>传输层</p>
<p>传输层的作用就是将应用层的数据进行传输转运。比如我们常说的 TCP（可靠的传输控制协议）、UDP（用户数据报协议）。传输单位为报文段。</p>
<p>TCP（Transmission Control Protocol）面向连接（先要和对方确定连接、传输结束需要断开连接，类似打电话）、复杂可靠的、有很好的重传和查错机制。一般用于高速、可靠的通信服务。UDP（user datagram protocol）面向无连接（无需确认对方是否存在，类似寄包裹）、简单高效、没有重传机制。一般用于即时通讯、广播通信等。</p>
</li>
<li><p>网络层</p>
<p>网络层用来处理网络中流动的数据包，数据包为最小的传递单位，比如我们常用的 IP 协议、ICMP 协议、ARP 协议（通过分析 IP 地址得出物理 MAC 地址）。</p>
</li>
<li><p>数据链路层</p>
<p>数据链路层一般用来处理连接硬件的部分，包括控制网卡、硬件相关的设备驱动等。传输单位数据帧。</p>
</li>
<li><p>物理层</p>
<p>物理层一般为负责数据传输的硬件，比如我们了解的双绞线电缆、无线、光纤等。比特流光电等信号发送接收数据。</p>
</li>
</ol>
<h3 id="1-2-4-两种模型的比较"><a href="#1-2-4-两种模型的比较" class="headerlink" title="1.2.4 两种模型的比较"></a>1.2.4 两种模型的比较</h3><ol>
<li><p>层次模型之间的对比</p>
<p><img src="/images/image-20210811132207417.png" srcset="/img/loading.gif" lazyload alt="image-20210811132207417"></p>
</li>
<li><p>OSI 参考模型和 TCP/IP 参考模型之共同点</p>
<p>都是基于独立的协议栈的概念；</p>
<p>它们的功能大体相似，在两个模型中，传输层及以上的各层都是为了通信的进程提供点到点、与网络无关的传输服务；</p>
<p>OSI 参考模型与 TCP/IP 参考模型传输层以上的层都以应用为主导。</p>
</li>
<li><p>OSI 参考模型与 TCP/IP 参考模型的主要差别</p>
<p>TCP/IP 一开始就考虑到多种异构网的互联问题，并将网际协议 IP 作为 TCP/IP 的重要组成部门。但 ISO 最初只考虑到使用一种标准的公用数据网将各种不同的系统互联在一起。</p>
<p>TCP/IP一开始就对面向连接和无连接并重，而OSI在开始时只强调面向连接服务。</p>
<p>TCP/IP 有较好的网络管理功能，而 OSI 到后来才开始这个问题，在这方面两者有所不同。</p>
</li>
</ol>
<h3 id="1-2-5-实体、协议、服务"><a href="#1-2-5-实体、协议、服务" class="headerlink" title="1.2.5 实体、协议、服务"></a>1.2.5 实体、协议、服务</h3><p>协议—- 是控制两个对等实体进行通信的规则的集合。</p>
<p>实体（entity）—- 用以表示任何可发送或接收信息的硬件或软件进程。</p>
<p>对等层 —- 任何两个结点在同层次（例如在两个系统的第 4 层）间通信，好像将数据（即数据单元加上控制信息）直接传递给对方，即所谓的“对等层”之间通信。各层协议实际上就是在各个对等层之间传递数据时的各项规定。</p>
<p>服务原语 —-上层使用下层提供的服务必须通过与下层交换一些命令，这些命令在 OSI 中称为服务原语。</p>
<p>服务访问点（SAP）—- 是同一系统中相邻两层的实体进行交互（交换信息）的一个逻辑接口。</p>
<p>PDU —- 协议数据单元，在对等层之间传送的数据单位。</p>
<p>SDU —- 服务数据单元，层与层之间交换的数据的单位。</p>
<p>服务：在协议的控制下，两个对等实体间的通信使得本层能够向上一层提供服务。</p>
<h1 id="2-物理层"><a href="#2-物理层" class="headerlink" title="2. 物理层"></a>2. 物理层</h1><h2 id="2-1-通信基础"><a href="#2-1-通信基础" class="headerlink" title="2.1 通信基础"></a>2.1 通信基础</h2><h3 id="2-1-1-物理层功能"><a href="#2-1-1-物理层功能" class="headerlink" title="2.1.1 物理层功能"></a>2.1.1 物理层功能</h3><ol>
<li><p>机械特性</p>
<p>指明接口所用接线器的形状和尺寸、引线数目和排列、固定和锁定装置等等。</p>
</li>
<li><p>电气特性</p>
<p>指明在接口电缆的各条线上出现的电压的范围。</p>
</li>
<li><p>功能特性</p>
<p>指明某条线上出现的某一电平的电压表示何种意义。</p>
</li>
<li><p>过程特性</p>
<p>指明对于不同功能的各种可能事件的出现顺序。</p>
</li>
</ol>
<h3 id="2-1-2-计算机通信"><a href="#2-1-2-计算机通信" class="headerlink" title="2.1.2 计算机通信"></a>2.1.2 计算机通信</h3><p><img src="/images/image-20210811132816378.png" srcset="/img/loading.gif" lazyload alt="image-20210811132816378"></p>
<p>信道: 是指信息传输的通道。信号必须通过信道才能传输出去。常见的信道有有线信道和无线信道两种。</p>
<p>数据（data）：运送消息的实体。</p>
<p>信号（signal）：数据的电气的或电磁的表现。</p>
<p>码元（code）：在使用时间域的波形表示数字信号时，代表不同离散数值的基本波形。</p>
<h3 id="2-1-3-通信方式"><a href="#2-1-3-通信方式" class="headerlink" title="2.1.3 通信方式"></a>2.1.3 通信方式</h3><ol>
<li><p>信号编码</p>
<p>把二进制代码转化为计算机信号的过程，称为编码技术。</p>
<p>常见的编码技术有：单极性码、极性码、双极性码、归零码、不归零码、双相码、曼彻斯特码、差分曼彻斯特码等。常见的编码技术是：曼彻斯特码和差分曼彻斯特码编码。</p>
<p><img src="/images/image-20210811133133941.png" srcset="/img/loading.gif" lazyload alt="image-20210811133133941"></p>
<p>1）曼彻斯特编码</p>
<p>曼彻斯特编码，也叫做相位编码，是一个同步时钟编码技术，被物理层使用来编码一个同步位流的时钟和数据。曼彻斯特编码，常用于局域网传输。曼彻斯特编码把每一个码元都被调成两个电平，即把一个周期分成前半周期和后半周期。</p>
<p>传输数据 0：前半周期是正电压，后半周期是负电压。</p>
<p>传输数据 1：前半周期是负电压，后半周期是正电压。</p>
<p>所以曼彻斯特编码具有自同步能力和良好的抗干扰性能。</p>
<p>2）差分曼彻斯特编码</p>
<p>差分曼彻斯特编码和曼彻斯特编码功能类似，但是不同之处在于差分曼彻斯特编码主要是在传输周期结束后，电压是否发生变化来确定传输的数据是 0 还是 1。</p>
<p>传输数据 0：周期结束后，电压发生变化，后半周期电压变化。</p>
<p>传输数据 1：周期结束后，电压不发生变化，后半周期电压变化。</p>
<p>两种常见编码： </p>
<p><img src="/images/image-20210811133348975.png" srcset="/img/loading.gif" lazyload alt="image-20210811133348975"></p>
</li>
<li><p>编码转化</p>
<p>1）数字信号-基带传输</p>
<p>数字信号指自变量是离散的、因变量也是离散的信号，这种信号的自变量用整数表示，因变量用有限数字中的一个数字来表示（曼彻斯特编码或差分曼彻斯特编码）。</p>
<p>数字信号特点：信号准确、抗干扰能力强、便于加密处理、便于存储和交换、便于构成综合数字网和综合业务数字网、占用信道频带较宽。</p>
<p>2）模拟信号-频带传输</p>
<p>模拟信号是指信号是连续的，是用波形模拟随着信息的变化而变化，模拟信号其特点是幅度连续（心电图、声波等）。</p>
<p>3）信号的调整</p>
<ul>
<li><p>调幅（AM）</p>
<p>载波的振幅随基带数字信号而变化</p>
</li>
<li><p>调频（FM）</p>
<p>载波的频率随基带数字信号而变化</p>
</li>
<li><p>调相（PM）</p>
<p>载波的初始相位随基带数字信号而变化</p>
<p><img src="/images/image-20210811133704905.png" srcset="/img/loading.gif" lazyload alt="image-20210811133704905"></p>
<p>码元传输的速度越高，或信号传输的距离远，或噪声干扰越大，或传输媒体质量越差，在接收端的波形失真就越严重。</p>
<p><img src="/images/image-20210811133800952.png" srcset="/img/loading.gif" lazyload alt="image-20210811133800952"></p>
</li>
</ul>
</li>
<li><p>通信方式</p>
<p>1）单向通信（单工通信）</p>
<p>只能有一个方向的通信而没有反方向的交互。</p>
<p>2）双向交替通信（半双工通信）</p>
<p>通信的双方都可以发送信息，但不能双方同时发送（当然也就不能同时接收）。</p>
<p>3）双向同时通信（全双工通信）</p>
<p>通信的双方可以同时发送和接收信息。</p>
</li>
</ol>
<h3 id="2-1-4-信号传输"><a href="#2-1-4-信号传输" class="headerlink" title="2.1.4 信号传输"></a>2.1.4 信号传输</h3><ol>
<li><p>信息传输的概念</p>
<p>1）码元 (携带的比特数)</p>
<p>码元：在数字通信中常常用时间间隔相同的符号来表示数字。这样的时间间隔内的信号称为码元，这个间隔称为码元长度。</p>
<p>2）比特率（bit rate）</p>
<p>比特率每秒钟传输数据的位数，即 bit/s，或写成位每秒。基本上用于表示网络传输速度，有时候也可以写成 bps（参照第一节的计算机网络性能指标）。</p>
<p>3）波特率（baud rate）</p>
<p>“波特率”是指每秒传输的码元数，单位为波特，说明单位时间传输了多少个码元。<strong>若每个码元所含的信息量为 1 比特，则波特率等于比特率</strong>。所以波特率通常单位是 bit/s，也就是二进制位/秒。</p>
<p>例 1：3600 的波特率的信道，理论上每秒可以传输 3600/8 个字节的数据，也就是450 个字节。</p>
<p>例 2：如果在数字传输过程中，0V、2V、4V 和 6V 分别表示 00、01、10 和 11，那么每个码元有四种状态 00、01、10 和 11。每个码元代表两个二进制数字。此时的每秒码元数是每秒二进制代码数是一半的，这叫四相调制，波特率等于比特率一半。</p>
</li>
<li><p>奈奎斯特定理</p>
<p>1）基本概念</p>
<p>美国电信工程师奈奎斯特推导出了著名的奈氏准则。他给出了在假定的理想条件下，为了避免码间串扰，码元的传输速率的上限值。该定理说明采样频率与信号频谱之间的关系，是连续信号离散化的基本依据。</p>
<p>在任何信道中，码元传输的速率是有上限的，否则就会出现码间串扰的问题，使接收端对码元的判决（即识别）成为不可能。</p>
<p>如果信道的频带越宽，也就是能够通过的信号高频分量越多，那么就可以用更高的速率传送码元而不出现码间串扰。</p>
<p>2）定理内容</p>
<p>对于一个带宽为 W 赫兹的理想信道，其最大码元（信号）速率为 2W 波特。这一限制是由于存在码间干扰。如果被传输的信号包含了 M 个状态值（信号的状态数是 M），那么 W 赫兹信道所能承载的最大数据传输速率（信道容量）是：</p>
<p><img src="/images/image-20210811135132821.png" srcset="/img/loading.gif" lazyload alt="image-20210811135132821"></p>
</li>
<li><p>信噪比</p>
<p>1）信号衰减</p>
<p>信号的传输的波形，在信号的传输过程中受到（带宽、噪声、干扰、距离、磁场、电场）等影响，会使得当前的计算机信号出现与原始信号不一样的情况，这样成为信号的衰减，信号衰减比较小时信号可以还原，信号衰减比较大时则信号不能还原。</p>
<p>码元传输的速度越高，或信号传输的距离远，或噪声干扰越大，或传输媒体质量越差，在接收端的波形失真就越严重。</p>
<p>2）噪音</p>
<p>噪声是指信息经过该设备后产生的原信号中并不存在的无规则的额外信号（或信息），并且该种信号并不随原信号的变化而变化。</p>
<p>噪声是无规律的。</p>
<p>3）信噪比</p>
<p>信息传输过程中，信号的平均功率和噪声的平均功率的比，常用 S/N，分贝（dB）是度量单位。</p>
<p>信噪比（dB）=  10lg(S/N)</p>
<p>S 表示信息的功率</p>
<p>N 表示噪音的功率</p>
<p>信噪比越大，说明当前计算机网络性能越优越。</p>
<p>4）<strong>香农定理</strong></p>
<ul>
<li><p>香农定理</p>
<p>1948 年，信息论的创始人香农得出的香农公式。</p>
<p>目的是为了计算出当前信道带宽和信噪比一定的情况下，信道传输数据的极限值。</p>
<p>香农（Shannon）用信息论的理论推导出了带宽受限且有高斯白噪声干扰的信道的极限、无差错的信息传输速率。</p>
<p>信道的极限信息传输速率 C 可表达为：</p>
<p><img src="/images/image-20210811140015628.png" srcset="/img/loading.gif" lazyload alt="image-20210811140015628"></p>
<p>W 为信道的带宽（以 Hz 为单位）</p>
<p>S 为信道内所传信号的平均功率</p>
<p>N 为信道内部的高斯噪声功率。</p>
</li>
<li><p>信道速度和噪音关系</p>
<p>信道的带宽或信道中的信噪比越大，则信息的极限传输速率就越高。</p>
<p>若信道带宽 W 或信噪比 S/N 没有上限，则信道的极限信息传输速率 C 也就没有上限。</p>
<p>实际信道上能够达到的信息传输速率要比香农的极限传输速率低不少。</p>
</li>
</ul>
</li>
</ol>
<h3 id="2-1-5-信道的复用技术"><a href="#2-1-5-信道的复用技术" class="headerlink" title="2.1.5 信道的复用技术"></a>2.1.5 信道的复用技术</h3><ol>
<li><p>信号频段</p>
<p>电信领域使用的电磁波的频谱。</p>
<p><img src="/images/image-20210811140311854.png" srcset="/img/loading.gif" lazyload alt="image-20210811140311854"></p>
<p>频分复用的所有用户在同样的时间占用不同的带宽资源（请注意，这里的“带宽”是频率带宽而不是数据的发送速率）。</p>
</li>
<li><p>频分多路复用</p>
<p>频分多路复用（Frequency-division multIPlexing，FDM），是指载波带宽被划分为多种不同频带的子信道，每个子信道可以并行传送一路信号的一种多路复用技术。</p>
<p>用户在分配到一定的频带后，在通信过程中自始至终都占用这个频带。频分复用的所有用户在同样的时间占用不同的带宽资源。</p>
<p><img src="/images/image-20210811140437400.png" srcset="/img/loading.gif" lazyload alt="image-20210811140437400"></p>
<p>例如：中央电视台、河北电视台、上海卫视在同一时间内可以发送自己频段的电视节目，这样可以保证用户在相同的频段收看相同的节目，不同的频段收看不同的节目。</p>
<p>收音广播就是利用这样的一种通信方式，当然计算机网路中主要表现在光纤和电话拨号网络上。</p>
</li>
<li><p>波分多路复用</p>
<p>波分复用 WDM（Wavelength Division MultIPlexing）是将两种或多种不同波长的光载波信号（携带各种信息）在发送端经复用器（亦称合波器，MultIPlexer）汇合在一起，并耦合到光线路的同一根光纤中进行传输的技术；在接收端，经解复用器（亦称分波器或称去复用器，DemultIPlexer）将各种波长的光载波分离，然后由光接收机作进一步处理以恢复原信号。不同的信号使用不同频率的光，实际上光纤就是使用的波分多路复用技术。</p>
<p>波分复用就是光的频分复用。 </p>
<p><img src="/images/image-20210811140623886.png" srcset="/img/loading.gif" lazyload alt="image-20210811140623886"></p>
<p>小时候玩的三棱镜就是波分多路复用技术。</p>
</li>
<li><p>时分多路复用</p>
<ul>
<li><p>基本概念</p>
<p>时分多路复用（TDM）是按传输信号的时间进行分割的，它使不同的信号在不同的时间内传送，将整个传输时间分为许多时间间隔（Time Slot，TS，又称为时隙），每个时间片被一路信号占用。TDM 就是通过在时间上交叉发送每一路信号的一部分来实现一条电路传送多路信号的。</p>
<p>例如中央电视台在进行节目播放的时候，19：00 到 19：30 分的时候播放《新闻联播》，19：30 到 19：35 播放《天气预报》，19：35 到 20：00 分的时候播放《焦点访谈》。</p>
<p>计算机网络上不同的用户可以在不同的时间上传输不同的数据，网络通信信道归不同的计算机终端使用。</p>
<p>TDM 帧是周期性出现，这样用户就可以周期性的使用当前的计算机网络传输数据。</p>
</li>
<li><p>特点</p>
<p>每一个用户所占用的时隙是周期性地出现（其周期就是 TDM 帧的长度）。</p>
<p><img src="/images/image-20210811140857926.png" srcset="/img/loading.gif" lazyload alt="image-20210811140857926"></p>
<p>TDM 信号也称为等时（isochronous）信号。</p>
<p>时分复用的所有用户是在不同的时间占用同样的频带宽度。</p>
<p>时分复用可能会造成线路资源的浪费，使用时分复用系统传送计算机数据时，由于计算机数据的突发性质，用户对分配到的子信道的利用率一般是不高的。</p>
</li>
</ul>
</li>
<li><p>统计时分多路复用</p>
<p>统计时分多路复用（statistical time division multIPlexing，STDM）是指动态地按需分配共用信道的时隙，只将需要传送数据的终端接入共用信道，以提高信道利用率的多路复用技术，简称 STDM。也称异步时分多路复用。</p>
<p>在进行数据传输时，可以先统计下一时刻需要发送数据的用户数量，这样可以把当前的一个 TDM 周期分割成等时的积分，分给不同的用户使用，在不同的周期分割的时间不同，这样不同的用户就可以在不同的周期占用信道的时间就会有不同。</p>
<p>这样可以有效的避免当前用户在进行数据传输过程中占用时隙不发送数据的情况。</p>
</li>
<li><p>码分多路复用</p>
<p>1）基本概念</p>
<p>码分多路复用 CDM 又称码分多址（Code Division MultIPle Access，CDMA），CDM 与 FDM（频分多路复用）和 TDM（时分多路复用）不同，它<strong>既共享信道的频率，也共享时间</strong>，是一种真正的动态复用技术。</p>
<p>原理是每比特时间被分成 m 个更短的时间槽，称为码片（ChIP），通常情况下每比特有 64 或 128 个码片.每个站点（通道）被指定一个唯一的 m 位的代码或码片序列。当发送 1 时站点就发送码片序列，发送 0 时就发送码片序列的反码。当两个或多个站点同时发送时，各路数据在信道中被线形相加。为了从信道中分离出各路信号，要求各个站点的码片序列是相互正交的。</p>
<p>即假如用 S 和 T 分别表示两个不同的码片序列，用!S 和!T 表示各自码片序列的反码，那么应该有 S·T=0，S·!T=0，S·S=1，S·!S=-1。当某个站点想要接收站点 X发送的数据时，首先必须知道 X 的码片序列（设为 S）；假如从信道中收到的和矢量为 P，那么通过计算 S·P 的值就可以提取出 X 发送的数据：S·P=0 说明 X 没有发送数据；S·P=1 说明 X 发送了 1；S·P=-1 说明 X 发送了 0。</p>
<p>2）优缺点</p>
<p>码分多路复用通信系统抗窄频带干扰能力强，保密性强，各路的连接、变换较灵活，但电路较复杂并需有精度高的同步系统。因此尚未得到广泛应用。</p>
<p>3）例题 (记住)</p>
<p><img src="/images/image-20210811141605461.png" srcset="/img/loading.gif" lazyload alt="image-20210811141605461"></p>
</li>
</ol>
<h2 id="2-2-传输介质"><a href="#2-2-传输介质" class="headerlink" title="2.2 传输介质"></a>2.2 传输介质</h2><h3 id="2-2-1-同轴电缆"><a href="#2-2-1-同轴电缆" class="headerlink" title="2.2.1 同轴电缆"></a>2.2.1 同轴电缆</h3><ol>
<li><p>概述</p>
<p>同轴电缆（50Ω 同轴电缆 75Ω 同轴电缆）</p>
<p>同轴电缆也是局域网中最常见的传输介质之一。</p>
<p><img src="/images/image-20210811144142365.png" srcset="/img/loading.gif" lazyload alt="image-20210811144142365"></p>
</li>
<li><p>分类</p>
<p>1）细缆</p>
<p>直径为 0.26 厘米，最大传输距离 185 米，使用时与 50Ω终端电阻、T 型连接器。网络最大的干线长度：大于 185 米，小于 925 米。</p>
<p>2）粗缆</p>
<p>直径为 1.27 厘米，最大传输距离达到 500 米。网络干线电缆长度：大于 500 米，小于 2500 米。</p>
</li>
</ol>
<h3 id="2-2-2-双绞线"><a href="#2-2-2-双绞线" class="headerlink" title="2.2.2 双绞线"></a>2.2.2 双绞线</h3><ol>
<li><p>概述</p>
<p>双绞线（twisted pair，TP）是一种综合布线工程中最常用的传输介质，是由两根具有绝缘保护层的铜导线组成的。把两根绝缘的铜导线按一定密度互相绞在一起，每一根导线在传输中辐射出来的电波会被另一根线上发出的电波抵消，有效降低信号干扰的程度。</p>
</li>
<li><p>分类</p>
<p>屏蔽双绞线 STP 无屏蔽双绞线 UTP</p>
<p><img src="/images/image-20210811144520662.png" srcset="/img/loading.gif" lazyload alt="image-20210811144520662"></p>
</li>
<li><p>非屏蔽双绞线电缆具有以下优点：</p>
<p>无屏蔽外套，直径小，节省所占用的空间，成本低；</p>
<p>重量轻，易弯曲，易安装；</p>
<p>将串扰减至最小或加以消除；</p>
<p>具有阻燃性；</p>
<p>具有独立性和灵活性，适用于结构化综合布线。</p>
<p>既可以传输模拟数据也可以传输数字数据。</p>
</li>
<li><p>国际标准线序</p>
<p>EIA/TIA 568A：绿白、绿、橙白、蓝、蓝白、橙、棕白、棕。</p>
<p>EIA/TIA 568B：橙白、橙、绿白、蓝、蓝白、绿、棕白、棕。</p>
</li>
<li><p>国际标准</p>
<p>100BASE-T4RJ-45 对双绞线的规定如下：</p>
<p>1、2 用于发送，3、6 用于接收，4、5 用于语音，7、8 是双向线。</p>
<p>传输距离是 100m。</p>
</li>
</ol>
<h3 id="2-2-3-光纤"><a href="#2-2-3-光纤" class="headerlink" title="2.2.3 光纤"></a>2.2.3 光纤</h3><ol>
<li><p>概述</p>
<p>是一种由玻璃或塑料制成的纤维。</p>
<p><img src="/images/image-20210811144802021.png" srcset="/img/loading.gif" lazyload alt="image-20210811144802021"></p>
</li>
<li><p>分类</p>
<p>1）单模光纤</p>
<p>只能传输一个传播模式的光纤。传输距离 20 公里至 120 公里。</p>
<p>2）多模光纤</p>
<p>将光纤按工作波长以其传播可能的模式为多个模式的光纤。传输距离 2 公里到 5 公里。</p>
<p><img src="/images/image-20210811144958225.png" srcset="/img/loading.gif" lazyload alt="image-20210811144958225"></p>
</li>
<li><p>优点</p>
<p>频带宽、损耗低、重量轻、抗干扰能力、强保真度高、工作性能可靠、成本不断下降。</p>
<p>传输损耗小，中继距离长，对远距离传输经济。 </p>
<p>抗雷电和电磁干扰好。在大电流脉冲干扰的环境下重要。</p>
<p>无串音干扰，保密性好，不易被窃听或截取数据。</p>
<p>体积小，重量轻。</p>
<p>缺点是光纤要连接必须用专用的设备。</p>
</li>
</ol>
<h3 id="2-2-4-传输介质比较"><a href="#2-2-4-传输介质比较" class="headerlink" title="2.2.4 传输介质比较"></a>2.2.4 传输介质比较</h3><p><img src="/images/image-20210811145233370.png" srcset="/img/loading.gif" lazyload alt="image-20210811145233370"></p>
<h3 id="2-2-5-无线传输媒体"><a href="#2-2-5-无线传输媒体" class="headerlink" title="2.2.5  无线传输媒体"></a>2.2.5  无线传输媒体</h3><p>无线传输所使用的频段很广。</p>
<p>短波通信主要是靠电离层的反射，但短波信道的通信质量较差。</p>
<p>微波在空间主要是直线传播。</p>
<p>地面微波接力通信</p>
<p>卫星通信</p>
<p>微波通信</p>
<p>微波通信可以传输电话、电报、图像、数据等信息。特点如下：</p>
<ul>
<li><p>微波波段频率很高，其频段范围也很宽，因此其通信信道的容量很大。</p>
</li>
<li><p>工业干扰和天电干扰的主要频谱成分比微波频率低的多，对微波通信危害比对短波和米波通信小的多，所以微波的传输质量更高。</p>
</li>
<li><p>与相同容量和长度的电缆载波通信比较，微波的接力通信建设投资少，见效快，易跨山区、江河。</p>
</li>
</ul>
<h2 id="2-3-传输设备及技术"><a href="#2-3-传输设备及技术" class="headerlink" title="2.3 传输设备及技术"></a>2.3 传输设备及技术</h2><h3 id="2-3-1-中继器（Repeater）"><a href="#2-3-1-中继器（Repeater）" class="headerlink" title="2.3.1 中继器（Repeater）"></a>2.3.1 中继器（Repeater）</h3><p><img src="/images/image-20210811145531231.png" srcset="/img/loading.gif" lazyload alt="image-20210811145531231"></p>
<p>由于传输线路噪音的影响，承载信息的数字信号或模拟信号只能传输有限的距离。在线路中间插入放大器的办法是不可取的，因为伴随信号的噪音也被放大了。在这种情况下用中继器连接两个网络可以延长信号传输的距离。<strong>中继器的功能是对接收信号进行再生和发送</strong>。</p>
<p>中继器不解释也不改变接收到的数字信息，它只是从接收信号中分离出数字数据。存储起来，然后重新构造它并转发出去。再生的信号与接收信号完全相同并可以沿着另外的网络段传输到远端。</p>
<p><strong>中继器是局域网互连的最简单设备，它工作在 OSI 体系结构的物理层</strong>，它接收并识别网络信号，然后再生信号并将其发送到网络的其他分支上。</p>
<p><strong>集线器是有多个端口的中继器。简称 HUB</strong>。</p>
<p>HUB 集线器就是一种共享设备，HUB 本身不能识别目的地址。这种方式就是共享网络带宽。</p>
<h3 id="2-3-2-集线器"><a href="#2-3-2-集线器" class="headerlink" title="2.3.2 集线器"></a>2.3.2 集线器</h3><p><img src="/images/image-20210811145749311.png" srcset="/img/loading.gif" lazyload alt="image-20210811145749311"></p>
<ol>
<li><p>基本概述</p>
<p>集线器（hub）属于纯硬件网络底层设备。它也不具备 MAC 地址表，所以它发送数据时都是没有针对性的，而是采用广播方式发送。</p>
<p>集线器为主要网络设别的网络被称为共享式以太网，当网络中的主机数量过多的时候，就会在网络生成广播风暴。</p>
<p><strong>集线器工作于 OSI/RM 参考模型的物理层和数据链路层的 MAC（介质访问控制）子层</strong>。</p>
<p>10M集线器在物理层有4 个标准接口可用，那就是：10BASE-5、10BASE-2、10BASE-T、10BASE-F。10M 集线器的 10BASE-5（AUI）端口用来连接层 1 和层 2。</p>
<p>集线器采用了 CSMA/CD（载波帧听多路访问/冲突检测）协议，CSMA/CD 为 MAC 层协议，所以集线器也含有数据链路层的内容。</p>
<p>每一个集线器可以形成一个碰撞域（广播域） </p>
</li>
<li><p>集线器特点</p>
<p>集线器是使用电子器件来模拟实际电缆线的工作，整个系统仍然像传统的以太网那样运行。</p>
<p>使用集线器的以太网在逻辑上是一个总线网，还使用 CSMA/CD 协议，并共享逻辑上的总线。</p>
<p>集线器很像一个多接口的转发器，工作在物理层。</p>
</li>
</ol>
<h3 id="2-3-3-ADSL"><a href="#2-3-3-ADSL" class="headerlink" title="2.3.3 ADSL"></a>2.3.3 ADSL</h3><ol>
<li><p>ADSL 技术</p>
<p>1）ADSL （Asymmetric Digital Subscriber Line）：非对称数字用户线</p>
<p>ADSL 技术就是用数字技术对现有的模拟电话用户线进行改造，使它能够承载宽带业务。</p>
<p>标准模拟电话信号的频带被限制在 300~3400 Hz 的范围内，但用户线本身实际可通过的信号频率仍然超过 1 MHz。</p>
<p>ADSL 技术就把 0~4 kHz 低端频谱留给传统电话使用，而把原来没有被利用的高端频谱留给用户上网使用。</p>
<p>DSL 就是数字用户线（Digital Subscriber Line）的缩写。</p>
<p>2）ADSL 的特点</p>
<p>上行和下行带宽做成不对称的。</p>
<p>上行指从用户到 ISP，而下行指从 ISP 到用户。</p>
<p>ADSL 在用户线（铜线）的两端各安装一个 ADSL 调制解调器。</p>
<p>我国目前采用的方案是离散多音调 DMT （Discrete Multi-Tone）调制技术。这里的“多音调”就是“多载波”或“多子信道”的意思。</p>
<p>3）ADSL 的数据率</p>
<p>由于用户线的具体条件往往相差很大（距离、线径、受到相邻用户线的干扰程度等都不同），因此 ADSL 采用自适应调制技术使用户线能够传送尽可能高的数据率。</p>
<p>通常下行数据率在 32 kb/s 到 6.4 Mb/s 之间，而上行数据率在 32 kb/s 到 640 kb/s 之间。</p>
</li>
</ol>
<h3 id="2-3-4-HFC"><a href="#2-3-4-HFC" class="headerlink" title="2.3.4 HFC"></a>2.3.4 HFC</h3><p>光纤同轴混合网 HFC （Hybrid Fiber Coax）</p>
<p>HFC 网是在目前覆盖面很广的有线电视网 CATV 的基础上开发的一种居民宽带接入网。</p>
<p>HFC 网除可传送 CATV 外，还提供电话、数据和其他宽带交互型业务。</p>
<p>现有的 CATV 网是树形拓扑结构的同轴电缆网络，它采用模拟技术的频分复用对电视节目进行单向传输。而 HFC 网则需要对 CATV 网进行改造</p>
<ol>
<li><p>HFC 的主要特点</p>
<p>1）HFC 网的主干线路采用光纤</p>
<p>HFC 网将原 CATV 网中的同轴电缆主干部分改换为光纤，并使用模拟光纤技术。在光纤结点以下就是同轴电缆。</p>
<p>2）HFC 网采用结点体系结构</p>
<p><img src="/images/image-20210811150527928.png" srcset="/img/loading.gif" lazyload alt="image-20210811150527928"></p>
<p>3）HFC 网具有比 CATV 网更宽的频谱，且具有双向传输功能</p>
<p><img src="/images/image-20210811150558663.png" srcset="/img/loading.gif" lazyload alt="image-20210811150558663"></p>
<p>4）每个家庭要安装一个用户接口盒</p>
<p>用户接口盒 UIB （User Interface Box）要提供三种连接，即：</p>
<ul>
<li><p>使用同轴电缆连接到机顶盒（set-top box），然后再连接到用户的电视机。</p>
</li>
<li><p>使用双绞线连接到用户的电话机。</p>
</li>
<li><p>使用电缆调制解调器连接到用户的计算机。</p>
</li>
</ul>
</li>
<li><p>电缆调制解调器（cable modem）</p>
<p>电缆调制解调器是为 HFC 网而使用的调制解调器。</p>
<p>电缆调制解调器最大的特点就是传输速率高。其下行速率一般最高可达 30Mb/s，而上行速率一般最高可达 10Mb/s。</p>
<p>电缆调制解调器比在普通电话线上使用的调制解调器要复杂得多，并且不是成对使用，而是只安装在用户端。</p>
</li>
</ol>
<h3 id="2-3-5-FTTx-技术"><a href="#2-3-5-FTTx-技术" class="headerlink" title="2.3.5 FTTx 技术"></a>2.3.5 FTTx 技术</h3><p>FTTx（光纤到……）也是一种实现宽带居民接入网的方案。这里字母 x 可代表不同意思。例如：</p>
<ul>
<li>光纤到户 FTTH （Fiber To The Home）：光纤一直铺设到用户家庭可能是居民接入网最后的解决方法。</li>
<li>光纤到大楼 FTTB （Fiber To The Building）：光纤进入大楼后就转换为电信号，然后用电缆或双绞线分配到各用户。</li>
<li> 光纤到路边 FTTC （Fiber To The Curb）：从路边到各用户可使用星形结构双绞线作为传输媒体。</li>
</ul>
<h1 id="3-数据链路层"><a href="#3-数据链路层" class="headerlink" title="3. 数据链路层"></a>3. 数据链路层</h1><h2 id="3-1-数据链路层概述"><a href="#3-1-数据链路层概述" class="headerlink" title="3.1 数据链路层概述"></a>3.1 数据链路层概述</h2><h3 id="3-1-1-数据链路层功能"><a href="#3-1-1-数据链路层功能" class="headerlink" title="3.1.1 数据链路层功能"></a>3.1.1 数据链路层功能</h3><ol>
<li><p>基本概念</p>
<p>数据链路是将本质上不可靠的传输媒体变成可靠的传输通路提供给网络层。</p>
<p>链路（link）是一条无源的点到点的物理线路段，中间没有任何其他的交换结点。一条链路只是一条通路的一个组成部分。</p>
<p>数据链路（data link） 除了物理线路外，还必须有通信协议来控制这些数据的传输。若把实现这些协议的硬件和软件加到链路上，就构成了数据链路。</p>
<p>一般的适配器都包括了数据链路层和物理层这两层的功能。</p>
<p>数据链路层协议有许多种，但有三个基本问题则是共同的。这三个基本问题是：<strong>封装成帧</strong>、<strong>透明传输</strong>和<strong>差错检测</strong>。</p>
</li>
<li><p>基本功能</p>
<p>1）链路管理功能</p>
<p>主要是在数据通信前，在物理线路上进行数据链路连接的建立、拆除、分离工作。</p>
<p>2）为网络层提供服务</p>
<p>数据链路层位于物理层和网络层中间，所以数据链路层是享用物理层的服务和向网络层提供服务。物理层传输数据是不可靠的，数据链路层必须保证数据传输的可靠性和准确性。</p>
<p>3）封装成帧</p>
<p>封装成帧也就是帧的定界，是在一段数据的前后分别添加首部和尾部，然后就构成了一个帧。告知接收方帧的开始位置和结束位置，确定帧中数据的位置。在封装成帧时，不考虑帧的长短等问题。</p>
<p>4）差错检测</p>
<p>保证数据的可靠传输，则必须对数据进行相应的校验机制，保证接收到的数据是可靠的，有效的，正确的。</p>
<p>误码率：传输错误的比特占所传输比特总数的比率称为误码率。误码率与信噪比有很大的关系。误码率越大，计算机网络性能越差。</p>
<p>5）流量控制</p>
<p>控制数据发送的速度，保证发送的帧不要太长，以免造成网络拥塞或接收方不能完全接收。</p>
<p>流量控制两种方法，第一种是基于反馈的流量控制，根据接收方反馈的信息来控制发送的数据；第二种是基于速率的流量控制，加法增大和乘法减小等原则。</p>
<p><strong>常用的流量控制方法是：滑动窗口协议</strong>。</p>
<p>6）MAC 寻址</p>
<p>根据计算机网卡的物理地址，在局域网中寻找网络主机的地址，把数据发送给目标地址，一般局域网中寻址方式是 MAC 寻址，页脚物理寻址。</p>
<p>7）透明传输</p>
<p>保证帧的传输信息和控制信息不能混淆，接收方能区分正常数据和控制信息等数据，例如帧开始控制信息和结束控制信息。</p>
</li>
</ol>
<h3 id="3-1-2-数据帧"><a href="#3-1-2-数据帧" class="headerlink" title="3.1.2 数据帧"></a>3.1.2 数据帧</h3><ol>
<li><p>帧的定界</p>
<p>帧的定界是确保帧的开始位置和结束位置，保证接收方能判定在什么位置开始，扫描位置结束。</p>
<p>常见的定界方法有：使用字符填充的首尾定界符法、使用比特填充的首尾标志法、违法编码法和字节计数法。</p>
<p>1）字节计数法</p>
<p>发送方：用一个特殊字段表示帧的开始，在开始字段后添加一个帧的长度字段确认帧中传输数据的长度。</p>
<p>接收方：识别特殊的开始字段，在开始字段后读取有字段的长度字段，在接收后直接接收字段长度的字符作为数据字段存储。</p>
<p>问题：“字节计数”字段是出现错误，则影响后面接收的数据长度，则会影响整个数据的统计情况，所以必须采取措施来保证它不会出错。</p>
<p>2）特殊字符填充的首尾定界符方法</p>
<p>用一些特定的字符来定界一帧的开始和结束。</p>
<p><img src="/images/image-20210811152029116.png" srcset="/img/loading.gif" lazyload alt="image-20210811152029116"></p>
<p>开始标识：控制字符 SOH（Start Of Header）放在一帧的最前面，表示帧的开始，十六进制编码是 01（二进制是 00000001）</p>
<p>结束标识：控制字符 EOT（End Of Transnussion）放在帧的结束位置，表示帧的结束，十六进制编码是 04（二进制是 00000100）</p>
<p>当计算机接收数据的时候，遇到 00000001 则说明当前帧为开始，遇到 00000100则说明当前帧结束。</p>
<p>问题：当计算机数据传输的时候，可能出现传输的数据为 00000100，结果被计算机误认为帧的结束标识，造成数据接收的不完整，破坏数据的完整性。</p>
<p>3）特殊比特填充的首尾标志方法</p>
<p>在 ppp 协议中，多采用特定的比特模式（如 01111110）来标志一帧的开头和结束。</p>
<p>问题：数据中传输的数据包含 01111110 数据时，被误认为结束的标识，也会造成数据的丢失。</p>
<p>4）违例编码法</p>
<p>在物理层传输数据的时候，0 和 1 用不同的电压表示，曼彻斯特和差分曼彻斯特编码都是半周期变化电压（一个周期内存在高低电压的变化）。如果出现一个周期电压不是高低变化，则说明当前代码是不合标准的。</p>
<p>可以借用这些违例编码的序列来定界帧的开始和结束。</p>
</li>
<li><p>帧透明传输</p>
<p>为解决帧中传输的数据和帧的定界冲突的问题，让计算机能识别计算机传输的数据编码和定界编码有一定的区别，这成为帧的透明传输。</p>
<p>1）转义字符填充法</p>
<p><img src="/images/image-20210811152421692.png" srcset="/img/loading.gif" lazyload alt="image-20210811152421692"></p>
<p>发送方：除第一个开始字符“SOH”和结束字符“EOT”外，当传输的数据中有和在控制字符“SOH”、“EOT” “ESC”相同的信息的时候，则先前添加转义字符“ESC”。</p>
<p>其中“SOH”的二进制代码 0000 0001、“EOT”的二进制代码 0000 0100、“ESC” 的二进制代码 0010 1011。</p>
<p>接收方：接收信息的时候，出现转义字符“ESC”时，先去掉前面的转义字符“ESC”，这样就可以保证接收的有效性。如果接收的字符为“EOT”前面没有转义字符“ESC”时，说明当前数据结束。</p>
<p><img src="/images/image-20210811152527302.png" srcset="/img/loading.gif" lazyload alt="image-20210811152527302"></p>
<p>ESC 的二进制代码是：00011101，十六进制编码是 0x1D。</p>
<p>2）“零”比特填充</p>
<p>发送端在输出数据的时候，第一个 01111110 字符说明当前为数据的开始位置，第二个 01111110 字符说明当前为数据的结束位置。</p>
<p>但传输数据和控制字段相同的时候，方法是每出现连续 5 个 1，则在后面添加一个 0，这样就可以直接和控制字段有很好的区分。接收方在接收的时候，如果连续有 5 个 1 出现，则直接去掉后面的 1 个 0。</p>
<p>例如要传输的数据中包含下面字段 011111 11111 001111 这样的数据字段。</p>
<p><img src="/images/image-20210811152655429.png" srcset="/img/loading.gif" lazyload alt="image-20210811152655429"></p>
</li>
</ol>
<h2 id="3-2-差错控制"><a href="#3-2-差错控制" class="headerlink" title="3.2 差错控制"></a>3.2 差错控制</h2><h3 id="3-2-1-出错原因"><a href="#3-2-1-出错原因" class="headerlink" title="3.2.1 出错原因"></a>3.2.1 出错原因</h3><p>在传输过程中可能会产生比特差错：1 可能会变成 0 而 0 也可能变成 1。</p>
<p>在一段时间内，传输错误的比特占所传输比特总数的比率称为误码率 BER （Bit Error Rate）。</p>
<p>误码率与信噪比有很大的关系。</p>
<p>为了保证数据传输的可靠性，在计算机网络传输数据时，必须采用各种差错检测措施。</p>
<p>通信过程中出现的差错可大致分为两类：一类是由热噪声引起的随机错误；另一类是由冲击噪声引起的突发错误。</p>
<h3 id="3-2-2-检错编码"><a href="#3-2-2-检错编码" class="headerlink" title="3.2.2 检错编码"></a>3.2.2 检错编码</h3><p>检错编码的作用是检查当前数据中出现的错误，对错误不进行处理，<strong>数据链路层就采用检错码</strong>，当检查出现错误后，数据链路层会丢弃当前的错误，不对当前的数据错误处理，并发出一个反回的控制信息，告知发送方，当前发送的数据出现错误。</p>
<p>如果数据链路层接收的帧出现错误或这帧的长度有变化，则数据链路层就直接丢弃当前接收的数据帧。</p>
<p>向后纠错：接收端发现接收的数据帧出现错误时，以某种方式通知发送端重传该数据帧，直到接收到正确的数据帧为止。</p>
<p>向前纠错：接收端不能发现接收的数据帧的错误，而能确定二进制代码中发生错误的位置，从而进行纠正，允许接收方修改数据。</p>
<ol>
<li><p>水平/垂直奇偶校验码</p>
<p>奇偶校验是最常用的检错方法。在要传输数据的后面增加一位，使得传输数据中“l”的个数成奇数（奇校验）或偶数（偶校验）。</p>
<p>接收方接收后，如果接收的数据中“l”的个数成奇数个（奇校验）或偶数个（偶校验），说明传输数据中没有出现错误。如果接收的数据中“l”的个数成偶数个（奇校验）或奇数个（偶校验），说明传输数据出现错误。</p>
<p><img src="/images/image-20210811154516990.png" srcset="/img/loading.gif" lazyload alt="image-20210811154516990"></p>
</li>
<li><p>循环冗余校验</p>
<p>循环冗余检查（CRC）是一种数据传输检错功能，对数据进行求余计算，并将得到的余数附在帧的后面，接收设备也执行类似的算法，如果进行求余的结果是 0，说明传输的数据是正确的，如果求余的结果不是 0，则说明传输数据有问题。</p>
<p>校验机制是保证数据传输的正确性和完整性。</p>
<p>FCS（Frame CheckSequence）帧检查序列位，数比规定的除数少 1 位。，是放在传输数据的后面。</p>
<p>例如：发送端发送的数据为 1101011011，发送和接收双方规定的除数为 10011（有时候说成是多项式）。</p>
<p>在发送端，先把数据划分为组，假定每组 K 个比特。现假定待传送的数据 M= 1101011011（K=10）。CRC 运算就是在数据 M 的后面添加供差错检测用的 n 位冗余码（冗余码是 FCS 编码，位数比多项式位数少 1 位），然后构成一个帧发送出去，一批发送（M+n）位。在所要发送的数据后面增加 n 位的冗余码，虽然增大了数据传输的开销，但却可以进行差错检测。当传输可能出现差错时，付出这种代价往往是很值得的。</p>
<p><img src="/images/image-20210811154853471.png" srcset="/img/loading.gif" lazyload alt="image-20210811154853471"></p>
<p>循环冗余校验 CRC 是一种检错方法。帧检验序列 FCS 是添加在数据后面的冗余码。</p>
</li>
</ol>
<h3 id="3-2-3-纠错编码"><a href="#3-2-3-纠错编码" class="headerlink" title="3.2.3 纠错编码"></a>3.2.3 纠错编码</h3><p>在传输过程中发生错误后能在j接收端自行发现或纠正的码。一般在数据传输过程中增加足够的校验位，通过校验的方法来发现传输数据的错误，并且纠正传输中的错误。</p>
<ol>
<li><p>水平垂直奇偶校验码</p>
<p>即在水平方向上进行验证，也在垂直方向上进行验证，当数据出现的时候，就可以检验出错误的所在，并且修改错误。</p>
<p>例如用水平垂直偶校验，受到数据为:</p>
<p><img src="/images/image-20210811155223691.png" srcset="/img/loading.gif" lazyload alt="image-20210811155223691"></p>
<p>利用在水平方向上 1 的个数为偶数个</p>
<p>在垂直方向上 1 的个数为偶数个</p>
<p>但经过计算发现第二行和第三列 1 的个数为奇数个，判断相应的位置上出现错误。所以可以判断出行列交叉部分出现错误。可以将错误数字 1 改为 0。</p>
</li>
<li><p>海明校验</p>
<p>海明于 1950 年提出只要增加少数几个校验位，就能检测出二位同时出错、亦能检测出一位出错并能自动恢复该出错位的正确值的有效手段。</p>
<p>原理，是在 k 个数据位之外加上 r 个校验位，从而形成一个 k+r 位的新的码字，使新的码字的码距比较均匀地拉大。把数据的每一个二进制位分配在几个不同的偶校验位的组合中，当某一位出错后，就会引起相关的几个校验位的值发生变化，这不但可以发现出错，还能指出是哪一位出错，为进一步自动纠错提供了依据。</p>
<p>求 r 校验的方法是： 2<sup>r</sup> ≥ k+r+1 </p>
<p>其中 r 是校验的位数，k 是传输数据的位数。</p>
<p>例如：要传输的数据为 1000111，求海明校验码是多少？</p>
<p>第一步：由已知条件得到 k 是 7 位，所以 2<sup>r</sup> ≥ 7+r+1 ，通过不等式得到 r 的值为4。</p>
<p>所以可以确定，要传输上述的数据，需要有增加 4 位完成校验过程。</p>
<p>校验位可以是第 2<sup>0</sup>位、 2<sup>1</sup>位、 2<sup>2</sup>位、 2<sup>3</sup>位；即传输数据的第 1、2、4、8 位是做校验位，其余的位数为数据位。那么传输数据的总位数为 7 位+4 位=11 位。</p>
<p>第二步：求校验位的数据校验：主要是做进制转化。</p>
<p><img src="/images/image-20210811155851232.png" srcset="/img/loading.gif" lazyload alt="image-20210811155851232"></p>
<p>从行方面看：</p>
<p>3 转化为二进制为 11，也可以写成 0011，即 3 所对应的一行。</p>
<p>5 转化为二进制为 101，也可以写成 0101，即 5 所对应的一行。</p>
<p>从列方面看：</p>
<p>数字 1 所对应的列里，有出现数字 1 的，说明可以用第 1 位完成校验，出现数字 0 的说明第 1 位不能完成校验。则第 1 位可以校验 3、5、7、9、11 位</p>
<p>数字 2 所对应的列里，有出现数字 1 的，说明可以用第一位完成校验，出现数字 0 的说明第一位不能完成校验。则第 2 位可以校验 3、6、7、10、11 位</p>
<p>同理第 4 为可以校验 5、6、7 位； </p>
<p>第 8 位可以校验 9、10、11 位</p>
<p>第三步：求解过程：</p>
<p>因为 1、2、4、8 位是做校验位，所以数据只能存放在 3、5、6、7、9、10、11 位上。</p>
<p><img src="/images/image-20210811160211614.png" srcset="/img/loading.gif" lazyload alt="image-20210811160211614"></p>
<p><img src="/images/image-20210811160241730.png" srcset="/img/loading.gif" lazyload alt="image-20210811160241730"></p>
<p><img src="/images/image-20210811160314369.png" srcset="/img/loading.gif" lazyload alt="image-20210811160314369"></p>
<p><img src="/images/image-20210811160343414.png" srcset="/img/loading.gif" lazyload alt="image-20210811160343414"></p>
<p><img src="/images/image-20210811160412812.png" srcset="/img/loading.gif" lazyload alt="image-20210811160412812"></p>
<p><img src="/images/image-20210811160454982.png" srcset="/img/loading.gif" lazyload alt="image-20210811160454982"></p>
<p>判断错误的过程为：</p>
<p>第 1、3、5、7、9、11 位上 1 的格式为偶数个，说明没有错误。</p>
<p>第 2、3、6、7、10、11 位上 1 的格式为奇数个，说明有错误。</p>
<p>第 4、5、6、7 位上 1 的格式为奇数个，说明有错误。</p>
<p>第 8、9、10、11 位上 1 的格式为偶数个，说明没有错误。</p>
<p>而 2 和 4 号位的奇偶性校对，于是 2+4=6，立即可确认错在 6 号位。可以对其进行修改。</p>
<p>海明校验码也是能够找出奇数个错误的编码形式，并且对错误进行修改。</p>
</li>
</ol>
<h3 id="3-2-4-可靠传输"><a href="#3-2-4-可靠传输" class="headerlink" title="3.2.4 可靠传输"></a>3.2.4 可靠传输</h3><p>循环冗余检验 CRC 差错检测技术只能做到无差错接收（accept）。</p>
<p>“无差错接收”是指：“凡是接收的帧（即不包括丢弃的帧），我们都能以非常接近于 1 的概率认为这些帧在传输过程中没有产生差错”。</p>
<p>也就是说：“凡是接收端数据链路层接收的帧都没有传输差错”（有差错的帧就丢弃而不接收）。</p>
<p>要做到“可靠传输”（即发送什么就收到什么）就必须再加上确认和重传机制。</p>
<p>帧丢失：收到【#1】-【#3】（丢失【#2】）。</p>
<p>帧重复：收到【#1】-【#2】-【#2】-【#3】（收到两个【#2】）。</p>
<p>帧失序：收到【#l】-【#3】-【#2】（后发送的帧反而先到达了接收端，这与一般数据链路层的传输概念不一样）。</p>
<p>OSI 的观点是必须把数据链路层做成是可靠传输的。因此在 CRC 检错的基础上，增加了<strong>帧编号</strong>、<strong>确认和重传机制</strong>。收到正确的帧就要向发送端发送确认。发送端在一定的期限内若没有收到对方的确认，就认为出现了差错，因而就进行重传，直到收到对方的确认为止。但现在的通信线路的质量已经大大提高了，由通信链路质量不好引起差错的概率已经大大降低。</p>
<p><strong>因特网广泛使用的数据链路层协议都不使用确认和重传机制，即不要求数据链路层向上提供可靠传输的服务（因为这要付出的代价太高，不合算）</strong>。如果在数据链路层传输数据时出现了差错并且需要进行改正，那么改正差错的任务就由上层协议（例如，传输层的 TCP 协议）来完成。这样做可以提高通信效率。</p>
<h2 id="3-3-数据链路层协议"><a href="#3-3-数据链路层协议" class="headerlink" title="3.3 数据链路层协议"></a>3.3 数据链路层协议</h2><h3 id="3-3-1-PPP（点对点）协议"><a href="#3-3-1-PPP（点对点）协议" class="headerlink" title="3.3.1 PPP（点对点）协议"></a>3.3.1 PPP（点对点）协议</h3><ol>
<li><p>PPP 协议（Point to Point Protocol）有三个组成部分</p>
<ul>
<li><p>将 IP 数据报封装到串行链路的方法。</p>
</li>
<li><p>链路控制协议 LCP （Link Control Protocol）</p>
</li>
<li><p>网络控制协议 NCP （Network Control Protocol）</p>
</li>
</ul>
</li>
<li><p>ppp 协议满足功能</p>
<p>身份验证功能</p>
<p>简单——这是首要的要求</p>
<p>封装成帧：PPP 协议必须规定特殊的字符作为帧定界符（即标志个帧的开始和结束的字符），以便使接收端从收到的比特流中能准确地找出帧的开始和结束位置。</p>
<p>透明性：PPP 协议必须保证数据传输的透明性。如果数据中碰巧出现了和帧定界符一样的比特组合时，就要采取有效的措施来解决。</p>
<p>多种网络层协议：PPP 协议必须能够在同一条物理链路上同时支持多种网络层协议（如 lP 和 IPX 等）的运行。当点对点链路所连接的是局域网或路由器时，PPP 协议必须同时支持在链路所连接的局域网或路由器上运行的各种网络层协议。</p>
<p>多种类型链路：PPP 还必能够在多种类型的链路上运行。例如，串行的（一次只发送一个比特）或并行的（一次并行地发送多个比特），同步的或异步的，低速的或高速的，电的或光的，交换的（动态的）或非交换的（静态的）点对点链路。</p>
<p>差错检测：PPP 协议必须能够对接收端收到的帧进行检测，并立即丢弃有差错的帧。若在数据链路层不进行差错检测，那么已出现差错的无用帧就还要在网络中继续向前转发，从而会白白浪费许多的网络资源</p>
<p>检测连接状态：PPP 协议必须具有种机制能够及时（不超过几分钟）自动检测出链路是否处于正常工作状态。</p>
<p>最大传送单元：PPP </p>
<p>协议必须每一种点对点的链路设置最大传输单元 MTU 的标准。对于超过 MTU 长度的帧丢弃，并返回错误。</p>
<p>网络层地址协商</p>
<p>数据压缩协商</p>
</li>
<li><p>ppp 协议不需要的功能</p>
<ul>
<li>纠错；流量控制；序号；多点线路；半双工或单工链路。</li>
</ul>
<p><strong>PPP 协议只支持全双工链路</strong>。</p>
</li>
<li><p>ppp 组成</p>
<p>PPP 既支持异步链路（无奇偶检验的 8 比特数据），也支持面向比特的同步链路。IP 数据报在 ppp 帧中就是信息部分。这个信息部分的长度受到最大传输单元 MTU 限制。</p>
<p>1）链路控制协议 LCP （Link Control Protocol）</p>
<p>用来建立、配置和测试数据链路层连接。</p>
<p>在通过点对点链接建立通信之前，每个点对点链接的端必须发出链路控制协议包。不论链路控制协议包连接接不接收它的同等连接认证，它们的包大小限制是相同的，还有相同的错误控制。</p>
<p>2）网络控制协议 NCP （Network Control Protocol）</p>
<p>网络控制协议是一组独立定义的协议，它们负责在 PPP 建立过程中协商网络层属性。例如，如果一个用户要拨号进入 Cisco 路由器，该用户的机器一般不知道要使用哪个 IP 地址，因此必须通过 NCP/IPCP 协商从 Cisco 路由器获得一个地址。然而，当在专用连接上使用 PPP 时，网络管理者分配所有的网络层属性，因此 NCP 的能力并不重要。</p>
</li>
<li><p>ppp 帧的格式</p>
<p><img src="/images/image-20210811162823323.png" srcset="/img/loading.gif" lazyload alt="image-20210811162823323"></p>
<ol>
<li>标志字段 F = 0x7E （符号“0x”表示后面的字符是用十六进制表示。十六进制的 7E 的二进制表示是 01111110）。表示帧的开始和结束的标志。</li>
<li>地址字段 A 只置为 0xFF。地址字段实际上并不起作用。</li>
<li>控制字段 C 通常置为 0x03。</li>
<li>PPP 是面向字节的，所有的 PPP 帧的长度都是整数字节。（最长的是 1500 字节）。</li>
<li>PPP 有一个 2 个字节的协议字段。<ul>
<li>当协议字段为 0x0021 时，PPP 帧的信息字段就是 IP 数据报。</li>
<li>若为 0xC021， 则信息字段是 PPP 链路控制数据。</li>
<li>若为 0x8021，则表示这是网络控制数据。</li>
</ul>
</li>
</ol>
</li>
</ol>
<h3 id="3-3-2-CSMA-CD-技术"><a href="#3-3-2-CSMA-CD-技术" class="headerlink" title="3.3.2 CSMA/CD 技术"></a>3.3.2 CSMA/CD 技术</h3><p>总线上的广播式数据通信</p>
<p><img src="/images/image-20210811163117580.png" srcset="/img/loading.gif" lazyload alt="image-20210811163117580"></p>
<p>CSMA/CD 是载波监听多点接入／碰撞检测（Carrier Sense MultIPle Access with Collision Detection）的缩写。</p>
<p>“多点接入”在总线型网络，许多计算机以多点接入的方式连接在一根总线上。协议的实质是“载波监听”和“碰撞检测”。CSMA/CD 采用 IEEE 802.3 标准。</p>
<p>它的主要目的是：提供寻址和媒体存取的控制方式，使得不同设备或网络上的节点可以在多点的网络上通信而不相互冲突。</p>
<ol>
<li><p>工作过程</p>
<p>“载波监听”就是“发送前先监听”，即每一个站在发送数据之前先要检测一下总线上是否有其他站在发送数据，如果有，则暂时不要发送数据，要等待信道变为空闲时再发送。</p>
<p>其原理简单总结为：先听后发，边发边听，冲突停发，随机延迟后重发。</p>
<ul>
<li>先听后发：首先“监听”信道，看是否有信号在传输。如果信道空闲，就立即发送。</li>
<li>边发边听：发送信息的站点在发送过程中同时监听信道，检测是否有冲突发生。</li>
<li>冲突停发：当发送数据的节点检测到冲突后，就立即停止该次数据传输。</li>
<li>随机延迟后重发：当发生冲突后，向信道发送 “干扰”信号，以确保其他节点也发现该冲突，等待一段随机时间，再尝试重新发送。</li>
</ul>
<p><strong>在使用 CSMA/CD 协议时，一个站点不可能同时进行发送和接收</strong>。所以使用CSMA/CD 协议的以太网只能进行半双工通信或单工通信，不能进行全双工通信。</p>
</li>
<li><p>CSMA/CD 优点</p>
<p>原理比较简单，技术上易实现，网络中各工作站处于平等地位 ，不需集中控制，不提供优先级控制。但在网络负载增大时，发送时间增长，发送效率急剧下降。</p>
</li>
<li><p>二进制退避算法</p>
<p>随机延迟时间</p>
<p>随机选择的时间和遇到的冲突次数有关：首先规定一个固定的周期 2t，随机的时间是固定周期的整数倍。</p>
<p>首先：定义冲突次数 n，规定 n 不能超过 10，n=Min[冲突次数，10]。</p>
<p>其次：从整数集合[0，1，2，……，2<sup>n</sup>-1 ]中随机的取出一个数 m，则随机选择的时间为 m*2t。</p>
<p>最后：当冲突次数超过 16 次后，发送失败，丢弃传输的帧，发送错误报告。</p>
<p><img src="/images/image-20210811163822233.png" srcset="/img/loading.gif" lazyload alt="image-20210811163822233"></p>
</li>
<li><p>冲突/冲突域</p>
<p>冲突：在以太网中，两个节点同时在传输介质上有数据传输，则发生了数据冲突。</p>
<p>冲突域：在同一个冲突域中的每一个节点都能收到所有被发送的帧。</p>
<p>冲突越多，网络性能越差，越影响 CSMA/CD 的通信效率。</p>
</li>
<li><p>广播/广播域</p>
<p>广播：在网络传输中，向所有连通的节点发送消息称为广播。</p>
<p>广播域：网络中能接收任何一设备发出的广播帧的所有设备的集合。</p>
<p>广播一般是 IP 地址的主机位为 1，即广播地址，<strong>广播一般在一个网段内发生</strong>。</p>
</li>
</ol>
<h2 id="3-4-数据链路层设备"><a href="#3-4-数据链路层设备" class="headerlink" title="3.4 数据链路层设备"></a>3.4 数据链路层设备</h2><h3 id="3-4-1-硬件地址"><a href="#3-4-1-硬件地址" class="headerlink" title="3.4 1 硬件地址"></a>3.4 1 硬件地址</h3><p><strong>局域网规定了一种 48 位的全球地址，每一台计算机固化在适配器 ROM 芯片中的地址。计算机用户不可以修改该地址。</strong></p>
<ol>
<li><p>MAC 层的硬件地址</p>
<p>在局域网中，硬件地址又称为物理地址，或 MAC (Media Access Control Address, 媒体访问控制地址) 地址。</p>
<p>802 标准所说的“地址”严格地讲应当是每一个站的“名字”或标识符。</p>
<p>IEEE 的注册管理机构 RA 负责向厂家分配地址字段的前三个字节（即高位 24 位）。</p>
<p><strong>地址字段中的后三个字节（即低位 24 位）由厂家自行指派，称为扩展标识符</strong>，必须保证生产出的适配器没有重复地址。</p>
<p>一个地址块可以生成 2<sup>24</sup> 个不同的地址。这种 48 位地址称为 MAC-48，它的通用名称是 EUI-48。 </p>
</li>
<li><p>MAC 帧格式</p>
<p><img src="/images/image-20210811164544823.png" srcset="/img/loading.gif" lazyload alt="image-20210811164544823"></p>
<p>目的地址字段 6 字节,</p>
<p>源地址字段 6 字节</p>
<p>类型字段 2 字节：类型字段用来标志上一层使用的是什么协议，以便把收到的MAC 帧的数据上交给上一层的这个协议。</p>
<p>数据字段 46 ~ 1500 字节：数据字段的正式名称是 MAC 客户数据字段最小长度 (64 字节− 18 字节的首部和尾部= 数据字段的最小长度)</p>
<p>FCS 字段 4 字节：当传输媒体的误码率为 1 X 10<sup>−8</sup> 时，MAC 子层可使未检测到的差错小于 1 X 10<sup>−14</sup>。当数据字段的长度小于 46 字节时，应在数据字段的后面加入整数字节的填充字段，以保证以太网的 <strong>MAC 帧长不小于 64 字节</strong>。</p>
</li>
<li><p>MAC 帧的接收</p>
<ol>
<li>正确接收</li>
</ol>
<p>适配器从网络上每收到一个 MAC 帧就首先用硬件检查 MAC 帧中的 MAC 地址。</p>
<p>如果是发往本站的帧则收下，然后再进行其他的处理。</p>
<p>否则就将此帧丢弃，不再进行其他的处理。</p>
<p>2）丢弃的帧</p>
<p>数据字段的长度与长度字段的值不一致；（网络层实现改功能）</p>
<p>帧的长度不是整数个字节；</p>
<p>用收到的帧检验序列 FCS 查出有差错；</p>
<p>数据字段的长度不在 46~1500 字节之间。（<strong>MAC 帧的首部和尾部长度共 18 字节，所以有效的 MAC 帧长度为 64 ~ 1518 字节之间</strong>）。</p>
<p>对于检查出的无效 MAC 帧就简单地丢弃。以太网不负责重传丢弃的帧。</p>
</li>
<li><p>MAC 帧的类型</p>
<p>单播（unicast）帧（一对一）：收到的帧的 MAC 地址与本站的硬件地址相同。</p>
<p>广播（broadcast）帧（一对全体）：发送给本局域网上所有站点的帧（全 1 地址）。</p>
<p>多播（multicast）帧（一对多）：发送给本局域网上一部分站点的帧。</p>
<p>所有的适配器都至少应当能够识别前两种帧，即能够识别单播和广播地址。有的适配器可用编程方法识别多播地址。当操作系统启动时，它就把适配器初始化，使适配器能够识别某些多播地址。显然，只有目的地址才能使用广播地址和多播地址。</p>
</li>
</ol>
<h3 id="3-4-2-网络适配器"><a href="#3-4-2-网络适配器" class="headerlink" title="3.4.2 网络适配器"></a>3.4.2 网络适配器</h3><ol>
<li><p>网卡的概念</p>
<p>网络接口卡 NIC（Network Interface Card）又称网络接口卡或网络适配器。</p>
<p>网卡是工作在链路层的网络组件，是局域网中连接计算机和传输介质的接口，不仅能实现与局域网传输介质之间的物理连接和电信号匹配，还涉及帧的发送与接收、帧的封装与拆封、介质访问控制、数据的编码与解码以及数据缓存的功能等。</p>
</li>
<li><p>网卡的功能</p>
<p>1）网络接口</p>
<p>计算机连接上 internet 网，必须要有接口，可以使得计算机连入网络上。</p>
<p>2）电信号匹配</p>
<p>使得信号和电压能适合网络上的编码标准，比如传输的时候能很好的完成曼彻斯特编码或差分曼彻斯特编码技术，并且完成编码的译码任务。</p>
<p>3）数据的封装与解封</p>
<p>还需要能把数据链路层要发送的封装成 MAC 帧，完成数据的寻址工作。</p>
<p>发送时将上一层交下来的数据加上首部和尾部，成为以太网的帧。接收时将以太网的帧剥去首部和尾部，然后送交上一层。</p>
<p>4）链路管理</p>
<p>主要是 CSMA/CD（Carrier Sense MultIPle Access with Collision Detection ，带冲突检测的载波监听多路访问）协议的实现。</p>
<p><img src="/images/image-20210811165456727.png" srcset="/img/loading.gif" lazyload alt="image-20210811165456727"></p>
</li>
</ol>
<h3 id="3-4-3-网桥"><a href="#3-4-3-网桥" class="headerlink" title="3.4.3 网桥"></a>3.4.3 网桥</h3><ol>
<li><p>网桥的概念</p>
<p><strong>网桥（Bridge）也叫桥接器，是连接两个相同协议的局域网设备</strong>。也可以用于连接大的局域网中相同的网段。</p>
<p><img src="/images/image-20210811175126501.png" srcset="/img/loading.gif" lazyload alt="image-20210811175126501"></p>
</li>
<li><p>网桥功能</p>
<p>网桥在数据链路层上的局域网互联设备。</p>
<p>网桥需要互连的网络在数据链路层以上采用相同的协议；</p>
<p>网桥以接收、存储、地址过滤与转发的方式实现互连的网络之间的通信；</p>
<p>网桥可以使得数据的冲突在一个子网内发生。</p>
<p>网桥能够互连两个采用不同数据链路层协议、不同传输介质与不同传输速率的网络；</p>
</li>
<li><p>网桥缺点</p>
<p>由于网桥对接收的帧要先存储和查找站表，然后转发，这就增加了时延。</p>
<p>在 MAC 子层并没有流量控制功能。当网络上负荷很重时，可能因网桥缓冲区的存储空间不够而发生溢出，以致产生帧丢失的现象。</p>
<p>具有不同 MAC 子层的网段桥接在一起时，网桥在转发一个帧之前，必须修改帧的某些字段的内容，以适合另一个 MAC 子层的要求，增加时延。</p>
<p>网桥只适合于用户数不太多（不超过几百个）和信息量不太大的局域网，否则有时会产生较大的广播风暴。</p>
</li>
</ol>
<h3 id="3-4-4-交换机"><a href="#3-4-4-交换机" class="headerlink" title="3.4.4 交换机"></a>3.4.4 交换机</h3><ol>
<li><p>局域网交换机</p>
<p>1990 年问世的交换式集线器（switching hub），可明显地提高局域网的性能。</p>
<p><strong>交换机（Switch）可以看成是多端口网桥，是一种用于电（光）信号转发的网络设备</strong>。可以为接入交换机的任意两个网络节点提供独享的电信号通路，不同的通信信道之间相互不影响通信。最常见的交换机是以太网交换机、电话语音交换机、光纤交换机等。</p>
<p>交换式集线器常称为以太网交换机（switch）或第二层交换机（表明此交换机工作在数据链路层）。</p>
</li>
<li><p>工作原理</p>
<p>交换机工作于 OSI 参考模型的数据链路层。</p>
<p>1）按端口转发数据</p>
<p>交换机本身有一个路由表，路由表中记录了交换机端口主机的 MAC 地址和端口对应信息，当交换机收到 MAC 帧后。交换机直接根据路由表的信息，MAC 地址的数据包将仅送往其对应的端口。</p>
<p>2）隔离集线器广播</p>
<p>交换机可用于划分数据链路层广播，即冲突域；但它不能划分网络层的 IP 广播地址，即广播域。</p>
<p>交换机可以有效的避免有集线器形成的广播，但是不能隔离计算机网络层的广播（广播的 IP 地址）。</p>
<p>3）端口独立性</p>
<p><strong>交换机每一端口都可视为独立的物理网段，连接在其上的网络设备独自享有全部的带宽，无须同其他设备竞争使用。</strong></p>
<p>4）传输方式</p>
<p>交换机的传输模式有全双工，半双工，全双工/半双工自适应</p>
<p>交换机的全双工是指交换机在发送数据的同时也能够接收数据，两者同步进行，这好像我们平时打电话一样，说话的同时也能够听到对方的声音。交换机都支持全双工。全双工的好处在于迟延小，速度快。</p>
<p>5）虚拟局域网（Vlan）功能</p>
<p>VLAN（Virtual Local Area Network）的中文名为”虚拟局域网”。</p>
<p>虚拟局域网（VLAN）是一组逻辑上的设备和用户，这些设备和用户并不受物理位置的限制，可以根据功能、部门及应用等因素将它们组织起来，相互之间的通信就好像它们在同一个网段中一样，由此得名虚拟局域网。</p>
</li>
</ol>
<h3 id="3-4-5-虚拟局域网"><a href="#3-4-5-虚拟局域网" class="headerlink" title="3.4.5 虚拟局域网"></a>3.4.5 虚拟局域网</h3><p>VLAN 是工作在 OSI 参考模型的第 2 层和第 3 层，一个 VLAN 就是一个广播域，VLAN 之间的通信是通过第 3 层的路由器来完成的。与传统的局域网技术相比较，VLAN 技术更加灵活，它具有以下优点</p>
<ul>
<li>网络设备的移动</li>
<li>添加和修改的管理开销减少</li>
<li>可以控制广播活动</li>
<li>可提高网络的安全性。</li>
</ul>
<p>在计算机网络中，一个二层网络可以被划分为多个不同的广播域，一个广播域对应了一个特定的用户组，默认情况下这些不同的广播域是相互隔离的。不同的广播域之间想要通信，需要通过一个或多个路由器。这样的一个广播域就称为 VLAN。</p>
<p>核心是把不同的交换机接口划分到不同的子网中，这样子网的内部广播不会影响到其他的网络计算机。</p>
<p><img src="/images/image-20210811180529042.png" srcset="/img/loading.gif" lazyload alt="image-20210811180529042"></p>
<ol>
<li><p>虚拟局域网优点</p>
<p>限制网络上的广播，将网络划分为多个 VLAN 可减少参与广播风暴的设备数量。LAN 分段可以防止广播风暴波及整个网络。</p>
<p>VLAN 可以提供建立防火墙的机制，防止交换网络的过量广播。使用 VLAN，可以将某个交换端口或用户赋于某一个特定的 VLAN 组，该 VLAN 组可以在一个交换网中或跨接多个交换机，在一个 VLAN 中的广播不会送到 VLAN 之外。同样，相邻的端口不会收到其他 VLAN 产生的广播。这样可以减少广播流量，释放带宽给用户应用，减少广播的产生。</p>
</li>
<li><p>虚拟局域网的划分策略</p>
<p>1）按端口划分 VLAN</p>
<p>许多 VLAN 厂商都利用交换机的端口来划分 VLAN 成员。被设定的端口都在同一个广播域中。例如，一个交换机的 1，2，3，4，5 端口被定义为虚拟网 AAA，同一交换机的 6，7，8 端口组成虚拟网 BBB。这样做允许各端口之间的通讯，并允许共享型网络的升级。但是，这种划分模式将虚拟网限制在了一台交换机上。</p>
<p>2）按 MAC 地址划分 VLAN</p>
<p>这种划分 VLAN 的方法是根据每个主机的 MAC 地址来划分，即对每个 MAC 地址的主机都配置它属于哪个组。这种划分 VLAN 方法的最大优点就是当用户物理位置移动时，即从一个交换机换到其他的交换机时，VLAN 不用重新配置，所以，可以认为这种根据MAC地址的划分方法是基于用户的VLAN，这种方法的缺点是初始化时，所有的用户都必须进行配置，如果有几百个甚至上千个用户的话，配置是非常累的。而且这种划分的方法也导致了交换机执行效率的降低，因为在每一个交换机的端口都可能存在很多个 VLAN 组的成员，这样就无法限制广播包了。另外，对于使用笔记本电脑的用户来说，他们的网卡可能经常更换，这样，VLAN 就必须不停地配置。</p>
<p>3）按网络层划分</p>
<p>这种划分 VLAN 的方法是根据每个主机的网络层地址或协议类型(如果支持多协议)划分的，虽然这种划分方法是根据网络地址，比如 IP 地址，但它不是路由，与网络层的路由毫无关系。</p>
<p>这种方法的优点是用户的物理位置改变了，不需要重新配置所属的 VLAN，而且可以根据协议类型来划分 VLAN，这对网络管理者来说很重要，还有，这种方法不需要附加的帧标签来识别 VLAN，这样可以减少网络的通信量。</p>
<p>这种方法的缺点是效率低，因为检查每一个数据包的网络层地址是需要消耗处理时间的(相对于前面两种方法)，一般的交换机芯片都可以自动检查网络上数据包的以太网帧头，但要让芯片能检查 IP 帧头，需要更高的技术，同时也更费时。当然，这与各个厂商的实现方法有关。</p>
<p>4）按 IP 组播划分</p>
<p>IP 组播实际上也是一种 VLAN 的定义，即认为一个组播组就是一个 VLAN，这种划分的方法将 VLAN 扩大到了广域网，因此这种方法具有更大的灵活性，而且也很容易通过路由器进行扩展，当然这种方法不适合局域网，主要是效率不高。</p>
</li>
<li><p>虚拟局域网帧的格式</p>
<p><img src="/images/image-20210811181158788.png" srcset="/img/loading.gif" lazyload alt="image-20210811181158788"></p>
<p>虚拟局域网协议允许在以太网的帧格式中插入一个 4 字节的标识符，称为 VLAN 标记（tag），用来指明发送该帧的工作站属于哪一个虚拟局域网。</p>
</li>
</ol>
<h2 id="3-5-局域网技术"><a href="#3-5-局域网技术" class="headerlink" title="3.5 局域网技术"></a>3.5 局域网技术</h2><h3 id="3-5-1-局域网概念"><a href="#3-5-1-局域网概念" class="headerlink" title="3.5.1 局域网概念"></a>3.5.1 局域网概念</h3><p>局域网（Local Area Networks，LAN）是分组广播式网络，在广播通信网络中，所有的工作站都连接到共享的传输介质上，任何站发出的数据包其他站都能接收。共享信道的分配技术是局域网的核心技术，而这一技术又与网络的拓扑结构和传输介质有关。</p>
<h3 id="3-5-2-局域网结构"><a href="#3-5-2-局域网结构" class="headerlink" title="3.5.2 局域网结构"></a>3.5.2 局域网结构</h3><ol>
<li><p>拓扑结构</p>
<p>局域网采用拓扑结构主要是：总线型、环型、星型、树形拓扑结构。</p>
<p>1）总线型拓扑结构</p>
<p>总线型拓扑结构接入计算机的数量有限，数量过多，影响网络通信速率。</p>
<p>安装简单方便，需要铺设的电缆最短，成本低。</p>
<p>某个站点的故障不会影响整个网络，但总线介质的故障会导致网络瘫痪。</p>
<p>总线网络故障不易排除，很难检测出是哪个段线路出现的故障。</p>
<p>广播式通信，总线型网络安全性低。 </p>
<p>2）环型拓扑结构</p>
<p>环型拓扑结构需要多个网络连接设备，使得网络价格增加。</p>
<p>信息以固定方向单向流动，信息传输时，不需要线路选择，速度比较块。</p>
<p>网络中各某个工作站节点出故障，可能影响整个网络的通信。</p>
<p>不便于扩充，系统响应延时长，</p>
<p>主要采用令牌来控制网络信道的使用。</p>
<p>3）星型拓扑结构</p>
<p>计算机接入简单。网络线缆重复铺设比较大。</p>
<p>星型拓扑结构的特点是很容易在网络中增加新的站点。</p>
<p>中心节点的故障会引起整个网络瘫痪。</p>
<p>故障容易排除，在局域网中使用比较多的拓扑结构。</p>
<p>4）树形拓扑结构</p>
<p>继承了星型和总线的优点。</p>
<p>网络中结点扩充方便、灵活，寻查链路路径比较简单。</p>
<p>兄弟节点要进行数据传输的时候，必须通过父节点进行转发。</p>
<p>对根节点要求比较高。</p>
</li>
</ol>
<h3 id="3-5-3-局域网协议标准"><a href="#3-5-3-局域网协议标准" class="headerlink" title="3.5.3 局域网协议标准"></a>3.5.3 局域网协议标准</h3><p>802.1X 协议是由（美）电气与电子工程师协会提出，刚刚完成标准化的一个符合IEEE802 协议集的局域网接入控制协议，全称为基于端口的访问控制协议。</p>
<ul>
<li>802.1–高层及其交互工作。提供高层标准的框架，包括端到端协议、网络互连、网络管理、路由选择、桥接和性能测量。</li>
<li>802.2–连接链路控制 LLC，提供 OSI 数据链路层的高子层功能，提供 LAN、MAC子层与高层协议间的一致接口。</li>
<li>802.3–以太网规范。定义 CSMA/CD 标准的总线介质访问控制子层和物理层规范。</li>
<li>802.4–令牌总线网。令牌总线（Token Bus）介质访问控制子层和物理层规范。</li>
<li>802.5–令牌环线网，令牌传环（Token Ring）介质访问控制子层和物理层规范。</li>
<li>802.6–城域网 MAN。城域网的介质访问控制子层和物理层规范。</li>
<li>802.7–宽带技术咨询组，为其他分委员会提供宽带网络技术的建议和咨询。</li>
<li>802.8–光纤技术咨询组，为其他分委员会提供使用有关光纤网络技术的建议和咨询。</li>
<li>802.9–综合话音/数据局域网。</li>
<li>802.10–可互操作局域网安全标准（SILS ）。定义局域网互连安全机制。</li>
<li>802.11–无线局域网。定义自由空间媒体的媒体访问控制子层和物理层规范。</li>
<li>802.12–按需优先。定义使用按需优先访问方法的 100Mpbs 的以太网标准。</li>
<li>802.14–定义了电缆调调制解调器（cable modem）标准。</li>
<li>802.15–定义了近距离个人无线网络标准。</li>
<li>802.16–定义了宽带无线局域网标准。</li>
</ul>
<p>局域网主要使用 OSI 结构的下两层进行数据的通信和传输，所以 IEEE 802 标准把数据链路层划分成了两个子层。</p>
<p>与物理介质相关的 MAC（Media Access Conrrol）介质访问控制子层。</p>
<p>与上层“网络层”服务相关的 LLC（Logical Link Control），逻辑链路控制子层。</p>
<p><img src="/images/image-20210811183157243.png" srcset="/img/loading.gif" lazyload alt="image-20210811183157243"></p>
<ol>
<li><p>逻辑链路控制子层</p>
<p>逻辑链路控制子层主要是接收上一层即网络层传输过来的数据包，参与数据包的封装。一般分为数据添加上相应的包头信息：MAC 头、LLC 头、IP 头、TCP 头等。</p>
<p>LLC 负责识别网络层协议，然后对它们进行封装/接封装。工作原理是：主机接收到帧并查看其 LLC 报头，以找到数据包的目的地（查看数据包中各种包头协议）。LLC子层也可以提供流量控制并控制比特流的排序。</p>
<p>LLC 的主要功能是：管理数据链路通信、链接寻址、定义服务接入点 Service Access Points （SAP）、排序。</p>
</li>
<li><p>介质访问控制子层</p>
<p>MAC 主要负责控制与连接物理层的物理介质。</p>
<p>在发送数据的时候，MAC 协议在发送的数据加上一些控制信息，最终将数据以及控制信息以规定的格式发送到物理层；在接收数据的时候，MAC 协议首先判断输入的信息并是否发生传输错误，如果没有错误，则去掉控制信息发送至 LLC（逻辑链路控制）层，如果有错误产生，则直接丢弃当前的数据，告知对方需要重新传输数据。</p>
</li>
</ol>
<h3 id="3-5-4-局域网特点"><a href="#3-5-4-局域网特点" class="headerlink" title="3.5.4 局域网特点"></a>3.5.4 局域网特点</h3><p>覆盖范围小，一般覆盖范围有限几米到几十千米之间。</p>
<p>传输速度块，局域网内部传输的速度可以达到几百兆到几千兆。</p>
<p>局域网主要的功能是共享，能方便地共享昂贵的外部设备、主机以及软件、数据，使得局域网建设后可以节省很多的成本。</p>
<p>接入灵活，当新的计算机或终端接入网络时，可以很好的对单个设备进行设置。</p>
<p>误码率低，局域网覆盖的范围小，所以在传输中受到的感染相比比较少，这样能很好的保证信号的准确性。</p>
<p>低延时，局域网距离有限，所以在数据传输过程中，不需要过的线路选择和线路的传输延迟。</p>
<p>结构简单，局域网内部采用很简单的拓扑结构，所以在组建和维护比较容易，故障也比较容易维护。</p>
<h3 id="3-5-5-访问控制技术"><a href="#3-5-5-访问控制技术" class="headerlink" title="3.5.5 访问控制技术"></a>3.5.5 访问控制技术</h3><ol>
<li><p>循环式</p>
<p>每个站轮流得到发送机会。如果工作站利用这个机会发送，则可能对其发送时间或发送的数据总量有一定限制，超过这个限制的数据只能在下一轮中发送。所有的站按一定的逻辑顺序传递发送权限。这种顺序控制可能是集中式的，也可能是分布式的。</p>
</li>
<li><p>预约式</p>
<p>流式通信就是长时间连续传输。预约式控制适合这种通信方式。一般来说，这种技术把传输介质的使用时间划分为时间片。</p>
</li>
<li><p>竞争式</p>
<p>这种技术并不对各个工作站的发送权限进行控制，而是由各个工作站自由竞争发送机会，更适合分布式控制。</p>
<p>竞争式分配的主要优点在于其简单性。在轻负载或中等负载下效率较高。当负载很重时，其性能很快下降。</p>
</li>
</ol>
<h3 id="3-5-6-局域网技术"><a href="#3-5-6-局域网技术" class="headerlink" title="3.5.6 局域网技术"></a>3.5.6 局域网技术</h3><p>局域网在使用通信的时候，采用多种协议进行数据的访问控制：</p>
<p><img src="/images/image-20210811183626355.png" srcset="/img/loading.gif" lazyload alt="image-20210811183626355"></p>
<ol>
<li><p>以太网</p>
<p>1）以太网标准</p>
<p>以太网（Ethernet）指的是由 Xerox 公司创建并由 Xerox、Intel 和 DEC 公司联合开发的基带局域网规范，是当今现有局域网采用的最通用的通信协议标准。</p>
<p>以太网络使用 CSMA/CD（载波监听多路访问及冲突检测）技术。</p>
<p>以太网（10Mbit/s）、快速以太网（100Mbit/s）和 10G（10Gbit/s）吉比特以太网。它们都符合 IEEE802.3。</p>
<p>2）CSMA/CD 技术</p>
<p>带冲突检测的载波侦听多路访问 （CSMA/CD）技术规定了多台电脑共享一个通道的方法。</p>
<p>3）共享式以太网</p>
<p>共享式以太网的典型代表是使用 10Base2/10Base5 的总线型网络和以集线器为核心的星型网络。在使用集线器的以太网中，集线器将很多以太网设备集中到一台中心设备上，这些设备都连接到集线器中的同一物理总线结构中。</p>
<p>4）交换式以太网</p>
<p>在交换式以太网中，交换机根据收到的数据帧中的 MAC 地址决定数据帧应发向交换机的哪个端口，交换式以太网主要使用交换机来作为中心的设备传输。</p>
<p>交换式网络：</p>
<ul>
<li>减少冲突：交换机将冲突隔绝在每一个端口（每个端口都是一个冲突域），避免了冲突的扩散。</li>
<li>提升带宽：接入交换机的每个节点都可以使用全部的带宽，而不是各个节点共享带宽。</li>
</ul>
</li>
<li><p>令牌环网（Tooken Ring）</p>
<p>令牌是一种控制网络访问的特殊帧，允许哪个的设备计算机网络发送数据。</p>
<p>在令牌环网中有一个令牌沿着环形总线在入网节点计算机间依次传递，通过令牌控制信道的使用，确保在同一时刻只有一个节点能够独占信道。</p>
<p>令牌在工作中有“闲”和“忙”两种状态。“闲”表示令牌没有被占用，即网中没有计算机在传送信息；“忙”表示令牌已被占用，即网中有信息正在传送。</p>
<p>节点计算机只有取得令牌后才能发送数据帧，因此不会发生碰撞。</p>
<p>由于令牌在网环上是按顺序依次传递的，因此对所有入网计算机而言，访问权是公平的。</p>
</li>
<li><p>令牌总线网（Tooken Bus）</p>
<p>令牌总线网的拓扑结构是总线网，在数据传输的时候是环型网。是一种在总线拓扑中利用令牌作为控制节点访问公共传输介质的访问控制方法。</p>
<p>令牌按照站点地址的序列号，从一个站点传送到另外一个站点。数据从数字的第一个站点出发，在数字序列的最后一个站点将令牌返回到第一个站点。</p>
<p>站点的数字序列和物理位置无关，不一定按照物理位置编号，站点 1 可能在一条电缆的一端，而站点 2 在这条电缆的另外一端，站点 3 却在这条电缆的中间。</p>
<p>主要的工作是利用令牌来控制网络中节点数据的发送。</p>
<p>网上只有一个令牌沿环传递，得到令牌的站才能发送数据。</p>
</li>
<li><p>光纤分布式数据接口网（FDDI）</p>
<p>FDDI 的英文全称为（Fiber Distributed Data Interface），光纤分布式数据接口网络。</p>
<p>FDDI 在网络通信中采用定时“令牌”访问方法。</p>
<p>令牌沿网络环路从一个结点向另一个结点移动，如果某结点不需要传输数据，FDDI 将获取令牌并将其发送到下一个结点中。如果处理令牌的结点需要传输，那么在指定的称为“目标令牌循环时间”（Target Token Rotation Time，TTRT）的时间内，它可以按照用户的需求来发送尽可能多的帧。因为 FDDI 采用的是定时的令牌方法，所以在给定时间中，来自多个结点的多个帧可能都在网络上，以为用户提供高容量的通信。</p>
</li>
</ol>
<h1 id="4-网络层"><a href="#4-网络层" class="headerlink" title="4. 网络层"></a>4. 网络层</h1><h2 id="4-1-网络层基本概述"><a href="#4-1-网络层基本概述" class="headerlink" title="4.1 网络层基本概述"></a>4.1 网络层基本概述</h2><h3 id="4-1-1-网络层功能"><a href="#4-1-1-网络层功能" class="headerlink" title="4.1.1 网络层功能"></a>4.1.1 网络层功能</h3><ol>
<li><p>异构网络互联</p>
<p>1）异构网络概念</p>
<p>异构网络（Heterogeneous Network）是一种类型的网络，其是由不同制造商生产的计算机，网络设备和系统组成的，大部分情况下运行在不同的协议上支持不同的功能或应用。</p>
<p>2）网络互联</p>
<p>网络互连是指将不同的网络连接起来，以构成更大规模的网络系统，实现网络间的数据通信、资源共享和协同工作。</p>
<p>3）异构网络互联</p>
<p>解决不同的网络相互之间连接在一起，通过路由器等设备进行信息的转发，使得网络用户能访问其他网络上的资源，使不同网络上的用户互相通信和交换信息。这不仅有利于资源共享，也可以从整体上提高网络的可靠性。</p>
</li>
<li><p>两种服务</p>
<p>1）面向连接服务</p>
<p>面向连接的服务（connection-oriented service）就是通信双方在通信时，要事先建立一条通信线路，其过程有建立连接、使用连接和释放连接三个过程。</p>
<p>面向连接服务其特点是：数据传输过程前必须经过建立连接、维护连接和释放连接的 3 个过程；在数据传输过程中，各分组不需要携带目的节点的地址。</p>
<p>面向连接服务的传输过程可以用电路交换，一端放入数据，另一端取出数据。面向连接数据传输的收发数据顺序不变，因此传输的可靠性好，但需通信开始前的链接开销，协议复杂，通信效率不高。</p>
<p>2）无连接服务</p>
<p>无连接服务，不要求发送方和接收方之间事先连接。发送方给每个发送的数据分组（称为数据报）添加目的地址，数据就可以沿着不同的线路进行传输，最后到达目的地。</p>
<p>无连接服务的优点是通信比较迅速，使用灵活方便，连接开销小；但可靠性低，不能防止报文的丢失，重复或失序。适合于传送少量零星的报文。</p>
</li>
<li><p>路由选择</p>
<p>路由选择是指选择通过互连网络从源节点向目的节点传输信息的通道，而且信息至少通过一个中间节点。路由器利用网络层中定义的逻辑地址来决定如何在网络通信中更有效地传输数据信息，协议定义数据传输的语法和规则。</p>
<p>目的是在复杂的网络环境下，选择一条合适的网络路径来进行网络通信。保证数据的可靠的传输。</p>
<p>路径选择功能在 OSI 参考模型的网络层实现。</p>
</li>
<li><p>最大努力交付</p>
<p>网络层传输数据时，对传输的数据不进行校验，传输的过程中分组可能出错、丢失、重复和失序（不按序到达终点），当然也不保证分组传送的时限。</p>
</li>
</ol>
<h3 id="4-1-2-网络层的服务"><a href="#4-1-2-网络层的服务" class="headerlink" title="4.1.2 网络层的服务"></a>4.1.2 网络层的服务</h3><ol>
<li><p>面向连接的通信</p>
<p>建立虚电路（Virtual Circuit），以保证双方通信所需的一切网络资源。</p>
<p>如果再使用可靠传输的网络协议，就可使所发送的分组无差错按序到达终点。</p>
<p><img src="/images/image-20210811201805068.png" srcset="/img/loading.gif" lazyload alt="image-20210811201805068"></p>
<p>虚电路和电路连接的区别：</p>
<ul>
<li>虚电路表示这只是一条逻辑上的连接，分组都沿着这条逻辑连接按照存储转发方式传送，而并不是真正建立了一条物理连接。</li>
<li>电路交换的电话通信是先建立了一条真正的连接。因此分组交换的虚连接和电路交换的连接只是类似，但并不完全一样。</li>
</ul>
</li>
<li><p>无连接的通信</p>
<p>网络层向上只提供简单灵活的、无连接的、尽最大努力交付的数据报服务。</p>
<p><img src="/images/image-20210811201928840.png" srcset="/img/loading.gif" lazyload alt="image-20210811201928840"></p>
<p>网络在发送分组时不需要先建立连接。每一个分组（即 IP 数据报）独立发送，与其前后的分组无关（不进行编号）。网络层不提供服务质量的承诺。即所传送的分组可能出错、丢失、重复和失序（不按序到达终点），当然也不保证分组传送的时限。</p>
<p>尽最大努力交付。</p>
<p>由于传输网络不提供端到端的可靠传输服务，这就使网络中的路由器可以做得比较简单，而且价格低廉（与电信网的交换机相比较）。</p>
<p>如果主机（即端系统）中的进程之间的通信需要是可靠的，那么就由网络的主机中的传输层负责（包括差错处理、流量控制等）。</p>
<p>采用这种设计思路的好处是：网络的造价大大降低，运行方式灵活，能够适应多种应用。</p>
</li>
<li><p>虚电路交换和报文交换对比</p>
<p><img src="/images/image-20210811202151306.png" srcset="/img/loading.gif" lazyload alt="image-20210811202151306"></p>
</li>
</ol>
<h3 id="4-1-3-网络层的协议"><a href="#4-1-3-网络层的协议" class="headerlink" title="4.1.3 网络层的协议"></a>4.1.3 网络层的协议</h3><ol>
<li><p>地址解析协议 ARP（Address Resolution Protocol）</p>
<p>1）基本概念</p>
<p>是<strong>根据 IP 地址获取物理地址的一个 TCP/IP 协议</strong>。主机发送信息时将包含目标 IP地址的 ARP 请求广播到网络上的所有主机，并接收返回消息，以此确定目标的物理地址；收到返回消息后将该 IP 地址和物理地址存入本机 ARP 缓存中并保留一定时间，下次请求时直接查询 ARP 缓存以节约资源。</p>
<p><img src="/images/image-20210811203103158.png" srcset="/img/loading.gif" lazyload alt="image-20210811203103158"></p>
<p>IP 地址→ARP 协议→物理地址（MAC）</p>
<p>2）ARP 高速缓存的作用</p>
<p>为了减少网络上的通信量，主机 A 在发送其 ARP 请求分组时，就将自己的 IP 地址到硬件地址的映射写入 ARP 请求分组。</p>
<p>当主机 B 收到 A 的 ARP 请求分组时，就将主机 A 的这一地址映射写入主机 B 自己的 ARP 高速缓存中。这对主机 B 以后向 A 发送数据报时就更方便了。</p>
<p>3）注意</p>
<p>ARP 是解决同一个局域网上的主机或路由器的 IP 地址和硬件地址的映射问题。</p>
<p>如果所要找的主机和源主机不在同一个局域网上，那么就要通过 ARP 找到一个位于本局域网上的某个路由器的硬件地址，然后把分组发送给这个路由器，让这个路由器把分组转发给下一个网络。剩下的工作就由下一个网络来做。</p>
<p>从 IP 地址到硬件地址的解析是自动进行的，主机的用户对这种地址解析过程是不知道的。</p>
<p>只要主机或路由器要和本网络上的另一个已知 IP 地址的主机或路由器进行通信，ARP 协议就会自动地将该 IP 地址解析为链路层所需要的硬件地址。 </p>
<p>4）ARP 报文格式</p>
<p><img src="/images/image-20210811204004837.png" srcset="/img/loading.gif" lazyload alt="image-20210811204004837"></p>
<p>协议类型：指明了发送方提供的高层协议类型，IP 为 0800（16 进制）</p>
<p>操作类型：用来表示这个报文的类型，ARP 请求为 1，ARP 响应为 2，RARP 请求为 3，RARP 响应为 4。 </p>
<p>5）ARP 命令</p>
<p>C:\Users\Administrator&gt;ARP /?</p>
<p>格式：</p>
<p>ARP -s inet_addr eth_addr [if_addr]</p>
<p>ARP -d inet_addr [if_addr]</p>
<p>ARP -a [inet_addr] [-N if_addr] [-v]</p>
<p>参数：</p>
<p>-a：通过询问当前协议数据，显示当前 ARP 项。如果指定 inet_addr，则只显示指定计算机的 IP 地址和物理地址。如果不止一个网络接口使用 ARP，则显示每个ARP 表的项。</p>
<p><img src="/images/image-20210811204306821.png" srcset="/img/loading.gif" lazyload alt="image-20210811204306821"></p>
<p>-v 在详细模式下显示当前 ARP 项。所有无效项和环回接口上的项都将显示。inet_addr 指定 Internet 地址。</p>
<p>-N if_addr 显示 if_addr 指定的网络接口的 ARP 项。</p>
<p>-d 删除 inet_addr 指定的主机。inet_addr 可以是通配符 *，以删除所有主机。</p>
<p>-s 添加主机并且将 Internet 地址 inet_addr 与物理地址 eth_addr 相关联。物理地址是用连字符分隔的 6 个十六进制字节。该项是永久的。</p>
<p>eth_addr 指定物理地址。</p>
<p>if_add 如果存在，此项指定地址转换表应修改的接口的 Internet 地址。如果不存在，则使用第一个适用的接口。</p>
<p>示例:</p>
<p>&gt; ARP -s 157.55.85.212 00-aa-00-62-c6-09  添加静态项。</p>
<p>&gt; ARP -a   显示 ARP 表。</p>
</li>
<li><p>逆地址解析协议 RARP（Reverse Address Resolution Protocol）</p>
<p>允许局域网的物理机器从网关服务器的 ARP 表或者缓存上请求其 IP 地址。当设置一台新的机器时，其 RARP 客户机程序需要向路由器上的 RARP 服务器请求相应的 IP 地址。假设在路由表中已经设置了一个记录，RARP 服务器将会返回 IP 地址给机器，此机器就会存储起来以便日后使用。 RARP 可以使用于以太网、光纤分布式数据接口及令牌环 LAN。</p>
<p>物理地址（MAC）→RARP 协议→IP 地址</p>
</li>
<li><p>internet 控制报文协议 ICMP（Internet Control Message Protocol）</p>
<p>1）基本概念</p>
<p>用于在 IP 主机、路由器之间传递控制消息。控制消息是指网络通不通、主机是否可达、路由是否可用等网络本身的消息。这些控制消息虽然并不传输用户数据，但是对于用户数据的传递起着重要的作用。侦测远端主机是否存在；建立及维护路由资料；重导资料传送路径（ICMP 重定向）；资料流量控制。</p>
<p>2）ICMP 格式</p>
<p> ICMP 使用时，一般伴随 IP 使用：</p>
<p><img src="/images/image-20210811205833205.png" srcset="/img/loading.gif" lazyload alt="image-20210811205833205"></p>
<p>ICMP 报文具体格式如下：除去数据部分，ICMP 数据报文一共有 8 个字节。</p>
<p><img src="/images/image-20210811210015845.png" srcset="/img/loading.gif" lazyload alt="image-20210811210015845"></p>
<p>3）ICMP 类型</p>
<p><img src="/images/image-20210811210114675.png" srcset="/img/loading.gif" lazyload alt="image-20210811210114675"></p>
</li>
<li><p>internet 管理协议 IGMP（Internet Group Management Protocol）</p>
<p>因特网协议家族中的一个组播协议，用于 IP 主机向任一个直接相邻的路由器报告他们的组成员情况。它规定了处于不同网段的主机如何进行多播通信，其前提条件是路由器本身要支持多播。</p>
</li>
</ol>
<h2 id="4-2-IP-地址"><a href="#4-2-IP-地址" class="headerlink" title="4.2 IP 地址"></a>4.2 IP 地址</h2><h3 id="4-2-1-IPV4"><a href="#4-2-1-IPV4" class="headerlink" title="4.2.1 IPV4"></a>4.2.1 IPV4</h3><ol>
<li><p>IPV4 概念</p>
<p>1）IPV4 地址的概念</p>
<p>IP（Internet Protocol Address）地址是指互联网协议地址，是 IP Address 的缩写。<strong>在互联网上的每一台计算机分配唯一的一个逻辑地址，即 IP 地址。</strong>使用 IP 地址来进行广域网的寻址和数据报的传输。</p>
<p>2）IPV4 地址的特点</p>
<p>a. 唯一性</p>
<p>在 Internet 上的计算机所拥有的 IP 地址是不同的，即网络中不能有两台主机同时使用同一个 IP 地址。如果使用会造成 IP 地址冲突，使得后使用者不能使用 IP 地址进行网路连接。</p>
<p>一台计算机上可以设置多个 IP 地址，但是使用的时候只能用其中的 1 个发送数据或作为计算机的唯一标识。</p>
<p>b. 固定长度</p>
<p>IPV4 地址是由 32 位二进制表示的，在 IPV4 地址中理论可以放  2<sup>32</sup> 个 IP 地址，当然去掉一部分特殊的 IP 地址后，使得 IP 地址的总数量会减少。</p>
<p>c. 点分十进制</p>
<p>由于 32 位二进制不容易记忆和书写，所以在书写 IP 地址的时候，需要用到点分十进制书写，即把32位二进制平均分成4个字节，然后把二进制数转化为十进制书写，中间用点号隔开。转化后十进制数值不大于 255。</p>
<p><img src="/images/image-20210811211122740.png" srcset="/img/loading.gif" lazyload alt="image-20210811211122740"></p>
<p>d. 可变性</p>
<p>计算机拥有的 IP 地址不是固定不变的，当计算机所在的网络发生变化后，其 IP地址也要跟着发生变化。注意这里的变化指的是网络发生变化不是计算机的位置变化。</p>
<p>注意：逻辑（IP）地址可变，但是物理（MAC）地址不可变。</p>
<p>e. 组成</p>
<p><strong>IP 地址由两部分组成：{ &lt;网络号&gt;，&lt;主机号&gt;}</strong></p>
<p>网络号：表示计算机所在的网络，路由器在进行路由选择的时候使用的。</p>
<p>主机号：表示网络中的某台主机，是计算机在某个网络中的唯一标识。</p>
<p>网络号相同的计算机可以不经过路由器的转发就可以直接通信。</p>
</li>
<li><p>IPv4 分类</p>
<p>1）国际分类标准</p>
<p>根据 32 位中的第一个字节的不同，可以将 IP 地址分为 ABCDE 五大类。</p>
<p><img src="/images/image-20210811211444124.png" srcset="/img/loading.gif" lazyload alt="image-20210811211444124"></p>
<p>2）使用范围分类</p>
<ol>
<li><p>公有 IP 地址</p>
<p>公有地址由 Inter NIC（Internet Network Information Center 因特网信息中心）负责分配。当有组织机构提出申请后，可以由 Inter NIC 分配给该机构一个公有的 IP 地址。通过公有 IP 可直接访问因特网。</p>
</li>
<li><p>私有 IP 地址</p>
<p>私有地址不需要注册，可以直接使用的地址，一般在公司内部使用。</p>
<p>常见的私有地址有：</p>
<p>A 类 10.0.0.0–10.255.255.255</p>
<p>B 类 172.16.0.0–172.31.255.255</p>
<p>C 类 192.168.0.0–192.168.255.255</p>
</li>
<li><p>计算机不能直接使用</p>
<p>有些计算机的 IP 地址是不能直接被计算机使用：</p>
<ul>
<li>主机号全为 0 的地址表示网络号。</li>
<li>主机号全为 1 的地址表示本网广播地址。</li>
<li>32 位全为 1 表示广播地址</li>
<li>127 开头的地址是本地回环地址，是用来测试 TCP/IP 协议的正确性。</li>
<li>当计算机自动获取 IP 地址失败后，会获取一个 169.254.*.*地址，这部分地址是用来标识计算机的，不能用于网络通信使用</li>
</ul>
</li>
<li><p>IP 地址汇总</p>
<p><img src="/images/image-20210811213000667.png" srcset="/img/loading.gif" lazyload alt="image-20210811213000667"></p>
</li>
<li><p>子网掩码</p>
<ol>
<li><p>子网掩码概念</p>
<p>子网掩码是一种用来指明一个 IP 地址的网络位和主机位，知道了 IP 地址的网络位，就可以确定计算机 IP 地址所在的网络，知道了主机位就可以确定该 IP 地址所在网络的位置。</p>
</li>
<li><p>子网掩码功能</p>
<p>子网掩码不能单独存在，它必须结合 IP 地址一起使用。</p>
<p>子网掩码是一个 32 位地址，一般在书写的时候也是点分十进制表示。</p>
<p><strong>在子网掩码中，1 表示网络位，0 表示主机位</strong>。</p>
</li>
<li><p>默认子网掩码</p>
<p>A 类网络的子网掩码为 255.0.0.0，B 类网络的子网掩码为 255.255.0.0，C 类网络的子网掩码为 255.255.255.0。</p>
</li>
<li><p>求网络号</p>
<p>主机号全为 0 的地址表示网络号。</p>
<p>第一步把 IP 地址转化为二进制。</p>
<p>第二步把子网掩码转化为二进制。</p>
<p>第三步保留子网掩码中 1 所对应的部分，主机位用 0 填充。</p>
<p>第四步转为点分十进制。</p>
<p>求 IP 地址为 192.172.123.125，子网掩码为 255.255.255.240 的网络号？</p>
<p><img src="/images/image-20210811213843272.png" srcset="/img/loading.gif" lazyload alt="image-20210811213843272"></p>
</li>
<li><p>求广播号</p>
<p>主机号全为 1 的地址表示广播号。</p>
<p>第一步把 IP 地址转化为二进制。</p>
<p>第二步把子网掩码转化为二进制。</p>
<p>第三步保留子网掩码中 1 所对应的部分，主机位用 1 填充。</p>
<p>第四步转为点分十进制。</p>
<p>求 IP 地址为 192.172.123.125，子网掩码为 255.255.255.240 的网络号？</p>
<p><img src="/images/image-20210811214013844.png" srcset="/img/loading.gif" lazyload alt="image-20210811214013844"></p>
</li>
<li><p>求主机号</p>
<p>第一步把 IP 地址转化为二进制。</p>
<p>第二步把子网掩码转化为二进制。</p>
<p>第三步保留子网掩码中 0 所对应的部分。</p>
<p>求 IP 地址为 192.172.123.125，子网掩码为 255.255.255.240 的主机号？</p>
<p><img src="/images/image-20210811214102623.png" srcset="/img/loading.gif" lazyload alt="image-20210811214102623"></p>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="4-2-2-子网划分"><a href="#4-2-2-子网划分" class="headerlink" title="4.2.2 子网划分"></a>4.2.2 子网划分</h3><ol>
<li><p>划分子网划分的好处</p>
<p>节约 IP 地址，避免浪费，使得大网络划分成小的网络，这样可以分配给公司使用，能很好的解决 IP 地址紧缺的问题。</p>
<p>限定广播的传播，可以把计算机网络中的广播限制在一个小的广播域。</p>
<p>保证网络的安全，有助于覆盖大型地理区域。</p>
</li>
<li><p>子网数量计算</p>
<p>形成子网的数量计算：从主机位借位当网络位来使用。</p>
<p><img src="/images/image-20210811214250580.png" srcset="/img/loading.gif" lazyload alt="image-20210811214250580"></p>
</li>
<li><p>子网划分例题</p>
<p>C 类地址例子：网络地址 202.168.10.0；子网掩码 255.255.255.192 。</p>
<p>第一步：子网数= （原来 C 类默认是 24 位子网掩码，现在有 26 位子网掩码，借了 2 位）</p>
<p>第二步：主机数= 2<sup>6</sup>=64（计算机网络可用主机的数量是 64-2=62 个） </p>
<p>第三步：有效主机范围是：</p>
<p><img src="/images/image-20210811214652287.png" srcset="/img/loading.gif" lazyload alt="image-20210811214652287"></p>
</li>
</ol>
<h3 id="4-2-3-IP-转发"><a href="#4-2-3-IP-转发" class="headerlink" title="4.2.3 IP 转发"></a>4.2.3 IP 转发</h3><ol>
<li><p>局域网内</p>
<p>同一局域网内计算机之间通信是根据 IP 地址和 MAC 地址的对应信息直接通信，不需要经过路由器端口的转发，只需要保证计算机的 IP 地址是在同一网段中就可以。同一网段的问题涉及到的是子网划分技术。</p>
</li>
<li><p>广域网</p>
<p>广域网通信主要是利用计算机的 IP 地址进行寻址和通信，数据报需要经过多个路由器的转发，不断的变化 MAC 地址，最终根据目的地址（IP）找到目的主机。</p>
<p>在通信过程中，需要涉及到网络安全，不能泄漏内部网路的地址信息，所以数据需要进行数据传输的时候要考虑到以下的措施：第一在广域网上传输时，内部 MAC 地址不能传输到外部网络。第二内部的 IP 地址需要经过 Nat 技术变化为外部的 IP 地址。但变换后的 IP 地址信息就不再发生变化了。</p>
<p>广域网进行路径选择的时候需要录用路由表的信息，寻找合适的路径。</p>
</li>
<li><p>IP 报文传输</p>
<p><img src="/images/image-20210811215020902.png" srcset="/img/loading.gif" lazyload alt="image-20210811215020902"></p>
<p>在传输过程中：下一层的帧是看不到上一层数据的控制信息，只能查看本层的数据协议信息，并且对其封装和转发。</p>
<p>网络层的逻辑寻址：在整个传输过程中 IP 的源地址和目的地址不变。</p>
<p>数据链路层物理寻址：在整个传输过程中 MAC 帧的物理地址不断变化。</p>
<p>物理层的信号传输：物理层主要是负责信号的实际传输。</p>
</li>
</ol>
<h3 id="4-2-4-IP-报文格式"><a href="#4-2-4-IP-报文格式" class="headerlink" title="4.2.4 IP 报文格式"></a>4.2.4 IP 报文格式</h3><p>IP 数据包也叫 IP 报文分组，传输在 ISO 网络 7 层结构中的网络层，它由 IP 报文头和 IP 报文用户数据组成，IP 报文头的长度一般在 20 到 60 个字节之间，其中固定长度是 20 字节，而一个 IP 分组的最大长度则不能超过 65535 个字节，在传输中一般不会超过 65525 的长度，在数据帧中有最大传输单元 MTU 的限制。</p>
<p><img src="/images/image-20210811215203709.png" srcset="/img/loading.gif" lazyload alt="image-20210811215203709"></p>
<ol>
<li><p>版本（4 位）</p>
<p>指 IP 协议的版本，0100 表示 IPV4，0110 表示 IPV6。在通信时，计算机所使用的 IP 版本号必须相同。</p>
</li>
<li><p>首部长度（4 位）</p>
<p>范围是 0000—1111，最小为 0，最大为 15。1 个单位 4 字节，IP 的首部长度的最大值是 60 字节。</p>
</li>
<li><p>区分服务（8 位）</p>
<p>用来获得更好的服务。</p>
<p>前 3 位表示报文的优先级：111 网络控制；110 互联网控制；101 紧急；100 火速覆盖；011 火速；010 立即；001 优先级；000 路由。</p>
<p><img src="/images/image-20210811215437480.png" srcset="/img/loading.gif" lazyload alt="image-20210811215437480"></p>
<p>相应的位数上为 1 表示更低时延、更高的吞吐量、更高的可靠性、更低的路由代价等。</p>
</li>
<li><p>总长度（16 位）</p>
<p>指首部和数据之和的长度，单位为字节，数据长度不超过最大传送单元 MTU。理论最大长度为 65535 字节。包头总长度必须是 32 位节的整数倍。</p>
<p>若数据报长度超过对于 MTU 的值，就将数据报进行分片处理，此时数据报首部中的总长度字段是指分片后的每一个分片的报头长度和数据长度之和。</p>
</li>
<li><p>标识（16 位）</p>
<p>是一个计数器，用来产生数据报的标识。每产生一个数据报，计数器就加 1，并将值赋给标识字段。但是这个标识不是序号，因为 IP 是无连接服务，数据报不存在按序接收的问题。</p>
<p>当数据报进行分片处理后，每个分片的标识值都与原数据报的标识值相同，则在接收端具有相同标识值的分片就能最终正确的重装成为原来的数据报。</p>
</li>
<li><p>标志（3 位）</p>
<p><img src="/images/image-20210811215702678.png" srcset="/img/loading.gif" lazyload alt="image-20210811215702678"></p>
<p>MF=1 表示后面“还有分片”。MF=0 表示最后一个分片。</p>
<p>只有当 DF=0 时才允许分片。</p>
</li>
<li><p>片偏移（13 位）</p>
<p>用于指明分段起始点相对于报头起始点的偏移量，即当前接收的分片需要从从包头处向后移动的数量。可以使接收者按照正确的顺序重组数据包。片偏移以 8 个字节为单位。（计算过程见后 15 点）</p>
</li>
<li><p>生存时间（8 位）</p>
<p><strong>TTL（Time To Live）数据报在网络中可通过的路由器数的最大值</strong>。用于防止数据包在网络上无休止地被传输；长度 8 位，最大值 255，每经过一台路由器 TTL 被减 1。</p>
</li>
<li><p>协议（8 位）</p>
<p>字段指出此数据报携带的数据使用何种协议。</p>
<p><img src="/images/image-20210811215905498.png" srcset="/img/loading.gif" lazyload alt="image-20210811215905498"></p>
</li>
<li><p>首部检验和（16 位）</p>
<p>针对 IP 报头的纠错字段。</p>
</li>
<li><p>源地址（32 位）</p>
<p>发送方的 IP 地址。</p>
</li>
<li><p>目的地址（32 位）</p>
<p>接收方的 IP 地址。</p>
<p>IP 地址在传输过程中不变。</p>
</li>
<li><p>可变部分</p>
<p>被添加在 IP 报头中，包括源点产生的信息和其它路由器加入的信息；可选字段，主要用于测试，长度可变、支持排错、测量以及安全等措施等。</p>
</li>
<li><p>填充</p>
<p>通过在可选字段后面添加 0 来补足 32 位，为了确保报头长度是 32 的倍数。</p>
</li>
<li><p>片偏移的计算</p>
<p>例题：数据报的总长度为 2450 字节，使用固定首部，需要分片为长度不超过 1000字节的数据报片。</p>
<p>数据总长度是 2450 字节，去掉 20 字节的首部，则剩余 2430 字节的数据部分，现在分片的长度不超过 1000 字节，所以可以把数据分为 3 部分。3 部分数据的长度分别为 1000、1000、430 字节，在每个分片前加上 20 字节的首部。</p>
<p><img src="/images/image-20210811220136153.png" srcset="/img/loading.gif" lazyload alt="image-20210811220136153"></p>
</li>
</ol>
<h3 id="4-2-5-IPv6"><a href="#4-2-5-IPv6" class="headerlink" title="4.2.5 IPv6"></a>4.2.5 IPv6</h3><ol>
<li><p>IPV6 概念</p>
<p>IPv6 是 Internet Protocol Version 6 的缩写，是下一代 IP 地址，用于替代现行版本IP 协议（IPv4）的下一代 IP 协议，目的是为解决 IP 地址紧缺的问题。扩大地址的可用空间，满足计算机网路增长的需求。</p>
</li>
<li><p>IPv6 的主要特点</p>
<p>IPv6 将地址 32 位（IPV4）增大到了 128 位二进制，使得地址数量变为原来的 2<sup>96</sup> 倍，地址数量更多，适应未来网络扩展的需求。</p>
<p>IPV6 简化了报文头，包头有 8 个字节，加快报文转发，提高了吞吐量。</p>
<p>IPV6 中路由器可以简化过滤选项，加快了报文处理速度。</p>
<p>IPV6 增加了身份认证和隐私权的特征，提高安全性。</p>
<p>IPV6 支持更多的服务类型。</p>
<p>IPV6 增加协议继续演变，使之适应未来技术的发展；</p>
</li>
<li><p>IPv6 表示方法</p>
<p>1）冒分十六进制表示法</p>
<p>格式为 X:X:X:X:X:X:X:X，其中每个 X 表示地址中的 16b，以十六进制表示，例如：fec0：0000：0000：0000：0000：ffff：1abd：0001</p>
<p>这种表示法中，连续的 0000 是可以简写为 0，例如：</p>
<p>fec0：0：0：0：0：ffff：1abd：1</p>
<p>2）0 位压缩表示法</p>
<p>可以把连续的一段 0 压缩为“：：”。但地址中”：：”只能出现一次，例如：fec0：0：0：0：ffff：0：0：1 可以写成  fec0：：ffff：0：0：1 或 fec0：0：0：0：ffff：：1</p>
<p>3）兼容 IPv4 地址表示法</p>
<p>0:0:0:0:0:0:128.10.2.1 再使用零压缩即可得出：::128.10.2.1</p>
</li>
<li><p>IPV6 的地址格式</p>
<p><img src="/images/image-20210811222327129.png" srcset="/img/loading.gif" lazyload alt="image-20210811222327129"></p>
<p>版本号（4 位）：主要区别 IPv4，其二进制值为（0110）。</p>
<p>流量等级（8 位）：主要用于 QoS。</p>
<p>流标签（20 位）：用来标识同一个流里面的报文。</p>
<p>载荷长度（16 位）： IPv6 包头部后包含的字节数，包含扩展头部。</p>
<p>下一报头（8 位）：该字段用来指明报头后接的报文头部的类型，若存在扩展头，表示第一个扩展头的类型。</p>
<p>跳数限制（8 位）：TTL 生存时间（参照路由协议）。</p>
<p>源地址（128 位）：发送端地址。</p>
<p>目的地址（128 位）：接收端地址。</p>
</li>
<li><p>IPv6 地址类型</p>
<p>单播：单播就是传统的点对点通信。</p>
<p>多播：多播是一点对多点的通信。</p>
<p>任播：这是 IPv6 增加的一种类型。任播的目的站是一组计算机，但数据报在交付时只交付其中的一个，通常是距离最近的一个。</p>
</li>
</ol>
<h2 id="4-3-路由器"><a href="#4-3-路由器" class="headerlink" title="4.3 路由器"></a>4.3 路由器</h2><h2 id="4-4-广域网技术"><a href="#4-4-广域网技术" class="headerlink" title="4.4 广域网技术"></a>4.4 广域网技术</h2><h1 id="5-传输层"><a href="#5-传输层" class="headerlink" title="5. 传输层"></a>5. 传输层</h1><h2 id="5-1-传输层基本概述"><a href="#5-1-传输层基本概述" class="headerlink" title="5.1 传输层基本概述"></a>5.1 传输层基本概述</h2><h2 id="5-2-TCP-协议"><a href="#5-2-TCP-协议" class="headerlink" title="5.2 TCP 协议"></a>5.2 TCP 协议</h2><h2 id="5-3-UDP-协议"><a href="#5-3-UDP-协议" class="headerlink" title="5.3 UDP 协议"></a>5.3 UDP 协议</h2><h2 id="5-4-传输层技术"><a href="#5-4-传输层技术" class="headerlink" title="5.4 传输层技术"></a>5.4 传输层技术</h2><h1 id="6-应用层"><a href="#6-应用层" class="headerlink" title="6. 应用层"></a>6. 应用层</h1><h1 id="7-无线网络"><a href="#7-无线网络" class="headerlink" title="7. 无线网络"></a>7. 无线网络</h1><h1 id="8-信息安全"><a href="#8-信息安全" class="headerlink" title="8. 信息安全"></a>8. 信息安全</h1><h2 id="8-1-信息安全概述"><a href="#8-1-信息安全概述" class="headerlink" title="8.1 信息安全概述"></a>8.1 信息安全概述</h2><h2 id="8-2-安全技术手段"><a href="#8-2-安全技术手段" class="headerlink" title="8.2 安全技术手段"></a>8.2 安全技术手段</h2><h2 id="8-3-计算机病毒"><a href="#8-3-计算机病毒" class="headerlink" title="8.3 计算机病毒"></a>8.3 计算机病毒</h2>
            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">计算机基础知识</a>
                    
                  </div>
                
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2021/08/10/8.%20%E8%81%8C%E6%B5%8B%E8%8B%B1%E8%AF%AD/">
                        <span class="hidden-mobile">职测英语</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.3/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.1/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js" ></script>



  <script  src="/js/local-search.js" ></script>






  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>















<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
